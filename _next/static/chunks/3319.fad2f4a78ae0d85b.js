"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3319],{32209:function(e,n,i){var a=i(85893),l=i(96788);let t=(0,i(77527).ZP)(e=>(0,a.jsx)(l.Z,{component:"p",variant:"caption",...e}))(e=>{let{theme:n}=e;return{color:n.palette.text.secondary,"& a":{color:n.palette.green.dark,textDecoration:"none"},"& a:visited":{color:n.palette.green.dark},"& a:hover, span:hover":{textDecoration:"underline"}}});n.Z=t},13319:function(e,n,i){i.r(n),i.d(n,{default:function(){return W}});var a=i(85893),l=i(67294),t=i(9473),o=i(41664),r=i.n(o),s=i(25675),d=i.n(s),c=i(60990),u=i(60762),p=i(97182),x=i(96788),h=i(92365),v=i(40110),m=i(71604),g={width:{xs:"60px",sm:"65px"},minWidth:{xs:"60px",sm:"65px"},maxWidth:{xs:"75px",sm:"none"},minHeight:"55px",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"rgba(255, 255, 255, 1.0)",padding:e=>e.spacing(1),margin:"2px",borderRadius:"5px","& div":{textAlign:"center"},"& .temp-label":{display:"flex",justifyContent:"space-between",fontSize:{xs:"8px",sm:"9px"}},"& .daily-date":{fontSize:{xs:"10px",sm:"9px"}}},f=i(69858),y=i(51336),b=function(e){let{dailyweather:n}=e;return(0,a.jsxs)(c.Z,{sx:g,children:[(0,a.jsx)("div",{className:"daily-date",children:n.day}),(0,a.jsx)("div",{children:(0,a.jsx)(d(),{unoptimized:!0,src:n.icon,height:25,width:25,loader:m.imageLoader,alt:n.day})}),(0,a.jsxs)("div",{className:"temp-label",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(f.Z,{fontSize:"12px"}),(0,a.jsxs)("strong",{children:[n.temp_mean,"\xb0"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(y.Z,{fontSize:"12px"}),n.wind_speed]})]})]})},j=i(32209),w={card:{backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",minWidth:{xs:"0",sm:"380px"},width:{xs:"100%",sm:"auto"},maxWidth:{xs:"100%",sm:"380px"},marginTop:e=>e.spacing(3),padding:e=>e.spacing(2),borderRadius:e=>e.spacing(1),"& h5":{marginBottom:e=>e.spacing(2),fontSize:"18px"},"& h6":{fontSize:"16px"},"& .span-source":{"& a":{color:e=>e.palette.primary.main,textDecoration:"none"},"& a:hover":{color:e=>e.palette.third.main}}},cardInfo:{backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",width:"100%",maxWidth:{xs:"100%",sm:"490px"},padding:e=>e.spacing(1),marginTop:e=>e.spacing(3),fontSize:{xs:"11px",sm:"14px"},"& td":{padding:{xs:0,sm:"1px"}}},weathertoday:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",columnGap:"12px",flexDirection:"row",flexWrap:"wrap","& .icon-temp":{display:"flex",alignItems:"center",gap:"10px"},"& .temperature":{fontSize:"30px",fontWeight:"bold"},"& .weather-details":{paddingTop:0,marginLeft:0,fontSize:"10px",textAlign:"left",marginLeft:"auto"}},info:{minWidth:"285px",minHeight:"90px",padding:e=>e.spacing(2),marginTop:e=>e.spacing(2),textAlign:"center","& p":{color:"red",fontSize:"12px"}},forecastScroller:{width:"100%",overflow:"visible",paddingBottom:e=>e.spacing(1)},forecastRow:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(62px, 1fr))",gap:e=>e.spacing(.75),width:"100%"}},S=i(80934),_=i(13311),C=function(e){var n,i;let{sel_options:t,weather:o,forecast:s,record:g,isSmallScreen:f=!1,onLocationChange:y}=e,C=["Barangay","Municipality","Province","Association"],[M,Z]=(0,l.useState)(!1),[A,L]=(0,l.useState)({province:null,municipality:null}),[z,O]=(0,l.useState)(0),[I,R]=(0,l.useState)(!1),[N,B]=(0,l.useState)(0),W=()=>Z(!0),P=()=>Z(!1);(0,l.useEffect)(()=>{var e,n,i,a;L({province:(null==t?void 0:null===(e=t.sel_province)||void 0===e?void 0:e.label)?(0,_.c)(null==t?void 0:null===(n=t.sel_province)||void 0===n?void 0:n.label):null,municipality:(null==t?void 0:null===(i=t.sel_municipality)||void 0===i?void 0:i.label)?(0,_.c)(null==t?void 0:null===(a=t.sel_municipality)||void 0===a?void 0:a.label):null})},[null==t?void 0:null===(n=t.sel_province)||void 0===n?void 0:n.label,null==t?void 0:null===(i=t.sel_municipality)||void 0===i?void 0:i.label]);let D=e=>{L(e),null==y||y(e)};return f?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(c.Z,{sx:{position:"fixed",left:0,right:0,bottom:0,zIndex:9998,backgroundColor:"#fff",borderTopLeftRadius:16,borderTopRightRadius:16,boxShadow:"0 -8px 24px rgba(0,0,0,0.25)",overflow:"hidden",height:M?"85vh":"56px",transform:M?"translateY(".concat(Math.max(0,z),"px)"):"translateY(calc(100% - 56px + ".concat(Math.max(0,z),"px))"),transition:I?"none":"transform 0.25s ease",display:"flex",flexDirection:"column"},onClick:()=>{M||W()},onTouchStart:e=>{var n;let i=null===(n=e.touches)||void 0===n?void 0:n[0];i&&(R(!0),B(i.clientY),O(0))},onTouchMove:e=>{var n;if(!I)return;let i=null===(n=e.touches)||void 0===n?void 0:n[0];i&&O(i.clientY-N)},onTouchEnd:()=>{I&&(M&&z>60?P():!M&&z<-60&&W(),R(!1),O(0))},children:[(0,a.jsx)(c.Z,{sx:{width:48,height:5,borderRadius:3,bgcolor:"#c7c7c7",alignSelf:"center",marginTop:1,marginBottom:1}}),(0,a.jsx)(h.Z,{sx:{pb:1,pt:0},children:(0,a.jsx)(x.Z,{variant:"h6",sx:{fontWeight:600,fontSize:"18px",textAlign:"center"},children:"Today's Weather & 10-Day Forecast"})}),(0,a.jsx)(v.Z,{sx:{px:{xs:2,sm:3},pb:2,overflowY:"auto",pointerEvents:M?"auto":"none"},children:(0,a.jsxs)(c.Z,{sx:{pb:1},children:[(0,a.jsxs)(u.Z,{variant:"outlined",sx:w.card,style:{backgroundColor:"rgba(139, 195, 74, 0.5)"},children:[(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(x.Z,{variant:"h5",children:"MIMAROPA Region Weather Today"}),(0,a.jsx)(S.Z,{value:A,onChange:D})]}),t.loading&&(0,a.jsx)(c.Z,{sx:w.info,style:{minWidth:f?window.innerWidth-80:"285px"},children:(0,a.jsx)(p.Z,{size:24,color:"secondary"})}),""===t.error&&!t.loading&&null!==t.sel_municipality&&""!==o.description&&(0,a.jsxs)(c.Z,{sx:w.weathertoday,children:[(0,a.jsxs)("div",{className:"icon-temp",children:[(0,a.jsx)(d(),{unoptimized:!0,src:o.icon,height:70,width:70,loader:m.imageLoader,alt:o.description}),(0,a.jsxs)("div",{className:"temperature",children:[o.temp,"\xb0C"]})]}),(0,a.jsxs)("div",{className:"weather-details",children:[(0,a.jsxs)("div",{children:["Date today: ",o.datenow]}),(0,a.jsxs)("div",{children:["Humidity: ",o.humidity]}),(0,a.jsxs)("div",{children:["Wind speed: ",o.wind]}),(0,a.jsx)("div",{children:o.description?"".concat(o.description.charAt(0).toUpperCase()).concat(o.description.slice(1)):""})]})]}),""===t.error&&!t.loading&&null===t.sel_municipality&&(0,a.jsx)(c.Z,{sx:w.info,style:{minWidth:f?window.innerWidth-80:"285px"},children:(0,a.jsx)("p",{children:"\xa0"})}),""!==t.error&&(0,a.jsx)(c.Z,{sx:w.info,style:{minWidth:f?window.innerWidth-80:"285px"},children:(0,a.jsx)("p",{children:t.error})})]}),s.length>0&&(0,a.jsxs)(u.Z,{variant:"outlined",sx:w.card,style:{marginTop:"10px",paddingBottom:"2px"},children:[(0,a.jsx)(x.Z,{variant:"h6",children:"10-Day Rainfall Forecast"}),(0,a.jsxs)(j.Z,{sx:{marginBottom:"16px",fontSize:"11px"},children:["View the full 10-Day Weather Forecast"," ",(0,a.jsx)(r(),{href:"/weather-services",children:"here"}),"."]}),(0,a.jsx)(c.Z,{sx:w.forecastScroller,children:(0,a.jsx)(c.Z,{sx:w.forecastRow,children:s.map((e,n)=>(0,a.jsx)(c.Z,{children:(0,a.jsx)(b,{dailyweather:e})},"daily-".concat(n)))})}),(0,a.jsxs)(x.Z,{variant:"caption",style:{fontSize:"10px"},className:"span-source",children:["source:"," ",(0,a.jsx)(r(),{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/10-day-climate-forecast",children:"PAGASA's 10-Day Climate Forecast"})]})]}),null!==g&&(0,a.jsx)(u.Z,{variant:"outlined",sx:w.cardInfo,children:(0,a.jsx)("table",{children:(0,a.jsx)("tbody",{children:C.map((e,n)=>["lat","lon"].includes(e)?(0,a.jsx)("tr",{},n):(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("b",{children:[e,":"]})}),(0,a.jsx)("td",{children:g[e.toLowerCase()]?(0,_.c)(g[e.toLowerCase()]):""})]},n))})})})]})})]})}):(0,a.jsxs)(c.Z,{sx:{position:"absolute",top:e=>e.constants.navbar.outerHeight-35,right:"24px",marginLeft:"24px",zIndex:400,maxWidth:420},className:"mui-fixed",children:[(0,a.jsxs)(u.Z,{variant:"outlined",sx:w.card,style:{backgroundColor:"rgba(139, 195, 74, 0.5)"},children:[(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(x.Z,{variant:"h5",children:"MIMAROPA Region Weather Today"}),(0,a.jsx)(S.Z,{value:A,onChange:D})]}),t.loading&&(0,a.jsx)(c.Z,{sx:w.info,style:{minWidth:f?window.innerWidth-80:"285px"},children:(0,a.jsx)(p.Z,{size:24,color:"secondary"})}),""===t.error&&!t.loading&&null!==t.sel_municipality&&""!==o.description&&(0,a.jsxs)(c.Z,{sx:w.weathertoday,children:[(0,a.jsxs)("div",{className:"icon-temp",children:[(0,a.jsx)(d(),{unoptimized:!0,src:o.icon,height:70,width:70,loader:m.imageLoader,alt:o.description}),(0,a.jsxs)("div",{className:"temperature",children:[o.temp,"\xb0C"]})]}),(0,a.jsxs)("div",{className:"weather-details",children:[(0,a.jsxs)("div",{children:["Date today: ",o.datenow]}),(0,a.jsxs)("div",{children:["Humidity: ",o.humidity]}),(0,a.jsxs)("div",{children:["Wind speed: ",o.wind]}),(0,a.jsx)("div",{children:o.description?"".concat(o.description.charAt(0).toUpperCase()).concat(o.description.slice(1)):""})]})]}),""===t.error&&!t.loading&&null===t.sel_municipality&&(0,a.jsx)(c.Z,{sx:w.info,style:{minWidth:f?window.innerWidth-80:"285px"},children:(0,a.jsx)("p",{children:"\xa0"})}),""!==t.error&&(0,a.jsx)(c.Z,{sx:w.info,style:{minWidth:f?window.innerWidth-80:"285px"},children:(0,a.jsx)("p",{children:t.error})})]}),s.length>0&&(0,a.jsxs)(u.Z,{variant:"outlined",sx:w.card,style:{marginTop:"10px",paddingBottom:"2px"},children:[(0,a.jsx)(x.Z,{variant:"h6",children:"10-Day Rainfall Forecast"}),(0,a.jsxs)(j.Z,{sx:{marginBottom:"16px",fontSize:"11px"},children:["View the full 10-Day Weather Forecast"," ",(0,a.jsx)(r(),{href:"/weather-services",children:"here"}),"."]}),(0,a.jsx)(c.Z,{sx:w.forecastScroller,children:(0,a.jsx)(c.Z,{sx:w.forecastRow,children:s.map((e,n)=>(0,a.jsx)(c.Z,{children:(0,a.jsx)(b,{dailyweather:e})},"daily-".concat(n)))})}),(0,a.jsxs)(x.Z,{variant:"caption",style:{fontSize:"10px"},className:"span-source",children:["source:"," ",(0,a.jsx)(r(),{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/10-day-climate-forecast",children:"PAGASA's 10-Day Climate Forecast"})]})]}),f&&null!==g&&(0,a.jsx)(u.Z,{variant:"outlined",sx:w.cardInfo,children:(0,a.jsx)("table",{children:(0,a.jsx)("tbody",{children:C.map((e,n)=>["lat","lon"].includes(e)?(0,a.jsx)("tr",{},n):(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("b",{children:[e,":"]})}),(0,a.jsx)("td",{children:g[e.toLowerCase()]})]},n))})})})]})};let M={Marinduque:["Boac","Buenavista","Gasan","Mogpog","Santa Cruz","Torrijos"],"Occidental Mindoro":["Abra de Ilog","Calintaan","Looc","Lubang","Magsaysay","Mamburao","Paluan","Rizal","Sablayan","San Jose","Santa Cruz"],"Oriental Mindoro":["Baco","Bongabong","Bulalacao","City of Calapan","Gloria","Mansalay","Naujan","Pinamalayan","Pola","Puerto Galera","Roxas","San Teodoro","Socorro","Victoria"],Palawan:["Aborlan","Agutaya","Araceli","Balabac","Bataraza","Brooke's Point","Busuanga","Cagayancillo","Coron","Culion","Cuyo","Dumaran","El Nido","Kalayaan","Linapacan","Magsaysay","Narra","Puerto Princesa City","City of Puerto Princesa","Quezon","Rizal","Roxas","San Vicente","Sofronio Espa\xf1ola","Taytay"],Romblon:["Alcantara","Banton","Cajidiocan","Calatrava","Concepcion","Corcuera","Ferrol","Looc","Magdiwang","Odiongan","Romblon","San Agustin","San Andres","San Fernando","San Jose","Santa Fe","Santa Maria"]};var Z=i(819),A=i(91832),L=i(61984),z=i(25517),O=i(26562);let I={sel_municipality:null,sel_province:"",loading:!0,error:""},R={icon:"https://openweathermap.org/img/wn/10d@2x.png",temp:"00",pressure:"0000 hPa",humidity:"0%",wind:"00 meter/sec"};function N(e){return Math.round((e+Number.EPSILON)*100)/100}function B(e){return e?String(e).split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "):""}var W=function(e){let{record:n,isSmallScreen:i,onSelectMunicipality:o}=e,[r,s]=(0,l.useState)(I),[d,c]=(0,l.useState)(R),[u,p]=(0,l.useState)([]),[x,h]=(0,l.useState)(!1),v=(0,t.I0)(),{ids:m,entities:g,municipalities:f,province:y}=(0,t.v9)(e=>e.provinces),{municipality:b}=(0,t.v9)(e=>e.municipalities),{ids:j,entities:w,status:S}=(0,t.v9)(e=>e.tendayweather);(0,l.useEffect)(()=>{v((0,Z.QA)(null))},[v]),(0,l.useEffect)(()=>{if(!(null==m?void 0:m.length))return;let e=Object.values(g||{});if(!e.length)return;let n=e.find(e=>(null==e?void 0:e.label)==="Marinduque")||e.find(e=>(null==e?void 0:e.label)==="Marinduque")||e[0];v((0,A.Wn)(n)),v((0,L.R)(n.label)).unwrap().then(()=>h(!0)).catch(()=>h(!0))},[v,m,g]),(0,l.useEffect)(()=>{if(!(null==j?void 0:j.length)||S!==z.G.FULLFILLED||!x||!y)return;let e=y.label,n=(null==f?void 0:f[e])||[];v((0,Z.X4)(n));let i=n.find(e=>(null==e?void 0:e.label)==="Boac")||n.find(e=>(null==e?void 0:e.label)==="Boac")||n[0]||null,a=b||i;v((0,Z.QA)(a))},[v,j,S,x,y,f,b]),(0,l.useEffect)(()=>{null!==b&&x&&y&&s(e=>({...e,sel_province:y,sel_municipality:b}))},[b,y,x]),(0,l.useEffect)(()=>{if(S===z.G.FULLFILLED&&x&&(null==r?void 0:r.sel_municipality)&&(null==r?void 0:r.sel_province)&&!(u.length>0))try{var e;null==o||o(r.sel_municipality.label,r.sel_province.label);let n=function(e){var n;let{tendayEntities:i,provinceLabel:a,municipalityLabel:l}=e;if(!i||!a||!l)return null;let t=Object.values(i).filter(Boolean),o=t.find(e=>{var n;return((null==e?void 0:e.province)===a||(null==e?void 0:null===(n=e.province)||void 0===n?void 0:n.label)===a)&&(null==e?void 0:e.municipality)===l&&"string"==typeof(null==e?void 0:e.data)});if(null==o?void 0:o.data)try{let e=JSON.parse(o.data);if(Array.isArray(e))return e}catch(e){return null}let r=t.find(e=>(null==e?void 0:e.municipality)===l&&"string"==typeof(null==e?void 0:e.data));if((null==r?void 0:r.data)&&function(e){if(!e)return null;for(let[n,i]of Object.entries(M))if(i.includes(e))return n;return null}(l)===a)try{let e=JSON.parse(r.data);if(Array.isArray(e))return e}catch(e){return null}let s=t.find(e=>(null==e?void 0:e.province)===a||(null==e?void 0:e.label)===a||(null==e?void 0:e.id)===a||(null==e?void 0:e.name)===a)||null,d=null==s?void 0:null===(n=s.municipalities)||void 0===n?void 0:n[l];return Array.isArray(d)?d:null}({tendayEntities:w,provinceLabel:r.sel_province.label,municipalityLabel:r.sel_municipality.label});if(!n||!n.length){s(e=>({...e,loading:!1,error:"No 10-day data found for ".concat(r.sel_municipality.label,", ").concat(r.sel_province.label)}));return}let i=n.map(e=>{var n,i,a,l,t,o,r,s;return{day_format:e.day_format||e.dayFormat||e.day||"",tmean:null!==(l=null!==(a=null!==(i=null!==(n=e.tmean)&&void 0!==n?n:e.temp_mean)&&void 0!==i?i:e.tempMean)&&void 0!==a?a:e.tavg)&&void 0!==l?l:0,wspeed:null!==(r=null!==(o=null!==(t=e.wspeed)&&void 0!==t?t:e.wind_speed)&&void 0!==o?o:e.windSpeed)&&void 0!==r?r:0,humidity:null!==(s=e.humidity)&&void 0!==s?s:0,rainfall:e.rainfall||e.rain||"",cover:e.cover||e.cloud_cover||e.cloudCover||""}}),a=new Date().toDateString(),l=a.substring(0,a.length-5),t=i.find(e=>e.day_format===l)||i[0],d={icon:(null===O.Sx||void 0===O.Sx?void 0:null===(e=O.Sx.rainfall)||void 0===e?void 0:e[t.rainfall])!==void 0?"images/icons/weather/".concat(O.Sx.rainfall[t.rainfall]):"images/icons/weather/blank_weather.png",temp:Math.round(t.tmean),precipitation:null,humidity:"".concat(N(t.humidity),"%"),datenow:a,wind:"".concat(N(t.wspeed)," mps"),description:"".concat(B(t.rainfall),", ").concat(B(t.cover))},u=i.map(e=>{var n;let i=e.day_format?new Date("".concat(e.day_format,", ").concat(new Date().getFullYear())):new Date;return{day:e.day_format,wind_speed:N(e.wspeed),temp_mean:N(e.tmean),icon:e.rainfall&&(null===O.Sx||void 0===O.Sx?void 0:null===(n=O.Sx.rainfall)||void 0===n?void 0:n[e.rainfall])?"images/icons/weather/".concat(O.Sx.rainfall[e.rainfall]):"images/icons/weather/blank_weather.png",date:i.toLocaleDateString("en-US"),description:""}});c(d),p(u),s(e=>({...e,loading:!1,error:""}))}catch(e){s(n=>({...n,loading:!1,error:(null==e?void 0:e.message)||"Failed to parse 10-day data"}))}},[S,w,u.length,null==r?void 0:r.sel_municipality,null==r?void 0:r.sel_province,x,o]);let _=(0,l.useCallback)(async(e,n)=>{if(!(null==n?void 0:n.label))return;let i=((null==f?void 0:f[n.label])||[]).find(n=>n.label===e);i&&(p([]),s(e=>({...e,sel_municipality:i,sel_province:n,loading:!0,error:""})),v((0,L.R)(n.label)))},[f,v]),W=async(e,n)=>{let{label:i,from:a}=n||{};if(i)switch(a){case"province":p([]),v((0,A.Wn)(n)),v((0,L.R)(i)),v((0,Z.X4)([]));break;case"municipality":if(v((0,Z.QA)({id:n.id,label:n.label,iscalendar:n.iscalendar,province:null==n?void 0:n.province})),void 0===n.id){s(e=>({...e,sel_municipality:null,loading:!1})),c(R),p([]),null==o||o(null,null);return}_(n.label,(null==n?void 0:n.province)||y)}else switch(a){case"province":v((0,A.jg)()),v((0,Z.X4)([]));break;case"municipality":v((0,Z.QA)(null))}};return(0,a.jsx)(C,{sel_options:r,weather:d,forecast:u,record:n,isSmallScreen:i,onSelectItemChange:W,onLocationChange:e=>{let n=String((null==e?void 0:e.province)||"").trim(),i=String((null==e?void 0:e.municipality)||"").trim();if(!n){W(null,{from:"province"});return}let a=Object.values(g||{}).find(e=>{var i;return(null==e?void 0:null===(i=e.label)||void 0===i?void 0:i.toLowerCase())===n.toLowerCase()});if(a&&a.label!==(null==y?void 0:y.label)&&W(null,{...a,from:"province"}),!i){W(null,{from:"municipality"});return}let l=a||y;if(!(null==l?void 0:l.label))return;let t=((null==f?void 0:f[l.label])||[]).find(e=>{var n;return(null==e?void 0:null===(n=e.label)||void 0===n?void 0:n.toLowerCase())===i.toLowerCase()});t&&t.label!==(null==b?void 0:b.label)?W(null,{...t,from:"municipality"}):t||W(null,{from:"municipality"})}})}},80934:function(e,n,i){i.d(n,{Z:function(){return u}});var a=i(85893),l=i(67294),t=i(60990),o=i(25837),r=i(26541),s=i(96788),d=i(97416),c=JSON.parse('{"up":[{"name":"Marinduque","municipalities":["Boac","Buenavista","Gasan","Mogpog","Santa Cruz","Torrijos"]},{"name":"Occidental Mindoro","municipalities":["Abra de Ilog","Calintaan","Looc","Lubang","Magsaysay","Mamburao","Paluan","Rizal","Sablayan","San Jose","Santa Cruz"]},{"name":"Oriental Mindoro","municipalities":["Baco","Bongabong","Bulalacao","City of Calapan","Gloria","Mansalay","Naujan","Pinamalayan","Pola","Puerto Galera","Roxas","San Teodoro","Socorro","Victoria"]},{"name":"Palawan","municipalities":["Aborlan","Agutaya","Araceli","Balabac","Bataraza","Brooke\'s Point","Busuanga","Cagayancillo","Coron","Culion","Cuyo","Dumaran","El Nido","Kalayaan","Linapacan","Magsaysay","Narra","Puerto Princesa City","Quezon","Rizal","Roxas","San Vicente","Sofronio Espa\xf1ola","Taytay"]},{"name":"Romblon","municipalities":["Alcantara","Banton","Cajidiocan","Calatrava","Concepcion","Corcuera","Ferrol","Looc","Magdiwang","Odiongan","Romblon","San Agustin","San Andres","San Fernando","San Jose","Santa Fe","Santa Maria"]}]}');function u(e){let{onLocationChange:n,onChange:i,value:u}=e,[p,x]=(0,l.useState)((null==u?void 0:u.province)||null),[h,v]=(0,l.useState)((null==u?void 0:u.municipality)||null),[m,g]=(0,l.useState)((null==u?void 0:u.province)||""),[f,y]=(0,l.useState)((null==u?void 0:u.municipality)||""),[b,j]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=!0;return(0,d.$m)().then(n=>{e&&(null==n?void 0:n.data)&&j(n.data)}).catch(e=>{console.error("Failed to fetch provinces:",e)}),()=>{e=!1}},[]),(0,l.useEffect)(()=>{x((null==u?void 0:u.province)||null),v((null==u?void 0:u.municipality)||null),g((null==u?void 0:u.province)||""),y((null==u?void 0:u.municipality)||"")},[null==u?void 0:u.province,null==u?void 0:u.municipality]);let w=(0,l.useMemo)(()=>b?b.map(e=>e.label):(c.up||[]).map(e=>e.name),[b]),S=(0,l.useMemo)(()=>{if(!p)return[];if(b){let e=b.find(e=>e.label.toLowerCase()===String(p).toLowerCase());return e?e.municipalities.map(e=>e.label):[]}let e=(c.up||[]).find(e=>e.name.toLowerCase()===String(p).toLowerCase());return e?e.municipalities:[]},[p,b]);return(0,a.jsxs)(t.Z,{sx:{display:"flex",flexDirection:"column",gap:.5,mb:1},children:[(0,a.jsxs)(t.Z,{children:[(0,a.jsx)(s.Z,{variant:"body2",sx:{mb:.5,fontSize:"12px",fontWeight:500},children:"Province"}),(0,a.jsx)(o.Z,{freeSolo:!0,options:w,value:p,inputValue:m,onChange:(e,a)=>{x(a||null),v(null),y("");let l={province:a||null,municipality:null};n&&n(l),i&&i(l)},onInputChange:(e,n)=>g(n),slotProps:{popper:{sx:{zIndex:1e4}}},sx:{width:"100%","& .MuiOutlinedInput-root":{backgroundColor:"rgba(139, 195, 74, 0.3)","&:hover":{backgroundColor:"rgba(139, 195, 74, 0.4)"},"&.Mui-focused":{backgroundColor:"rgba(139, 195, 74, 0.3)"}},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(139, 195, 74, 0.5)"},"& .MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(139, 195, 74, 0.7)"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#8BC34A"}},renderInput:e=>(0,a.jsx)(r.Z,{...e,size:"small",placeholder:"Select or type province",sx:{"& input":{fontSize:"14px"}}})})]}),(0,a.jsxs)(t.Z,{children:[(0,a.jsx)(s.Z,{variant:"body2",sx:{mb:.5,fontSize:"12px",fontWeight:500},children:"Municipality"}),(0,a.jsx)(o.Z,{freeSolo:!0,options:S,value:h,inputValue:f,onChange:(e,a)=>{v(a||null);let l={province:p||null,municipality:a||null};n&&n(l),i&&i(l)},onInputChange:(e,n)=>y(n),disabled:!p,slotProps:{popper:{sx:{zIndex:1e4}}},sx:{width:"100%","& .MuiOutlinedInput-root":{backgroundColor:"rgba(139, 195, 74, 0.3)","&:hover":{backgroundColor:"rgba(139, 195, 74, 0.4)"},"&.Mui-focused":{backgroundColor:"rgba(139, 195, 74, 0.3)"},"&.Mui-disabled":{backgroundColor:"rgba(139, 195, 74, 0.15)"}},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(139, 195, 74, 0.5)"},"& .MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(139, 195, 74, 0.7)"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#8BC34A"}},renderInput:e=>(0,a.jsx)(r.Z,{...e,size:"small",placeholder:"Select or type municipality",sx:{"& input":{fontSize:"14px"}}})})]})]})}},26562:function(e,n,i){i.d(n,{J4:function(){return a},Sx:function(){return t},Y1:function(){return l}});let a=[{icon:"cc_sunny_49.svg",label:"No rain",nowrap:!0},{icon:"rainfall_light_rain_49.svg",label:"Light rain"},{icon:"rainfall_moderate_rain_49.svg",label:"Moderate rain"},{icon:"rainfall_heavy_rain_49.svg",label:"Heavy rain"},{icon:"blank_weather.png",label:"Heavy rain",hidden:!0}],l=[{icon:"cc_sunny_49.svg",label:"Sunny"},{icon:"cc_mostly_sunny_49.svg",label:"Mostly sunny"},{icon:"cc_partly_cloudy_49.svg",label:"Partly cloudy"},{icon:"cc_mostly_cloudy_49.svg",label:"Mostly cloudy"},{icon:"cc_cloudy_49.svg",label:"Cloudy"}],t={rainfall:{"NO RAIN":"cc_sunny_49.svg","LIGHT RAINS":"rainfall_light_rain_49.svg","MODERATE RAINS":"rainfall_moderate_rain_49.svg","HEAVY RAINS":"rainfall_heavy_rain_49.svg"},cloudCover:{SUNNY:"cc_sunny_49.svg","MOSTLY SUNNY":"cc_mostly_sunny_49.svg","PARTLY CLOUDY":"cc_partly_cloudy_49.svg","MOSTLY CLOUDY":"cc_mostly_cloudy_49.svg",CLOUDY:"cc_cloudy_49.svg"}}},13311:function(e,n,i){i.d(n,{c:function(){return a}});function a(e){if(!e)return"";try{return decodeURIComponent(escape(e))}catch(n){return e.replace(/Ã±/g,"\xf1").replace(/Ã‘/g,"\xd1").replace(/Ã¡/g,"\xe1").replace(/Ã©/g,"\xe9").replace(/Ã³/g,"\xf3").replace(/Ã­/g,"\xed").replace(/Ã¼/g,"\xfc").replace(/Ã/g,"\xed")}}}}]);