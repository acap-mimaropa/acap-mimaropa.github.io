(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6448],{77536:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return $}});var i=n(85893),a=n(67294),r=n(25675),o=n.n(r),s=n(41664),l=n.n(s),c=n(36795),d=n(60990),h=n(52857),u=n(88539),p=n(18853),m=n(71604),x=n(98813),f=n(3063),g=n(51015),y={button:{"& a, span":{color:e=>e.palette.primary.light,textDecoration:"none"},"& a:visited":{color:e=>e.palette.primary.light},"& a:hover":{color:"#fff"},"& span:hover":{color:"#fff"},fontSize:12},buttonSide:{"& a":{color:e=>e.palette.text.primary,textDecoration:"none"},"& a:visited":{color:"#000"},"& a:hover, span:hover":{color:e=>e.palette.primary.main}},buttonSelectedNav:{"& a, span":{color:e=>e.palette.third.main,textDecoration:"none"},"& a:visited":{color:e=>e.palette.third.main},fontSize:12},buttonSelectedSide:{color:e=>e.palette.third.main,"& a":{color:e=>e.palette.third.main,textDecoration:"none"},"& a:visited":{color:e=>e.palette.third.main}},subButtonSelected:{"& a, span":{color:e=>e.palette.text.primary,textDecoration:"none",textAlign:"left",textTransform:"capitalize",fontWeight:"normal",fontSize:16},"& a:visited":{color:"#000"},"& a:hover, span:hover":{color:e=>e.palette.secondary.main},width:"100%",justifyContent:"flex-start"},dropMainButton:{"& a, span":{color:e=>e.palette.secondary.main,textDecoration:"none",textAlign:"left",textTransform:"capitalize",fontWeight:"normal",fontSize:12},"& a:visited":{color:"#000"},width:"100%",justifyContent:"flex-start"},menuContainerRegular:{width:"100% !important",display:{xs:"block"},"& .MuiPaper-root":{borderTop:e=>"5px solid ".concat(e.palette.third.main),minWidth:"270px",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important"}}},b=function(e){let[t,n]=(0,a.useState)(null),{href:r,query:o="",name:s,id:c,active:d,subitems:h=[],layout:u="horizontal",searchopts:p=!1}=e,{isParent:m=!1,isNavItem:x=!0,IconMain:b=null,IconSub:v=null,onItemClick:S}=e;(0,a.useEffect)(()=>{let e=()=>n(null);return window.addEventListener("resize",e),()=>{window.addEventListener("resize",e)}},[]);let j=e=>{n(e.currentTarget)},w=(e,t)=>{n(null),S(e,t,h.length>0)};return(0,i.jsx)("div",{style:{display:p?"none":"block"},children:(0,i.jsx)(g.Z,{color:"inherit",id:c,sx:d?x?y.buttonSelectedNav:y.buttonSelectedSide:x?y.button:y.buttonSide,style:y.dropMainButton,onClick:e=>S(e,c,0===h.length),children:m?(0,i.jsxs)("div",{style:{width:"100%"},children:[(0,i.jsxs)("span",{onClick:e=>j(e),style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[s,null!==b&&(0,i.jsx)(b,{})]}),(0,i.jsx)(f.Z,{id:"submenu-item",anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!t,onClose:w,MenuListProps:{onMouseLeave:w},sx:y.menuContainerRegular,children:h.map((e,t)=>(0,i.jsx)(l(),{href:"".concat(e.href,"/#").concat(e.query),query:e.query,passHref:!0,legacyBehavior:!0,children:(0,i.jsx)(g.Z,{color:"inherit",id:c,sx:d?y.subButtonSelected:y.button,style:{display:"flex",displayDirection:"horizontal"===u?"row":"column"},onClick:e=>w(e,c,0===h.length),children:(0,i.jsxs)("a",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[e.name,null!==v&&(0,i.jsx)(v,{sx:{height:16}})]})})},"sub-".concat(e.href,"-").concat(t)))})]}):(0,i.jsx)(l(),{href:r,query:o,children:s})})})},v=n(11163),S=n(44921),j=n(18938),w=n(88002),C=n(25837),A=n(26541),E=n(96788),D=n(93454),k=n(35299),I=n(71740),Z={searchbar:{width:{xs:"205px",smol:"245px",b4xs:"380px"},minWidth:"parent",borderRadius:"5px",backgroundColor:"#fff","& .MuiAutocomplete-option":{backgroundColor:"red !important",color:"blue"}},textfield:{"& .MuiOutlinedInput-root":{"& > fieldset":{border:"none !important"}}},listbox:{maxHeight:"500px","& li":{borderRadius:"6px",marginTop:"8px"},"& :hover":{"& h6, svg":{color:e=>e.palette.secondary.main}}},paperbg:{borderRadius:"6px",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",marginTop:"-2px",padding:"8px",border:"1px solid rgba(0, 0, 0, 0.12)"}},O=function(e){let{search:t,options:n,currentval:a,onSelectItemChange:r,handleSearchClick:o,onTextChange:s}=e;return(0,i.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(C.Z,{disablePortal:!0,id:"search-key",value:a,options:n,getOptionLabel:e=>e.label,filterOptions:e=>e,sx:Z.searchbar,style:{display:t?"block":"none"},size:"small",PaperComponent:function(e){return(0,i.jsx)(D.Z,{elevation:5,...e,sx:Z.paperbg})},ListboxProps:{sx:Z.listbox},noOptionsText:"No results found.",isOptionEqualToValue:(e,t)=>e.id===t.id,onInputChange:s,onChange:(e,t)=>r(e,{...t}),renderOption:(e,t)=>(0,i.jsx)("li",{...e,children:(0,i.jsxs)(d.Z,{display:"flex",flexDirection:"row",children:[(0,i.jsx)(t.icon,{size:"24"}),(0,i.jsxs)(d.Z,{display:"flex",ml:3,flexDirection:"column",children:[(0,i.jsx)(E.Z,{variant:"subtitle1",color:"text.primary",children:(0,i.jsx)("strong",{children:t.label})}),(0,i.jsx)(E.Z,{variant:"body2",color:"text.secondary",children:t.info})]})]})}),renderInput:e=>(0,i.jsx)(A.Z,{...e,autoFocus:!0,focused:!0,placeholder:"Search",sx:Z.textfield,inputRef:e=>e&&e.focus()})}),(0,i.jsx)(h.Z,{size:"large","aria-label":"Search button","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:o,color:"inherit",sx:Z.searchicon,children:t?(0,i.jsx)(I.Z,{}):(0,i.jsx)(k.Z,{})})]})},L=n(39486),P=n(93721),R=n(65614),T=n(43795),_=n(65151),z=n(8214);let N=[{path:"/",name:"Home",icon:L.Z},{path:"weather-services",icon:P.Z},{path:"cropping-calendar",icon:R.Z},{path:"agroclimatic-services",icon:T.Z},{path:"bulletins",icon:_.Z},{path:"admin",icon:z.Z}];var G=function(e){let{search:t,handleSearchClick:n}=e,{documents:r}=(0,j.Kx)(w.K.PAGE_SEARCH,"id"),[o,s]=(0,a.useState)(null),[l,c]=(0,a.useState)(null),[d,h]=(0,a.useState)([]),[u,p]=(0,a.useState)({}),[m,x]=(0,a.useState)(null),f=function(e,t){let[n,i]=(0,a.useState)(e);return(0,a.useEffect)(()=>{let t=setTimeout(()=>{i(e)},500);return()=>{clearTimeout(t)}},[e,500]),n}(l,0),g=(0,v.useRouter)();(0,a.useEffect)(()=>{if(r.length>0){let e=new S.Z.Index({tokenize:"full",matcher:"simple",cache:!0});r.forEach(t=>{e.add(t.id,t.content)}),p(r.reduce((e,t)=>{let n=N.find(e=>e.path===("index"===t.id?"/":t.id)),i=n?n.icon:N[4].icon;return void 0===e?{[t.id]:{name:t.name,info:t.info,icon:i,path:t.path}}:{...e,[t.id]:{name:t.name,info:t.info,icon:i,path:t.path}}},{})),s(e)}},[r]),(0,a.useEffect)(()=>{f&&o&&h(o.search(f,{limit:10,suggest:!0}).map((e,t)=>({id:t,label:u[e].name,info:u[e].info,icon:u[e].icon,href:"index"===e?"/":"/".concat(u[e].path)})))},[f,o,u]);let y=()=>{h([]),x(null),c(null)};return(0,i.jsx)(O,{search:t,word:l,options:d,currentval:m,onSelectItemChange:(e,t)=>{void 0===t.id?y():(x(t),g.push(t.href))},handleSearchClick:()=>{t&&(h([]),x(null)),n()},onTextChange:e=>{if(!e)return;let{value:t}=e.target;""===t?y():c(t)}})},M={weather:{href:"/weather-services",name:"ACAP Services",subitems:[{href:"/weather-services",query:"ten-day-weather-forecast",name:"10-Day Weather Forecast"},{href:"/weather-services",query:"seasonal-forecast",name:"Seasonal Forecast"},{href:"/weather-services",query:"special-weather-forecast",name:"Special Weather Forecast"},{href:"/weather-services",query:"support-services",name:"Support Services"}]},calendar:{href:"/cropping-calendar-v2",name:"Cropping Calendar",subitems:[]},agroclimatic:{href:"/agroclimatic-services",name:"Recommendations",subitems:[{href:"/agroclimatic-services",query:"seasonal-recommendations",name:"Regional Seasonal Climate Outlook and Advisory"},{href:"/agroclimatic-services",query:"resilient-practices",name:"10-Day Farm Weather Outlook and Advisory"}]},bulletins:{href:"/bulletins",name:"Bulletins",subitems:[]}},W=e=>({width:"100%",display:"flex",alignItems:"stretch",paddingLeft:"0 !important",marginLeft:"0 !important",paddingRight:0,color:e.palette.primary.main}),B={width:"100%",minHeight:0,borderBottom:e=>"4px solid ".concat(e.palette.third.main),backgroundColor:e=>e.palette.primary.main,paddingLeft:"0 !important",marginLeft:"0 !important"},F={width:"100%",display:"flex",justifyContent:{sm:"space-between",md:"flex-end"},alignItems:"center",backgroundColor:e=>e.palette.primary.main,flexDirection:{xs:"column",sm:"row"},color:e=>e.palette.primary.light,paddingTop:0,paddingBottom:0,paddingLeft:"0 !important",paddingRight:{xs:0,md:8},height:"100%"},H=e=>({zIndex:999,width:{xs:"auto",md:330},[e.breakpoints.down("980")]:{width:300},margin:0,padding:0,cursor:"pointer",display:"flex",alignItems:"stretch",height:"100%",flexShrink:0,backgroundColor:e.palette.primary.light,borderRight:"none"}),q=e=>({width:{xs:"auto",md:330},[e.breakpoints.down("980")]:{width:300},margin:0,padding:0,cursor:"pointer",display:"flex",alignItems:"stretch",height:"100%",flexShrink:0,visibility:"hidden"}),Y={display:"grid",placeContent:"center",textAlign:"center",textDecoration:"none","& h5":{fontSize:14,margin:0,textDecoration:"none"},"& h4":{fontSize:10,margin:0,textDecoration:"none"}},J={backgroundColor:e=>e.palette.primary.light,width:"100%",display:{xs:"none",md:"flex"},alignItems:"center",justifyContent:"center",padding:"6px 10px 6px 10px",textDecoration:"none","& span:first-child":{width:"45px !important",display:{xs:"none !important",md:"block !important"}},gap:4,"& h5, h4":e=>({fontFamily:"Roboto",fontSize:"1rem",lineHeight:1.05,fontWeight:"bold",textTransform:"uppercase",textAlign:"center",color:e.palette.primary.main,margin:0,whiteSpace:"nowrap",textDecoration:"none",borderBottom:"none"}),"& h4":{fontWeight:"normal",fontSize:"0.85rem",marginTop:1,textDecoration:"none",borderBottom:"none"},height:"100%"},K=n(84370),V=n(48379),U=n(73378);let X=Object.keys(M).reduce((e,t)=>(e[t]=!1,e),{}),Q={search:!1,loading:!1,info:"",error:""};var $=function(){let[e,t]=(0,a.useState)(X),[n,r]=(0,a.useState)(null),[s,g]=(0,a.useState)(Q),v=(0,p.aC)();(0,a.useEffect)(()=>{let e=()=>r(null);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let S=function(e,n){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i?(t({...X,[n]:!0}),r(null)):t({...X,[n]:!0})},j=(e,t)=>{r(null),S(t)},w=()=>{g(e=>({...e,search:!e.search}))};return(0,i.jsx)(c.Z,{position:"sticky",sx:B,children:(0,i.jsxs)(d.Z,{sx:W,id:"header-contents",children:[(0,i.jsx)(l(),{href:"/",legacyBehavior:!0,children:(0,i.jsx)("a",{style:{textDecoration:"none"},children:(0,i.jsx)(d.Z,{sx:{minHeight:{sm:"none"}},children:(0,i.jsx)(d.Z,{sx:H,children:(0,i.jsxs)(d.Z,{sx:J,children:[(0,i.jsx)(o(),{unoptimized:!0,src:(0,m.assetPrefixer)("images/logos/amia-logo.png"),height:50,width:50,loader:m.imageLoader,alt:"Agro-Climatic Advisory Portal - ".concat(x.nF," (ACAP-").concat(x.Gt,")")}),(0,i.jsxs)(d.Z,{sx:Y,children:[(0,i.jsxs)("h5",{children:["Agro-Climatic Advisory",(0,i.jsx)("br",{}),"Portal - ",x.Gt]}),(0,i.jsxs)("h4",{children:["(ACAP-",x.Gt,")"]})]})]})})})})}),(0,i.jsx)(d.Z,{sx:{minHeight:{sm:"none",visibility:"hidden"}},children:(0,i.jsx)(d.Z,{sx:q,style:{visibility:"hidden"},children:(0,i.jsxs)(d.Z,{sx:J,style:{visibility:"hidden"},children:[(0,i.jsx)(o(),{unoptimized:!0,src:(0,m.assetPrefixer)("images/logos/da-logo.png"),height:45,width:45,loader:m.imageLoader,alt:"".concat(x.nF," Agro-Climatic Advisory Portal")}),(0,i.jsxs)(d.Z,{sx:Y,children:[(0,i.jsxs)("h5",{children:["Agro-Climatic Advisory",(0,i.jsx)("br",{}),"Portal - ",x.Gt]}),(0,i.jsxs)("h4",{children:["(ACAP-",x.Gt,")"]})]})]})})}),(0,i.jsxs)(u.Z,{variant:"dense",disableGutters:!0,sx:F,children:[(0,i.jsxs)(d.Z,{sx:{width:"100%",flexGrow:1,justifyContent:"space-between",display:{xs:"flex",md:"none"}},children:[(0,i.jsx)(h.Z,{size:"large","aria-haspopup":"true",onClick:e=>r(e.currentTarget),color:"inherit",children:(0,i.jsx)(K.Z,{})}),(0,i.jsx)(l(),{href:"/",legacyBehavior:!0,children:(0,i.jsx)("a",{style:{textDecoration:"none",width:"100%"},children:(0,i.jsxs)(d.Z,{sx:J,style:{display:s.search?"none":"flex",width:"100%",justifyContent:"center"},children:[(0,i.jsx)(o(),{unoptimized:!0,src:(0,m.assetPrefixer)("images/logos/da-logo.png"),height:60,width:60,loader:m.imageLoader,alt:"".concat(x.nF," Agro-Climatic Advisory Portal")}),(0,i.jsxs)("div",{className:"acap-title",children:[(0,i.jsxs)("h5",{children:["Agro-Climatic Advisory",(0,i.jsx)("br",{}),"Portal - ",x.Gt]}),(0,i.jsxs)("h4",{children:["(ACAP-",x.Gt,")"]})]})]})})}),s.search&&(0,i.jsx)(G,{search:s.search,handleSearchClick:w}),(0,i.jsxs)(f.Z,{id:"menu-appbar",elevation:0,anchorEl:n,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!n,onClose:j,sx:y.menuContainerRegular,children:[Object.keys(M).map((t,n)=>{let a=M[t].subitems.length>0;return(0,i.jsx)(b,{href:M[t].href,name:M[t].name,id:t,active:e[t],isParent:a,isNavItem:!1,IconMain:V.Z,IconSub:U.Z,subitems:M[t].subitems,onItemClick:S},n)}),(0,i.jsx)(b,{href:null!==v.user?v.user.accountlevel===x.DW.ADMIN?"/admin":"/superadmin":"/admin/login",name:null!==v.user?v.user.accountlevel===x.DW.ADMIN?"Admin":"Superadmin":"Login",id:"admin",active:!1,isNavItem:!1,layout:"vertical",onItemClick:()=>j("admin")}),(0,i.jsx)(b,{href:"#",name:"Search",id:"sm-search",active:!1,isNavItem:!1,layout:"vertical",preventnavs:!0,onItemClick:e=>{j(e,"sm-search"),w()}})]})]}),(0,i.jsxs)(d.Z,{sx:{flexGrow:1,justifyContent:"flex-end",alignItems:"center",display:{xs:"none",md:"flex"}},children:[Object.keys(M).map((t,n)=>{let a=M[t].subitems.length>0;return(0,i.jsx)(b,{href:M[t].href,name:M[t].name,id:t,active:e[t],isParent:a,IconMain:V.Z,IconSub:U.Z,subitems:M[t].subitems,searchopts:s.search,onItemClick:e=>S(e,t)},n)}),(0,i.jsx)(b,{href:null!==v.user?v.user.accountlevel===x.DW.ADMIN?"/admin":"/superadmin":"/admin/login",name:null!==v.user?v.user.accountlevel===x.DW.ADMIN?"Admin":"Superadmin":"Login",id:"admin",active:!1,searchopts:s.search,onItemClick:()=>{}}),(0,i.jsx)(G,{search:s.search,handleSearchClick:w})]})]})]})})}},18938:function(e,t,n){"use strict";n.d(t,{Kx:function(){return s},ky:function(){return o},m$:function(){return l},tl:function(){return c}});var i=n(67294),a=n(36100),r=n(56871);function o(e,t){let[n,o]=(0,i.useState)(null),[s,l]=(0,i.useState)(!0),[c,d]=(0,i.useState)(""),h=(0,i.useRef)(!0);return(0,i.useEffect)(()=>((async()=>{try{let n=(0,a.JU)(r.db,e,t),i=await (0,a.QT)(n);h.current&&(i.exists()&&o(i.data()),l(!1))}catch(e){d(e.message),l(!1)}})(),()=>h.current=!1),[e,t]),[n,s,c]}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,[s,l]=(0,i.useState)([]),[c,d]=(0,i.useState)(!0),[h,u]=(0,i.useState)(""),p=(0,i.useRef)(!0);return(0,i.useEffect)(()=>((async()=>{try{let i=[(0,a.Xo)(t,"asc")];o>0&&i.push((0,a.b9)(o));let s=(0,a.hJ)(r.db,e),c=n||(0,a.IO)(s,...i),h=await (0,a.PL)(c);p.current&&(l(h.docs.map(e=>({...e.data()}))),d(!1))}catch(e){u(e.message),d(!1)}})(),()=>p.current=!1),[e,t,n,o]),{documents:s,loading:c,error:h}}function l(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",[s,l]=(0,i.useState)([]),[c,d]=(0,i.useState)(!0),[h,u]=(0,i.useState)(""),p=(0,i.useRef)(!0);return(0,i.useEffect)(()=>((async()=>{try{let i=(0,a.IO)((0,a.hJ)(r.db,e,t,n),(0,a.Xo)(o)),s=await (0,a.PL)(i);p.current&&(l(s.docs.map(e=>({...e.data()}))),d(!1))}catch(e){u(e.message),d(!1)}})(),()=>p.current=!1),[e,t,n,o]),{documents:s,loading:c,error:h}}function c(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4?arguments[4]:void 0,[l,c]=(0,i.useState)([]),[d,h]=(0,i.useState)(!0),[u,p]=(0,i.useState)(""),m=(0,i.useRef)(!0);return(0,i.useEffect)(()=>((async()=>{try{let i=(0,a.hJ)(r.db,e,t,n);""!==o&&(i=(0,a.IO)(i,(0,a.Xo)(o))),s&&(i=(0,a.IO)(i,(0,a.b9)(s)));let l=await (0,a.PL)(i);m.current&&(c(l.docs.map(e=>({...e.data()}))),h(!1))}catch(e){p(e.message),h(!1)}})(),()=>m.current=!1),[e,t,n,o,s]),{documents:l,loading:d,error:u}}},88002:function(e,t,n){"use strict";n.d(t,{K:function(){return s},d:function(){return l}});var i=n(96171),a=n(56871),r=n(98813),o=n(84325);let s={MEDIA_ASSETS:"n_page_media",ASSETS:"n_page_assets",PAGE_SEARCH:"n_page_search",GLOBAL_COLLECTIONS:"w_services",TYPHOON_ADVISORY:"typhoon_advisory",CYCLONE_ADVISORY:"cyclone_advisory"};class l extends i.Z{constructor(...e){var t;super(...e),t=this,this.getPageAssetsDoc=async function(e,n){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=[];try{if(!(a=await t.getDocumentData(s.ASSETS,e)))return[];if(!n)return a;if(i)return a.data.filter(e=>e.page===n);return a.data.filter(e=>e.page===n).map(e=>e.url)}catch(e){throw console.error(e.message),Error(e.message)}},this.getTyphoonAdvisory=async()=>{let e=this.doc(this.db,s.GLOBAL_COLLECTIONS,s.TYPHOON_ADVISORY),t=await this.getDoc(e);return t.exists()?t.data():null},this.getWeatherForecast=async(e,t)=>await this.getNestedCollectionData(s.WEATHER_FORECASTS,e,t,"name"),this.getPdfDownloadURL=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Ry.SEASONAL,n="";switch(t){case o.Ry.SEASONAL:n=r.Do.PDF_STORAGE_SEASONAL;break;case o.Ry.TEN_DAY:n=r.Do.PDF_STORAGE_TENDAY;break;case o.Ry.SPECIAL_WEATHER:n=r.Do.PDF_STORAGE_SPECIAL}try{let t="acap-mimaropa-d77f1.firebasestorage.app";if(t){let i=encodeURIComponent("".concat(n,"/").concat(e));return"https://firebasestorage.googleapis.com/v0/b/".concat(t,"/o/").concat(i,"?alt=media")}let i=(0,a.iH)(a.tO,"".concat(n,"/").concat(e));return await (0,a.Jt)(i)}catch(e){throw Error(e.message)}}}}},15789:function(){}}]);