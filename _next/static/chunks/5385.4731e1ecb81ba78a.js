(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5385,649],{32209:function(e,a,n){"use strict";var i=n(85893),t=n(96788);let r=(0,n(77527).ZP)(e=>(0,i.jsx)(t.Z,{component:"p",variant:"caption",...e}))(e=>{let{theme:a}=e;return{color:a.palette.text.secondary,"& a":{color:a.palette.green.dark,textDecoration:"none"},"& a:visited":{color:a.palette.green.dark},"& a:hover, span:hover":{textDecoration:"underline"}}});a.Z=r},85385:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return en}});var i=n(85893),t=n(9669),r=n.n(t),l=n(67294),o=n(9473),s=n(444),c=n(61730),d=n(5715),u=n(19635),p=n(52013),h=n(84867),x=n(20577),m=n(64049),g=n(60990),y=n(41664),v=n.n(y),f=n(25675),b=n.n(f),S=n(60762),j=n(97182),w=n(68573),C=n(96788),_=n(13490),M=n(71604),A={width:{xs:"60px",sm:"65px"},minWidth:{xs:"60px",sm:"65px"},maxWidth:{xs:"75px",sm:"none"},minHeight:"55px",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"rgba(255, 255, 255, 1.0)",padding:e=>e.spacing(1),margin:"2px",borderRadius:"5px","& div":{textAlign:"center"},"& .temp-label":{display:"flex",justifyContent:"space-between",fontSize:{xs:"8px",sm:"9px"}},"& .daily-date":{fontSize:{xs:"10px",sm:"9px"}}},O=n(69858),I=n(51336),N=function(e){let{dailyweather:a}=e;return(0,i.jsxs)(g.Z,{sx:A,children:[(0,i.jsx)("div",{className:"daily-date",children:a.day}),(0,i.jsx)("div",{children:(0,i.jsx)(b(),{unoptimized:!0,src:a.icon,height:25,width:25,loader:M.imageLoader,alt:a.day})}),(0,i.jsxs)("div",{className:"temp-label",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(O.Z,{fontSize:"12px"}),(0,i.jsxs)("strong",{children:[a.temp_mean,"\xb0"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(I.Z,{fontSize:"12px"}),a.wind_speed]})]})]})},R=n(32209),Z={card:{backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",minWidth:{xs:"0",sm:"380px"},width:{xs:"100%",sm:"auto"},maxWidth:{xs:"100%",sm:"380px"},marginTop:e=>e.spacing(3),padding:e=>e.spacing(2),borderRadius:e=>e.spacing(1),"& h5":{marginBottom:e=>e.spacing(2),fontSize:"18px"},"& h6":{fontSize:"16px"},"& .span-source":{"& a":{color:e=>e.palette.primary.main,textDecoration:"none"},"& a:hover":{color:e=>e.palette.third.main}}},cardInfo:{backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",width:"100%",maxWidth:{xs:"100%",sm:"490px"},padding:e=>e.spacing(1),marginTop:e=>e.spacing(3),fontSize:{xs:"11px",sm:"14px"},"& td":{padding:{xs:0,sm:"1px"}}},weathertoday:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"10px",flexDirection:{xs:"column",b4xs:"row",sm:"row"},"& .icon-temp":{display:"flex",alignItems:"center",gap:"10px"},"& .temperature":{fontSize:"30px",fontWeight:"bold"},"& .weather-details":{paddingTop:"12px",marginLeft:"16px",fontSize:"10px"}},info:{minWidth:"285px",minHeight:"90px",padding:e=>e.spacing(2),marginTop:e=>e.spacing(2),textAlign:"center","& p":{color:"red",fontSize:"12px"}}},L=n(80934),z=function(e){let{sel_options:a,weather:n,forecast:t,record:r,isSmallScreen:o=!1}=e,s=["Barangay","Municipality","Province","Association"],[c,d]=(0,l.useState)(!1),[u,p]=(0,l.useState)("");return o?(0,i.jsxs)(_.Z,{anchor:"bottom",open:c,onOpen:()=>d(!0),onClose:()=>d(!1),disableSwipeToOpen:!1,PaperProps:{sx:{borderTopLeftRadius:16,borderTopRightRadius:16,minHeight:c?"60vh":"80px",maxHeight:"90vh",overflow:"visible"}},children:[(0,i.jsxs)(g.Z,{sx:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",pt:1.5,pb:1,cursor:"pointer",userSelect:"none",backgroundColor:"#f5f5f5",borderTopLeftRadius:16,borderTopRightRadius:16,boxShadow:"0 -2px 8px rgba(0,0,0,0.1)"},onClick:()=>d(!c),children:[(0,i.jsx)(g.Z,{sx:{width:40,height:4,borderRadius:2,bgcolor:"#999",mb:1}}),(0,i.jsx)(C.Z,{variant:"subtitle1",sx:{fontWeight:600,color:"#333"},children:"Today's Weather & 10-Day Forecast"}),(0,i.jsx)(C.Z,{variant:"caption",sx:{color:"#666",fontSize:"11px"},children:c?"Swipe down to close":"Swipe up to view"})]}),c&&(0,i.jsxs)(g.Z,{sx:{p:2,pt:1},children:[(0,i.jsxs)(S.Z,{variant:"outlined",sx:Z.card,style:{backgroundColor:"rgba(139, 195, 74, 0.5)"},children:[(0,i.jsxs)(g.Z,{children:[(0,i.jsx)(C.Z,{variant:"h5",children:"MIMAROPA Region Weather Today"}),(0,i.jsx)(L.Z,{value:u,onChange:p})]}),a.loading&&(0,i.jsx)(g.Z,{sx:Z.info,style:{minWidth:o?window.innerWidth-80:"285px"},children:(0,i.jsx)(j.Z,{size:24,color:"secondary"})}),""===a.error&&!a.loading&&null!==a.sel_municipality&&""!==n.description&&(0,i.jsxs)(g.Z,{sx:Z.weathertoday,children:[(0,i.jsxs)("div",{className:"icon-temp",children:[(0,i.jsx)(b(),{unoptimized:!0,src:n.icon,height:70,width:70,loader:M.imageLoader,alt:n.description}),(0,i.jsxs)("div",{className:"temperature",children:[n.temp,"\xb0C"]})]}),(0,i.jsxs)("div",{className:"weather-details",children:[(0,i.jsxs)("div",{children:["Date today: ",n.datenow]}),(0,i.jsxs)("div",{children:["Humidity: ",n.humidity]}),(0,i.jsxs)("div",{children:["Wind speed: ",n.wind]}),(0,i.jsx)("div",{children:n.description?"".concat(n.description.charAt(0).toUpperCase()).concat(n.description.slice(1)):""})]})]}),""===a.error&&!a.loading&&null===a.sel_municipality&&(0,i.jsx)(g.Z,{sx:Z.info,style:{minWidth:o?window.innerWidth-80:"285px"},children:(0,i.jsx)("p",{children:"\xa0"})}),""!==a.error&&(0,i.jsx)(g.Z,{sx:Z.info,style:{minWidth:o?window.innerWidth-80:"285px"},children:(0,i.jsx)("p",{children:a.error})})]}),t.length>0&&(0,i.jsxs)(S.Z,{variant:"outlined",sx:Z.card,style:{marginTop:"10px",paddingBottom:"2px"},children:[(0,i.jsx)(C.Z,{variant:"h6",children:"10-Day Rainfall Forecast"}),(0,i.jsxs)(R.Z,{sx:{marginBottom:"16px",fontSize:"11px"},children:["View the full 10-Day Weather Forecast"," ",(0,i.jsx)(v(),{href:"/weather-services",children:"here"}),"."]}),(0,i.jsx)(w.ZP,{container:!0,children:t.map((e,a)=>(0,i.jsx)(w.ZP,{item:!0,children:(0,i.jsx)(N,{dailyweather:e})},"daily-".concat(a)))}),(0,i.jsxs)(C.Z,{variant:"caption",style:{fontSize:"10px"},className:"span-source",children:["source:"," ",(0,i.jsx)(v(),{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/10-day-climate-forecast",children:"PAGASA's 10-Day Climate Forecast"})]})]}),null!==r&&(0,i.jsx)(S.Z,{variant:"outlined",sx:Z.cardInfo,children:(0,i.jsx)("table",{children:(0,i.jsx)("tbody",{children:s.map((e,a)=>["lat","lon"].includes(e)?(0,i.jsx)("tr",{},a):(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsxs)("b",{children:[e,":"]})}),(0,i.jsx)("td",{children:r[e.toLowerCase()]})]},a))})})})]})]}):(0,i.jsxs)(g.Z,{sx:{position:"absolute",top:e=>e.constants.navbar.outerHeight-35,right:"24px",marginLeft:"24px",zIndex:400,maxWidth:420},className:"mui-fixed",children:[(0,i.jsxs)(S.Z,{variant:"outlined",sx:Z.card,style:{backgroundColor:"rgba(139, 195, 74, 0.5)"},children:[(0,i.jsxs)(g.Z,{children:[(0,i.jsx)(C.Z,{variant:"h5",children:"MIMAROPA Region Weather Today"}),(0,i.jsx)(L.Z,{value:u,onChange:p})]}),a.loading&&(0,i.jsx)(g.Z,{sx:Z.info,style:{minWidth:o?window.innerWidth-80:"285px"},children:(0,i.jsx)(j.Z,{size:24,color:"secondary"})}),""===a.error&&!a.loading&&null!==a.sel_municipality&&""!==n.description&&(0,i.jsxs)(g.Z,{sx:Z.weathertoday,children:[(0,i.jsxs)("div",{className:"icon-temp",children:[(0,i.jsx)(b(),{unoptimized:!0,src:n.icon,height:70,width:70,loader:M.imageLoader,alt:n.description}),(0,i.jsxs)("div",{className:"temperature",children:[n.temp,"\xb0C"]})]}),(0,i.jsxs)("div",{className:"weather-details",children:[(0,i.jsxs)("div",{children:["Date today: ",n.datenow]}),(0,i.jsxs)("div",{children:["Humidity: ",n.humidity]}),(0,i.jsxs)("div",{children:["Wind speed: ",n.wind]}),(0,i.jsx)("div",{children:n.description?"".concat(n.description.charAt(0).toUpperCase()).concat(n.description.slice(1)):""})]})]}),""===a.error&&!a.loading&&null===a.sel_municipality&&(0,i.jsx)(g.Z,{sx:Z.info,style:{minWidth:o?window.innerWidth-80:"285px"},children:(0,i.jsx)("p",{children:"\xa0"})}),""!==a.error&&(0,i.jsx)(g.Z,{sx:Z.info,style:{minWidth:o?window.innerWidth-80:"285px"},children:(0,i.jsx)("p",{children:a.error})})]}),t.length>0&&(0,i.jsxs)(S.Z,{variant:"outlined",sx:Z.card,style:{marginTop:"10px",paddingBottom:"2px"},children:[(0,i.jsx)(C.Z,{variant:"h6",children:"10-Day Rainfall Forecast"}),(0,i.jsxs)(R.Z,{sx:{marginBottom:"16px",fontSize:"11px"},children:["View the full 10-Day Weather Forecast"," ",(0,i.jsx)(v(),{href:"/weather-services",children:"here"}),"."]}),(0,i.jsx)(w.ZP,{container:!0,children:t.map((e,a)=>(0,i.jsx)(w.ZP,{item:!0,children:(0,i.jsx)(N,{dailyweather:e})},"daily-".concat(a)))}),(0,i.jsxs)(C.Z,{variant:"caption",style:{fontSize:"10px"},className:"span-source",children:["source:"," ",(0,i.jsx)(v(),{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/10-day-climate-forecast",children:"PAGASA's 10-Day Climate Forecast"})]})]}),o&&null!==r&&(0,i.jsx)(S.Z,{variant:"outlined",sx:Z.cardInfo,children:(0,i.jsx)("table",{children:(0,i.jsx)("tbody",{children:s.map((e,a)=>["lat","lon"].includes(e)?(0,i.jsx)("tr",{},a):(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsxs)("b",{children:[e,":"]})}),(0,i.jsx)("td",{children:r[e.toLowerCase()]})]},a))})})})]})},P=n(50649),E=n(819),T=n(91832),B=n(61984),D=n(25517),W=n(26562);let k={sel_municipality:null,sel_province:"",loading:!0,error:""},G={icon:"https://openweathermap.org/img/wn/10d@2x.png",temp:"00",pressure:"0000 hPa",humidity:"0%",wind:"00 meter/sec"};function F(e){return Math.round((e+Number.EPSILON)*100)/100}function U(e){return e?String(e).split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "):""}var H=function(e){let{record:a,isSmallScreen:n,onSelectMunicipality:t}=e,[r,s]=(0,l.useState)(k),[c,d]=(0,l.useState)(G),[u,p]=(0,l.useState)([]),[h,x]=(0,l.useState)(!1),m=(0,o.I0)(),{ids:g,entities:y,municipalities:v,province:f}=(0,o.v9)(e=>e.provinces),{municipality:b}=(0,o.v9)(e=>e.municipalities),{ids:S,entities:j,status:w}=(0,o.v9)(e=>e.tendayweather);(0,l.useEffect)(()=>{m((0,E.QA)(null))},[m]),(0,l.useEffect)(()=>{if(!(null==g?void 0:g.length))return;let e=Object.values(y||{});if(!e.length)return;let a=e.find(e=>(null==e?void 0:e.label)==="Marinduque")||e.find(e=>(null==e?void 0:e.label)==="Marinduque")||e[0];m((0,T.Wn)(a)),m((0,B.R)(a.label)).unwrap().then(()=>x(!0)).catch(()=>x(!0))},[m,g,y]),(0,l.useEffect)(()=>{if(!(null==S?void 0:S.length)||w!==D.G.FULLFILLED||!h||!f)return;let e=f.label,a=(null==v?void 0:v[e])||[];m((0,E.X4)(a));let n=a.find(e=>(null==e?void 0:e.label)==="Boac")||a.find(e=>(null==e?void 0:e.label)==="Boac")||a[0]||null,i=b||n;m((0,E.QA)(i))},[m,S,w,h,f,v,b]),(0,l.useEffect)(()=>{null!==b&&h&&f&&s(e=>({...e,sel_province:f,sel_municipality:b}))},[b,f,h]),(0,l.useEffect)(()=>{if(w===D.G.FULLFILLED&&h&&(null==r?void 0:r.sel_municipality)&&(null==r?void 0:r.sel_province)&&!(u.length>0))try{var e;null==t||t(r.sel_municipality.label,r.sel_province.label);let a=function(e){var a;let{tendayEntities:n,provinceLabel:i,municipalityLabel:t}=e;if(!n||!i||!t)return null;let r=Object.values(n).filter(Boolean),l=r.find(e=>{var a;return((null==e?void 0:e.province)===i||(null==e?void 0:null===(a=e.province)||void 0===a?void 0:a.label)===i)&&(null==e?void 0:e.municipality)===t&&"string"==typeof(null==e?void 0:e.data)});if(null==l?void 0:l.data)try{let e=JSON.parse(l.data);if(Array.isArray(e))return e}catch(e){return null}let o=r.find(e=>(null==e?void 0:e.municipality)===t&&"string"==typeof(null==e?void 0:e.data));if((null==o?void 0:o.data)&&(0,P.G)(t)===i)try{let e=JSON.parse(o.data);if(Array.isArray(e))return e}catch(e){return null}let s=r.find(e=>(null==e?void 0:e.province)===i||(null==e?void 0:e.label)===i||(null==e?void 0:e.id)===i||(null==e?void 0:e.name)===i)||null,c=null==s?void 0:null===(a=s.municipalities)||void 0===a?void 0:a[t];return Array.isArray(c)?c:null}({tendayEntities:j,provinceLabel:r.sel_province.label,municipalityLabel:r.sel_municipality.label});if(!a||!a.length){s(e=>({...e,loading:!1,error:"No 10-day data found for ".concat(r.sel_municipality.label,", ").concat(r.sel_province.label)}));return}let n=a.map(e=>{var a,n,i,t,r,l,o,s;return{day_format:e.day_format||e.dayFormat||e.day||"",tmean:null!==(t=null!==(i=null!==(n=null!==(a=e.tmean)&&void 0!==a?a:e.temp_mean)&&void 0!==n?n:e.tempMean)&&void 0!==i?i:e.tavg)&&void 0!==t?t:0,wspeed:null!==(o=null!==(l=null!==(r=e.wspeed)&&void 0!==r?r:e.wind_speed)&&void 0!==l?l:e.windSpeed)&&void 0!==o?o:0,humidity:null!==(s=e.humidity)&&void 0!==s?s:0,rainfall:e.rainfall||e.rain||"",cover:e.cover||e.cloud_cover||e.cloudCover||""}}),i=new Date().toDateString(),l=i.substring(0,i.length-5),o=n.find(e=>e.day_format===l)||n[0],c={icon:(null===W.Sx||void 0===W.Sx?void 0:null===(e=W.Sx.rainfall)||void 0===e?void 0:e[o.rainfall])!==void 0?"images/icons/weather/".concat(W.Sx.rainfall[o.rainfall]):"images/icons/weather/blank_weather.png",temp:Math.round(o.tmean),precipitation:null,humidity:"".concat(F(o.humidity),"%"),datenow:i,wind:"".concat(F(o.wspeed)," mps"),description:"".concat(U(o.rainfall),", ").concat(U(o.cover))},u=n.map(e=>{var a;let n=e.day_format?new Date("".concat(e.day_format,", ").concat(new Date().getFullYear())):new Date;return{day:e.day_format,wind_speed:F(e.wspeed),temp_mean:F(e.tmean),icon:e.rainfall&&(null===W.Sx||void 0===W.Sx?void 0:null===(a=W.Sx.rainfall)||void 0===a?void 0:a[e.rainfall])?"images/icons/weather/".concat(W.Sx.rainfall[e.rainfall]):"images/icons/weather/blank_weather.png",date:n.toLocaleDateString("en-US"),description:""}});d(c),p(u),s(e=>({...e,loading:!1,error:""}))}catch(e){s(a=>({...a,loading:!1,error:(null==e?void 0:e.message)||"Failed to parse 10-day data"}))}},[w,j,u.length,null==r?void 0:r.sel_municipality,null==r?void 0:r.sel_province,h,t]);let C=(0,l.useCallback)(async(e,a)=>{let n=((null==v?void 0:v[a.label])||[]).find(a=>a.label===e);n&&(p([]),s(e=>({...e,sel_municipality:n,sel_province:a,loading:!0,error:""})),m((0,B.R)(a.label)))},[v,m]),_=async(e,a)=>{let{label:n,from:i}=a||{};if(n)switch(i){case"province":p([]),m((0,T.Wn)(a)),m((0,B.R)(n)),m((0,E.X4)([]));break;case"municipality":if(m((0,E.QA)({id:a.id,label:a.label,iscalendar:a.iscalendar,province:null==a?void 0:a.province})),void 0===a.id){s(e=>({...e,sel_municipality:null,loading:!1})),d(G),p([]),null==t||t(null,null);return}C(a.label,null==a?void 0:a.province)}else switch(i){case"province":m((0,T.jg)()),m((0,E.X4)([]));break;case"municipality":m((0,E.QA)(null))}};return(0,i.jsx)(z,{sel_options:r,weather:c,forecast:u,record:a,isSmallScreen:n,onSelectItemChange:_})},Y=n(43235),Q=n.n(Y),V=function(e){let{record:a}=e,[n,t]=(0,l.useState)(null),[r,o]=(0,l.useState)(null);return(0,l.useEffect)(()=>{null!==a?t([a.lat,a.lon]):t(null),o(a)},[a]),null===n?null:(0,i.jsx)(x.J,{position:n,eventHandlers:{mouseover:()=>{t(null)},click:()=>{t(null)}},children:(0,i.jsx)(m.u,{className:Q().tooltipCustom,permanent:!0,children:(0,i.jsx)("table",{style:{width:"100%"},children:(0,i.jsx)("tbody",{children:["Barangay","Municipality","Province","Association"].map((e,a)=>["lat","lon"].includes(e)?(0,i.jsx)("tr",{},a):(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsxs)("b",{children:[e,":"]})}),(0,i.jsx)("td",{children:r[e.toLowerCase()]})]},a))})})})})},J=[{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",name:"Street Map",attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"},{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",name:"Topography Map",attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'},{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",name:"Light",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'},{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.png",name:"Terrain Map",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.jpg",name:"Watercolor",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",name:"Satellite Map",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",name:"Shaded Relief",attribution:"Tiles &copy; Esri &mdash; Source: Esri"},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/Ocean_Basemap/MapServer/tile/{z}/{y}/{x}",name:"Ocean",attribution:"Tiles &copy; Esri &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}],q={width:"100%",minWidth:"0",height:"calc(100vh - 100px - 140px)",minHeight:{xs:"calc(100vh - 200px)",md:"600px"},maxWidth:"100%",margin:0,padding:0,boxSizing:"border-box","@media (min-width: 768px)":{width:"100vw",maxWidth:"100vw"}};let[X,K]=n(98813).XH.split(",").map(Number),$={lat:X,lng:K},ee=["Barangay","Municipality","Province","Association"],ea={Marinduque:"#4CAF50","Occidental Mindoro":"#2196F3","Oriental Mindoro":"#FF9800",Palawan:"#9C27B0",Romblon:"#F44336"};var en=function(e){let{data:a={villages:[]}}=e,[n,t]=(0,l.useState)(null),[y,v]=(0,l.useState)(null),f=(0,l.useRef)(null),b=(0,c.Z)(e=>e.breakpoints.down("md")),S=(0,o.v9)(e=>e.provinces.ids),j=(0,o.I0)(),w=(0,l.useRef)(!1);(0,l.useEffect)(()=>{w.current||0!==S.length||(w.current=!0,j((0,s.Q)()))},[j,S.length]);let C=(e,a)=>{f.current&&f.current.flyTo([e,a],10,{duration:2})};return(0,l.useEffect)(()=>{(async()=>{try{let e="default";e&&"default"!==e||(e="/images/regions/mimaropa-provinces-realistic.geojson"),(null==e?void 0:e.startsWith("/"))&&(e="https://acap-mimaropa.github.io"+e);let a=await r().get(e);t(a.data)}catch(e){t(null)}})()},[]),(0,i.jsxs)(g.Z,{sx:q,style:{minHeight:b?"1300px":"600px"},children:[(0,i.jsxs)(d.h,{style:{height:"100%"},center:$,zoom:8,minZoom:7,whenCreated:e=>f.current=e,children:[(0,i.jsx)(u.et,{position:"topleft",children:J.map((e,a)=>(0,i.jsx)(u.et.BaseLayer,{name:e.name,checked:0===a,children:(0,i.jsx)(p.I,{attribution:e.attribution,url:e.url})},a))}),(null==n?void 0:n.features)&&(0,i.jsx)(h.Q,{data:n,style:e=>({fillColor:ea[e.properties.province||e.properties.name]||"#999999",fillOpacity:.6,weight:2,color:"#ffffff",opacity:1})},"provinces-geojson"),a.villages.map((e,a)=>(0,i.jsx)(x.J,{position:[e.lat,e.lon],children:(0,i.jsx)(m.u,{className:Q().tooltipCustom,direction:"left",children:(0,i.jsx)("table",{children:(0,i.jsx)("tbody",{children:ee.map(a=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsxs)("b",{children:[a,":"]})}),(0,i.jsx)("td",{children:e[a.toLowerCase()]})]},a))})})})},a)),!b&&(0,i.jsx)(V,{record:y})]}),(0,i.jsx)(H,{record:y,isSmallScreen:b,onSelectMunicipality:(e,n)=>{if(!e||!n){v(null);return}let i=a.villages.find(a=>a.municipality===e&&a.province===n);i&&(v(i),C(i.lat,i.lon))}})]})}},80934:function(e,a,n){"use strict";n.d(a,{Z:function(){return d}});var i=n(85893),t=n(67294),r=n(60990),l=n(25837),o=n(26541),s=n(96788),c=JSON.parse('{"up":[{"name":"Marinduque","municipalities":["Boac","Buenavista","Gasan","Mogpog","Santa Cruz","Torrijos"]},{"name":"Occidental Mindoro","municipalities":["Abra de Ilog","Calintaan","Looc","Lubang","Magsaysay","Mamburao","Paluan","Rizal","Sablayan","San Jose","Santa Cruz"]},{"name":"Oriental Mindoro","municipalities":["Baco","Bongabong","Bulalacao","Calapan City","Gloria","Mansalay","Naujan","Pinamalayan","Pola","Puerto Galera","Roxas","San Teodoro","Socorro","Victoria"]},{"name":"Palawan","municipalities":["Aborlan","Agutaya","Araceli","Balabac","Bataraza","Brooke\'s Point","Busuanga","Cagayancillo","Coron","Culion","Cuyo","Dumaran","El Nido","Kalayaan","Linapacan","Magsaysay","Narra","Puerto Princesa City","Quezon","Rizal","Roxas","San Vicente","Sofronio Espa\xf1ola","Taytay"]},{"name":"Romblon","municipalities":["Alcantara","Banton","Cajidiocan","Calatrava","Concepcion","Corcuera","Ferrol","Looc","Magdiwang","Odiongan","Romblon","San Agustin","San Andres","San Fernando","San Jose","Santa Fe","Santa Maria"]}]}');function d(e){let{onLocationChange:a,onChange:n,value:d}=e,[u,p]=(0,t.useState)((null==d?void 0:d.province)||null),[h,x]=(0,t.useState)((null==d?void 0:d.municipality)||null),[m,g]=(0,t.useState)((null==d?void 0:d.province)||""),[y,v]=(0,t.useState)((null==d?void 0:d.municipality)||""),f=(0,t.useMemo)(()=>(c.up||[]).map(e=>e.name),[]),b=(0,t.useMemo)(()=>{if(!u)return[];let e=(c.up||[]).find(e=>e.name.toLowerCase()===String(u).toLowerCase());return e?e.municipalities:[]},[u]);return(0,i.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"column",gap:.5,mb:1},children:[(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(s.Z,{variant:"body2",sx:{mb:.5,fontSize:"12px",fontWeight:500},children:"Province"}),(0,i.jsx)(l.Z,{freeSolo:!0,options:f,value:u,inputValue:m,onChange:(e,i)=>{p(i||null),x(null),v("");let t={province:i||null,municipality:null};a&&a(t),n&&n(t)},onInputChange:(e,a)=>g(a),sx:{width:"100%","& .MuiOutlinedInput-root":{backgroundColor:"rgba(139, 195, 74, 0.3)","&:hover":{backgroundColor:"rgba(139, 195, 74, 0.4)"},"&.Mui-focused":{backgroundColor:"rgba(139, 195, 74, 0.3)"}},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(139, 195, 74, 0.5)"},"& .MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(139, 195, 74, 0.7)"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#8BC34A"}},renderInput:e=>(0,i.jsx)(o.Z,{...e,size:"small",placeholder:"Select or type province",sx:{"& input":{fontSize:"14px"}}})})]}),(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(s.Z,{variant:"body2",sx:{mb:.5,fontSize:"12px",fontWeight:500},children:"Municipality"}),(0,i.jsx)(l.Z,{freeSolo:!0,options:b,value:h,inputValue:y,onChange:(e,i)=>{x(i||null);let t={province:u||null,municipality:i||null};a&&a(t),n&&n(t)},onInputChange:(e,a)=>v(a),disabled:!u,sx:{width:"100%","& .MuiOutlinedInput-root":{backgroundColor:"rgba(139, 195, 74, 0.3)","&:hover":{backgroundColor:"rgba(139, 195, 74, 0.4)"},"&.Mui-focused":{backgroundColor:"rgba(139, 195, 74, 0.3)"},"&.Mui-disabled":{backgroundColor:"rgba(139, 195, 74, 0.15)"}},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(139, 195, 74, 0.5)"},"& .MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(139, 195, 74, 0.7)"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#8BC34A"}},renderInput:e=>(0,i.jsx)(o.Z,{...e,size:"small",placeholder:"Select or type municipality",sx:{"& input":{fontSize:"14px"}}})})]})]})}},26562:function(e,a,n){"use strict";n.d(a,{J4:function(){return i},Sx:function(){return r},Y1:function(){return t}});let i=[{icon:"cc_sunny_49.svg",label:"No rain",nowrap:!0},{icon:"rainfall_light_rain_49.svg",label:"Light rain"},{icon:"rainfall_moderate_rain_49.svg",label:"Moderate rain"},{icon:"rainfall_heavy_rain_49.svg",label:"Heavy rain"},{icon:"blank_weather.png",label:"Heavy rain",hidden:!0}],t=[{icon:"cc_sunny_49.svg",label:"Sunny"},{icon:"cc_mostly_sunny_49.svg",label:"Mostly sunny"},{icon:"cc_partly_cloudy_49.svg",label:"Partly cloudy"},{icon:"cc_mostly_cloudy_49.svg",label:"Mostly cloudy"},{icon:"cc_cloudy_49.svg",label:"Cloudy"}],r={rainfall:{"NO RAIN":"cc_sunny_49.svg","LIGHT RAINS":"rainfall_light_rain_49.svg","MODERATE RAINS":"rainfall_moderate_rain_49.svg","HEAVY RAINS":"rainfall_heavy_rain_49.svg"},cloudCover:{SUNNY:"cc_sunny_49.svg","MOSTLY SUNNY":"cc_mostly_sunny_49.svg","PARTLY CLOUDY":"cc_partly_cloudy_49.svg","MOSTLY CLOUDY":"cc_mostly_cloudy_49.svg",CLOUDY:"cc_cloudy_49.svg"}}},50649:function(e,a,n){"use strict";n.d(a,{G:function(){return r},MIMAROPA_MUNICIPALITIES:function(){return t},MIMAROPA_PROVINCES:function(){return i}});let i={MARINDUQUE:"Marinduque",OCCIDENTAL_MINDORO:"Occidental Mindoro",ORIENTAL_MINDORO:"Oriental Mindoro",PALAWAN:"Palawan",ROMBLON:"Romblon"},t={[i.MARINDUQUE]:["Boac","Buenavista","Gasan","Mogpog","Santa Cruz","Torrijos"],[i.OCCIDENTAL_MINDORO]:["Abra de Ilog","Calintaan","Looc","Lubang","Magsaysay","Mamburao","Paluan","Rizal","Sablayan","San Jose","Santa Cruz"],[i.ORIENTAL_MINDORO]:["Baco","Bongabong","Bulalacao","Calapan City","City of Calapan","Gloria","Mansalay","Naujan","Pinamalayan","Pola","Puerto Galera","Roxas","San Teodoro","Socorro","Victoria"],[i.PALAWAN]:["Aborlan","Agutaya","Araceli","Balabac","Bataraza","Brooke's Point","Busuanga","Cagayancillo","Coron","Culion","Cuyo","Dumaran","El Nido","Kalayaan","Linapacan","Magsaysay","Narra","Puerto Princesa City","City of Puerto Princesa","Quezon","Rizal","Roxas","San Vicente","Sofronio Espa\xf1ola","Taytay"],[i.ROMBLON]:["Alcantara","Banton","Cajidiocan","Calatrava","Concepcion","Corcuera","Ferrol","Looc","Magdiwang","Odiongan","Romblon","San Agustin","San Andres","San Fernando","San Jose","Santa Fe","Santa Maria"]};function r(e){if(!e)return null;for(let[a,n]of Object.entries(t))if(n.includes(e))return a;return null}},43235:function(e){e.exports={tooltipCustom:"Map_tooltipCustom__CAcp1"}}}]);