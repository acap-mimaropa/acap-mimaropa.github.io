(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2378],{39736:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(34051),i=t.n(r),a=t(85893),o=t(67294);function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function c(e,n,t,r,i,a,o){try{var l=e[a](o),c=l.value}catch(s){return void t(s)}l.done?n(c):Promise.resolve(c).then(r,i)}function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],o=!0,l=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(c){l=!0,i=c}finally{try{o||null==t.return||t.return()}finally{if(l)throw i}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){var n,t,r=e.value,l=e.onChange,u=e.className,p=e.showLabels,d=void 0===p||p,f=e.placesURL,h=void 0===f?"/config/places.mimaropa.json":f,m=s(o.useState([]),2),v=m[0],x=m[1],y=s(o.useState(!0),2),g=y[0],b=y[1],w=s(o.useState(""),2),j=w[0],S=w[1],_=s(o.useState((null===r||void 0===r?void 0:r.province)||""),2),C=_[0],E=_[1],k=s(o.useState((null===r||void 0===r?void 0:r.municipality)||""),2),O=k[0],A=k[1];o.useEffect((function(){var e,n=!0;return(e=i().mark((function e(){var t,a,o,c,s,u,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),S(""),e.next=6,fetch(h,{cache:"no-store"});case 6:if((a=e.sent).ok){e.next=9;break}throw new Error("HTTP ".concat(a.status));case 9:return e.next=11,a.json();case 11:if(o=e.sent,s=null!==(c=null===o||void 0===o?void 0:o.by_province)&&void 0!==c?c:[],Array.isArray(s)&&0!==s.length){e.next=16;break}throw new Error("Empty or invalid places data");case 16:if(n){e.next=18;break}return e.abrupt("return");case 18:x(s),u=(null===r||void 0===r?void 0:r.province)||s[0].name,d=null!==(p=null===(t=s.find((function(e){return e.name===u})))||void 0===t?void 0:t.municipalities)&&void 0!==p?p:[],f=(null===r||void 0===r?void 0:r.municipality)||d[0]||"",E(u),A(f),null===l||void 0===l||l({province:u,municipality:f}),e.next=33;break;case 28:if(e.prev=28,e.t0=e.catch(0),n){e.next=32;break}return e.abrupt("return");case 32:S("Failed to load places: ".concat(e.t0.message));case 33:return e.prev=33,n&&b(!1),e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[0,28,33,36]])})),function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){c(a,r,i,o,l,"next",e)}function l(e){c(a,r,i,o,l,"throw",e)}o(void 0)}))})(),function(){n=!1}}),[h]);var M=null!==(t=null===(n=v.find((function(e){return e.name===C})))||void 0===n?void 0:n.municipalities)&&void 0!==t?t:[];return o.useEffect((function(){if(C&&0!==M.length)if(M.includes(O))null===l||void 0===l||l({province:C,municipality:O});else{var e=M[0];A(e),null===l||void 0===l||l({province:C,municipality:e})}}),[C,M.join("|")]),o.useEffect((function(){C&&O&&(null===l||void 0===l||l({province:C,municipality:O}))}),[O]),g?(0,a.jsx)("div",{className:u,children:"Loading locations\u2026"}):j?(0,a.jsx)("div",{className:u,style:{color:"red"},children:j}):(0,a.jsxs)("div",{className:u,children:[d&&(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Province"}),(0,a.jsx)("select",{className:"w-full border rounded p-2 mb-3",value:C,onChange:function(e){return E(e.target.value)},children:v.map((function(e){return(0,a.jsx)("option",{value:e.name,children:e.name},e.name)}))}),d&&(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Municipality/City"}),(0,a.jsx)("select",{className:"w-full border rounded p-2",value:O,onChange:function(e){return A(e.target.value)},children:M.map((function(e){return(0,a.jsx)("option",{value:e,children:e.replace(/\s*\(.*\)$/,"")},e)}))})]})}},27840:function(e,n,t){"use strict";var r=t(85893),i=t(15861);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var o=(0,t(11496).ZP)((function(e){return(0,r.jsx)(i.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}({component:"p",variant:"caption"},e))}))((function(e){var n=e.theme;return{color:n.palette.text.secondary,"& a":{color:n.palette.green.dark,textDecoration:"none"},"& a:visited":{color:n.palette.green.dark},"& a:hover, span:hover":{textDecoration:"underline"}}}));n.Z=o},2378:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ie}});var r=t(34051),i=t.n(r),a=t(85893),o=t(9669),l=t.n(o),c=t(67294),s=t(9473),u=t(4936),p=t(98396),d=t(60795),f=t(86105),h=t(38303),m=t(72471),v=t(27409),x=t(97651),y=t(87357),g=t(41664),b=t(25675),w=t(66242),j=t(98456),S=t(86886),_=t(15861),C=t(26660),E={daily:{width:{xs:"75px",sm:"65px"},minWidth:{xs:"75px",sm:"65px"},minHeight:"55px",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"rgba(255, 255, 255, 1.0)",padding:function(e){return e.spacing(1)},margin:"2px",borderRadius:"5px","& div":{textAlign:"center"},"& .temp-label":{display:"flex",justifyContent:"space-between",fontSize:{xs:"8px",sm:"9px"}},"& .daily-date":{fontSize:{xs:"10px",sm:"9px"}}}},k=t(63365),O=t(48038);var A=function(e){var n=e.dailyweather;return(0,a.jsxs)(y.Z,{sx:E.daily,children:[(0,a.jsx)("div",{className:"daily-date",children:n.day}),(0,a.jsx)("div",{children:(0,a.jsx)(b.default,{unoptimized:!0,src:n.icon,height:25,width:25,loader:C.imageLoader,alt:n.day})}),(0,a.jsxs)("div",{className:"temp-label",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(k.Z,{fontSize:"12px"}),(0,a.jsxs)("strong",{children:[n.temp_mean,"\xb0"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(O.Z,{fontSize:"12px"}),n.wind_speed]})]})]})},M=t(27840);var N,I,L,P={card:{backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",minWidth:{xs:"200px",sm:"380px"},maxWidth:"380px",marginTop:function(e){return e.spacing(3)},padding:function(e){return e.spacing(2)},borderRadius:function(e){return e.spacing(1)},"& h5":{marginBottom:function(e){return e.spacing(2)},fontSize:"18px"},"& h6":{fontSize:"16px"},"& .span-source":{"& a":{color:function(e){return e.palette.primary.main},textDecoration:"none"},"& a:hover":{color:function(e){return e.palette.third.main}}}},cardInfo:{backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",width:"100%",maxWidth:"490px",padding:function(e){return e.spacing(1)},marginTop:function(e){return e.spacing(3)},fontSize:{xs:"11px",sm:"14px"},"& td":{padding:(N={xs:0},I="xs",L="1px",I in N?Object.defineProperty(N,I,{value:L,enumerable:!0,configurable:!0,writable:!0}):N[I]=L,N)}},autocomplete:{maxWidth:"100%",marginTop:function(e){return e.spacing(1)}},weathertoday:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"10px",flexDirection:{xs:"column",b4xs:"row",sm:"row"},"& .icon-temp":{display:"flex",alignItems:"center",gap:"10px"},"& .temperature":{fontSize:"30px",fontWeight:"bold"},"& .weather-details":{paddingTop:"12px",marginLeft:"16px",fontSize:"10px"}},info:{minWidth:"285px",minHeight:"90px",padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(2)},textAlign:"center","& p":{color:"red",fontSize:"12px"}}},T=t(39736);var z=function(e){var n=e.sel_options,t=e.weather,r=e.forecast,i=e.record,o=e.isSmallScreen,l=void 0!==o&&o,s=e.onSelectItemChange,u=(0,c.useState)(0),p=u[0],d=u[1],f=(0,c.useState)({province:"",municipality:""}),h=f[0],m=f[1];(0,c.useEffect)((function(){var e=function(){return d((window.innerWidth-v())/2+24)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var v=function(){var e=document.getElementById("header-contents");return e?e.getBoundingClientRect().width:1200};return(0,c.useEffect)((function(){h.province&&s(null,{from:"province",label:h.province})}),[h.province]),(0,c.useEffect)((function(){h.province&&h.municipality&&s(null,{from:"municipality",label:h.municipality,province:{label:h.province}})}),[h.municipality,h.province]),(0,a.jsxs)(y.Z,{sx:{position:"absolute",top:function(e){return e.constants.navbar.outerHeight-35},right:p,marginLeft:"24px",zIndex:400},className:"mui-fixed",children:[(0,a.jsxs)(w.Z,{variant:"outlined",sx:P.card,style:{backgroundColor:"rgba(139, 195, 74, 0.5)"},children:[(0,a.jsxs)(y.Z,{children:[(0,a.jsx)(_.Z,{variant:"h5",children:"MIMAROPA Region Weather Today"}),(0,a.jsx)(T.Z,{value:h,onChange:m})]}),n.loading&&(0,a.jsx)(y.Z,{sx:P.info,style:{minWidth:l?window.innerWidth-80:"285px"},children:(0,a.jsx)(j.Z,{size:24,color:"secondary"})}),""===n.error&&!n.loading&&null!==n.sel_municipality&&""!==t.description&&(0,a.jsxs)(y.Z,{sx:P.weathertoday,children:[(0,a.jsxs)("div",{className:"icon-temp",children:[(0,a.jsx)(b.default,{unoptimized:!0,src:t.icon,height:70,width:70,loader:C.imageLoader,alt:t.description}),(0,a.jsxs)("div",{className:"temperature",children:[t.temp,"\xb0C"]})]}),(0,a.jsxs)("div",{className:"weather-details",children:[(0,a.jsxs)("div",{children:["Date today: ",t.datenow]}),(0,a.jsxs)("div",{children:["Humidity: ",t.humidity]}),(0,a.jsxs)("div",{children:["Wind speed: ",t.wind]}),(0,a.jsx)("div",{children:t.description?"".concat(t.description.charAt(0).toUpperCase()).concat(t.description.slice(1)):""})]})]}),""===n.error&&!n.loading&&null===n.sel_municipality&&(0,a.jsx)(y.Z,{sx:P.info,style:{minWidth:l?window.innerWidth-80:"285px"},children:(0,a.jsx)("p",{children:"\xa0"})}),""!==n.error&&(0,a.jsx)(y.Z,{sx:P.info,style:{minWidth:l?window.innerWidth-80:"285px"},children:(0,a.jsx)("p",{children:n.error})})]}),r.length>0&&(0,a.jsxs)(w.Z,{variant:"outlined",sx:P.card,style:{marginTop:"10px",paddingBottom:"2px"},children:[(0,a.jsx)(_.Z,{variant:"h6",children:"10-Day Rainfall Forecast"}),(0,a.jsxs)(M.Z,{sx:{marginBottom:"16px",fontSize:"11px"},children:["View the full 10-Day Weather Forecast ",(0,a.jsx)(g.default,{href:"/weather-services",children:"here"}),"."]}),(0,a.jsx)(S.ZP,{container:!0,children:r.map((function(e,n){return(0,a.jsx)(S.ZP,{item:!0,children:(0,a.jsx)(A,{dailyweather:e})},"daily-".concat(n))}))}),(0,a.jsxs)(_.Z,{variant:"caption",style:{fontSize:"10px"},className:"span-source",children:["source:"," ",(0,a.jsx)(g.default,{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/10-day-climate-forecast",children:"PAGASA's 10-Day Climate Forecast"})]})]}),l&&null!==i&&(0,a.jsx)(w.Z,{variant:"outlined",sx:P.cardInfo,children:(0,a.jsx)("table",{children:(0,a.jsx)("tbody",{children:["Barangay","Municipality","Province","Association"].map((function(e,n){return["lat","lon"].includes(e)?(0,a.jsx)("tr",{},n):(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("b",{children:[e,":"]})}),(0,a.jsx)("td",{children:i[e.toLowerCase()]})]},n)}))})})})]})},D=t(18217),Z=t(23549),R=t(56867),W=t(901),U=t(1902);function G(e,n,t,r,i,a,o){try{var l=e[a](o),c=l.value}catch(s){return void t(s)}l.done?n(c):Promise.resolve(c).then(r,i)}function H(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){G(a,r,i,o,l,"next",e)}function l(e){G(a,r,i,o,l,"throw",e)}o(void 0)}))}}function Y(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function B(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Y(e,n,t[n])}))}return e}var F={sel_municipality:null,sel_province:"",loading:!0,error:""},Q={icon:"https://openweathermap.org/img/wn/10d@2x.png",temp:"00",pressure:"0000 hPa",humidity:"0%",wind:"00 meter/sec"};var J=function(e){var n=e.record,t=e.isSmallScreen,r=e.onSelectMunicipality,o=(0,c.useState)(F),l=o[0],u=o[1],p=(0,c.useState)(Q),d=p[0],f=p[1],h=(0,c.useState)([]),m=h[0],v=h[1],x=(0,c.useState)(!1),y=x[0],g=x[1],b=(0,s.I0)(),w=(0,s.v9)((function(e){return e.provinces})),j=w.ids,S=w.entities,_=w.municipalities,C=w.province,E=(0,s.v9)((function(e){return e.municipalities})).municipality,k=(0,s.v9)((function(e){return e.tendayweather})),O=k.ids,A=k.entities,M=k.status;(0,c.useEffect)((function(){b((0,D.QA)(null))}),[b]),(0,c.useEffect)((function(){j.length>0&&(b((0,Z.Wn)(Object.values(S)[0])),b((0,R.R)(Object.values(S)[0].label)).unwrap().then((function(){g(!0)})))}),[b,j,S]),(0,c.useEffect)((function(){if(O.length>0&&M===W.G.FULLFILLED&&y&&null!==C){var e=null;if(E)e=E;else{var n=Object.keys(_).find((function(e){return e===C.label}));n&&_[n].length>0&&(e=_[n][0])}b((0,D.X4)(_[C.label]||[])),b((0,D.QA)(e))}}),[b,O,A,M,y,E,_,C]),(0,c.useEffect)((function(){null!==E&&y&&u((function(e){return B({},e,{sel_province:C,sel_municipality:E})}))}),[b,E,C,A,M,y]),(0,c.useEffect)((function(){if(M===W.G.FULLFILLED&&null!==l.sel_municipality&&0===m.length)try{r(l.sel_municipality.label,l.sel_province.label);var e=Object.values(A).find((function(e){return e.municipality===l.sel_municipality.label}));if(e){var n=JSON.parse(e.data),t=(new Date).toDateString(),i=n.find((function(e){return e.day_format===t.substring(0,t.length-5)}))||n[0],a={icon:void 0!==U.Sx.rainfall[i.rainfall]?"images/icons/weather/".concat(U.Sx.rainfall[i.rainfall]):"images/icons/weather/blank_weather.png",temp:Math.round(i.tmean),precipitation:null,humidity:"".concat(L(i.humidity),"%"),datenow:t,wind:"".concat(L(i.wspeed)," mps"),description:"".concat(P(i.rainfall),", ").concat(P(i.cover))},o=[];n.forEach((function(e){var n=new Date("".concat(e.day_format,", ").concat((new Date).getFullYear())),t={day:e.day_format,wind_speed:L(e.wspeed),temp_mean:L(e.tmean),icon:void 0!==e.rainfall?"images/icons/weather/".concat(U.Sx.rainfall[e.rainfall]):"images/icons/weather/blank_weather.png",date:n.toLocaleDateString("en-US"),description:""};o.push(t)})),f(a),v(o),u((function(e){return B({},e,{loading:!1,error:""})}))}}catch(c){u((function(e){return B({},e,{loading:!1,error:c.message})}))}}),[M,A,S,m,l.sel_municipality,l.sel_province.label,r]);var N=(0,c.useCallback)(function(){var e=H(i().mark((function e(n,t){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_[t.label],void 0!==(a=r.find((function(e){return e.label===n})))){e.next=4;break}return e.abrupt("return");case 4:v([]),u(B({},l,{sel_municipality:a,sel_province:t,loading:!0,error:""})),b((0,R.R)(t.label));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[_,l,b]),I=function(){var e=H(i().mark((function e(n,t){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.label,o=t.from,!a){e.next=21;break}e.t0=o,e.next="province"===e.t0?5:"municipality"===e.t0?9:18;break;case 5:return b((0,Z.Wn)(t)),b((0,R.R)(a)),b((0,D.X4)([])),e.abrupt("break",19);case 9:if(b((0,D.QA)({id:t.id,label:t.label,iscalendar:t.iscalendar})),void 0!==t.id){e.next=16;break}return u(B({},l,{sel_municipality:null,loading:!1})),f(Q),v([]),r(null),e.abrupt("return");case 16:return N(t.label,null===t||void 0===t?void 0:t.province),e.abrupt("break",19);case 18:return e.abrupt("break",19);case 19:e.next=30;break;case 21:e.t1=o,e.next="province"===e.t1?24:"municipality"===e.t1?27:29;break;case 24:return b((0,Z.jg)()),b((0,D.X4)([])),e.abrupt("break",30);case 27:return b((0,D.QA)(null)),e.abrupt("break",30);case 29:return e.abrupt("break",30);case 30:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),L=function(e){return Math.round(100*(e+Number.EPSILON))/100},P=function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")};return(0,a.jsx)(z,{sel_options:l,weather:d,forecast:m,record:n,isSmallScreen:t,onSelectItemChange:I})},X=t(99108),V=t.n(X);var $=function(e){var n=e.record,t=(0,c.useState)(null),r=t[0],i=t[1],o=(0,c.useState)(null),l=o[0],s=o[1];return(0,c.useEffect)((function(){i(null!==n?[n.lat,n.lon]:null),s(n)}),[n]),null===r?null:(0,a.jsx)(v.J,{position:r,eventHandlers:{mouseover:function(){i(null)},click:function(){i(null)}},children:(0,a.jsx)(x.u,{className:V().tooltipCustom,permanent:!0,children:(0,a.jsx)("table",{style:{width:"100%"},children:(0,a.jsx)("tbody",{children:["Barangay","Municipality","Province","Association"].map((function(e,n){return["lat","lon"].includes(e)?(0,a.jsx)("tr",{},n):(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("b",{children:[e,":"]})}),(0,a.jsx)("td",{children:l[e.toLowerCase()]})]},n)}))})})})})},K=[{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",name:"Street Map",attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"},{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",name:"Topography Map",attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'},{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",name:"Light",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'},{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.png",name:"Terrain Map",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.jpg",name:"Watercolor",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",name:"Satellite Map",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",name:"Shaded Relief",attribution:"Tiles &copy; Esri &mdash; Source: Esri"},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/Ocean_Basemap/MapServer/tile/{z}/{y}/{x}",name:"Ocean",attribution:"Tiles &copy; Esri &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}],q={map:{width:"100%",height:"calc(100vh - 88px - 519px)",maxWidth:function(e){return e.breakpoints.xl}}};function ee(e,n,t,r,i,a,o){try{var l=e[a](o),c=l.value}catch(s){return void t(s)}l.done?n(c):Promise.resolve(c).then(r,i)}var ne=t(47426).XH.split(","),te={lat:ne[0],lng:ne[1]},re=["Barangay","Municipality","Province","Association"];var ie=function(e){var n=e.data,t=void 0===n?{villages:[],provincesMunicipalities:[]}:n,r=(0,c.useState)({}),o=r[0],g=r[1],b=(0,c.useState)(""),w=b[0],j=b[1],S=(0,c.useState)(null),_=S[0],C=S[1],E=(0,c.useRef)(null),k=(0,p.Z)((function(e){return e.breakpoints.down("md")})),O=(0,s.v9)((function(e){return e.provinces.ids})),A=(0,c.useRef)(null),M=(0,s.I0)();return(0,c.useEffect)((function(){null===A.current&&0===O.length&&(A.current=!0,M((0,u.Q)()))}),[M,O.length]),(0,c.useEffect)((function(){var e=function(){var e,n=(e=i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,l().get("/images/regions/mimaropa.geojson");case 4:n=e.sent,g(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){ee(a,r,i,o,l,"next",e)}function l(e){ee(a,r,i,o,l,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();e()}),[]),(0,a.jsxs)(y.Z,{sx:q.map,style:{minHeight:k?"1300px":"600px"},children:[(0,a.jsxs)(d.h,{style:{height:"100%"},center:te,zoom:8,maxZoom:12,minZoom:8,tileSize:512,placeholder:(0,a.jsx)("h3",{children:"You need JavaScript to render this app."}),whenCreated:function(e){E.current=e},children:[(0,a.jsx)(f.et,{position:"topleft",children:K.map((function(e,n){return(0,a.jsx)(f.et.BaseLayer,{name:e.name,checked:0===n,children:(0,a.jsx)(h.I,{zIndex:0,attribution:e.attribution,url:e.url})},"map-".concat(n))}))}),(0,a.jsx)(m.Q,{municipality:w,data:o.features,zIndex:1,onEachFeature:function(e,n){n.setStyle(function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}({fillColor:e.properties.ADM2_EN===w?"#ff6a00":"#ffa666",fillOpacity:1,weight:0},"fillOpacity","0.5"))}},Math.random().toString(36).substring(2,8)),t.villages.map((function(e,n){return(0,a.jsx)(v.J,{position:[e.lat,e.lon],id:"tooltip-".concat(n),eventHandlers:{mouseover:function(e){null!==_&&C(null)},click:function(e){null!==_&&C(null)}},children:(0,a.jsx)(x.u,{className:V().tooltipCustom,direction:"left",children:(0,a.jsx)("table",{style:{width:"100%"},id:"tip-".concat(n),children:(0,a.jsx)("tbody",{children:re.map((function(n,t){return["lat","lon"].includes(n)?(0,a.jsx)("tr",{},t):(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("b",{children:[n,":"]})}),(0,a.jsx)("td",{children:e[n.toLowerCase()]})]},t)}))})})})},n)})),!k&&(0,a.jsx)($,{record:_})]}),(0,a.jsx)(J,{record:_,isSmallScreen:k,onSelectMunicipality:function(e,n){if(null===e&&null===n)j(""),C(null);else{var r=t.villages.find((function(t){return t.municipality===e&&t.province===n}));void 0!==r?(j(r.municipality),C(r),function(e,n){var t=E.current;t&&t.flyTo([e,n+4],10,{duration:2.5})}(r.lat,r.lon)):(j(""),C(null))}}})]})}},1902:function(e,n,t){"use strict";t.d(n,{J4:function(){return r},Y1:function(){return i},Sx:function(){return a}});var r=[{icon:"cc_sunny_49.svg",label:"No rain",nowrap:!0},{icon:"rainfall_light_rain_49.svg",label:"Light rain"},{icon:"rainfall_moderate_rain_49.svg",label:"Moderate rain"},{icon:"rainfall_heavy_rain_49.svg",label:"Heavy rain"},{icon:"blank_weather.png",label:"Heavy rain",hidden:!0}],i=[{icon:"cc_sunny_49.svg",label:"Sunny"},{icon:"cc_mostly_sunny_49.svg",label:"Mostly sunny"},{icon:"cc_partly_cloudy_49.svg",label:"Partly cloudy"},{icon:"cc_mostly_cloudy_49.svg",label:"Mostly cloudy"},{icon:"cc_cloudy_49.svg",label:"Cloudy"}],a={rainfall:{"NO RAIN":"cc_sunny_49.svg","LIGHT RAINS":"rainfall_light_rain_49.svg","MODERATE RAINS":"rainfall_moderate_rain_49.svg","HEAVY RAINS":"rainfall_heavy_rain_49.svg"},cloudCover:{SUNNY:"cc_sunny_49.svg","MOSTLY SUNNY":"cc_mostly_sunny_49.svg","PARTLY CLOUDY":"cc_partly_cloudy_49.svg","MOSTLY CLOUDY":"cc_mostly_cloudy_49.svg",CLOUDY:"cc_cloudy_49.svg"}}},99108:function(e){e.exports={tooltipCustom:"Map_tooltipCustom___IYju"}}}]);