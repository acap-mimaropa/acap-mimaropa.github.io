"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6902],{29455:function(e,l,t){var n=t(85893),o=t(67294),a=t(45697),i=t.n(a),r=t(81873),s=t(96788),d=t(42823);function u(e){let{impactOutlookOnly:l,recommendations:t=[],title:a="",titleFontSize:i="h5",recommendationsEng:u="management_recommendations_english",recommendationsTag:c="management_recommendations_tagalog",impactOutlookEng:v="impact_outlook_english",impactOutlookTag:g="impact_outlook_tagalog",isTagalog:m=null,isShowTitle:h=!0,isShowImpactOutlookSubtitle:f=!0}=e,[p,_]=(0,o.useState)(!0),b=(()=>{let e=new Set,l=e=>String(null!=e?e:"").replace(/<[^>]*>/g," ").replace(/&nbsp;/gi," ").replace(/\s+/g," ").trim().toLowerCase();return t.filter(t=>{let n=[l(t[v]),l(t[g]),l(t[u]),l(t[c])].join("||");return!e.has(n)&&(e.add(n),!0)})})();return(0,o.useEffect)(()=>{null!==m&&_(!m)},[m]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{display:"flex",marginBottom:"20px"},children:[h&&(0,n.jsx)("div",{style:{flexGrow:1},children:(0,n.jsxs)(s.Z,{variant:i,children:[a," Recommendations"]})}),null===m&&(0,n.jsx)(r.Z,{variant:"outlined",size:"small",label:p?"Tagalog":"English",onClick:()=>_(e=>!e),className:"toggleButton"})]}),b.length>0?(0,n.jsxs)("div",{children:[(0,n.jsx)(n.Fragment,{children:l&&(0,n.jsxs)("div",{children:[f&&(0,n.jsx)(s.Z,{variant:"subtitle1",children:"Impact Outlooks"}),b.map((e,l)=>(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:p?e[v]||"No Impact Outlook":e[g]||"Walang makitang impak awtluk"}},l)),(0,n.jsx)("br",{})]})}),f&&(0,n.jsxs)(n.Fragment,{children:[h&&(0,n.jsx)(s.Z,{variant:"subtitle1",children:"Recommendations"}),b.map((e,l)=>(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:p?e[u]||"No Recommendations":e[c]||"Walang makitang rekomendasyon"}},l))]})]}):(0,n.jsx)(d.Z,{message:"We cannot find recommendations for your selected options."})]})}u.propTypes={recommendations:i().array,title:i().string,subtitle:i().string,titleFontSize:i().string,recommendationsEng:i().string,recommendationsTag:i().string,isTagalog:i().bool,isShowTitle:i().bool},l.Z=u},18752:function(e,l,t){t.d(l,{Z:function(){return a}});var n=t(67294),o=t(61061);function a(e,l,t){let[a,i]=(0,n.useState)([]),[r,s]=(0,n.useState)([]),[d,u]=(0,n.useState)(!1),[c,v]=(0,n.useState)(""),g=()=>{v(""),i([]),s([])};return(0,n.useEffect)(()=>{let n=async()=>{var n,a,r,d;try{u(!0);let r=await (0,o.ad)(e,l,t);i(null!==(n=null==r?void 0:r.data)&&void 0!==n?n:[]);let d=await (0,o.Fj)(e,t);s(null!==(a=null==d?void 0:d.data)&&void 0!==a?a:[]),u(!1),v("")}catch(e){v(null!==(d=null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.data)&&void 0!==d?d:e.message),u(!1),i([])}};l&&t&&(g(),n())},[e,l,t]),{cropcalendar:a,cropStages:r,loading:d,error:c}}},44858:function(e,l,t){t.d(l,{Z:function(){return r}});var n=t(67294),o=t(9473),a=t(32343),i=t(22088);function r(e,l,t,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],[u,c]=(0,n.useState)([]),[v,g]=(0,n.useState)([]),[m,h]=(0,n.useState)(!1),[f,p]=(0,n.useState)(""),_=(0,o.I0)(),b=e=>String(null!=e?e:"").toLowerCase().replace(/[^a-z0-9]+/g,""),S=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=String(null!=e?e:"").split(/[,/|]/).map(e=>b(e)).filter(Boolean),n=l.map(e=>b(e)).filter(Boolean);return 0===n.length||t.some(e=>n.some(l=>e===l||e.includes(l)||l.includes(e)))};return(0,n.useEffect)(()=>{let n=async()=>{try{let n=[];h(!0),p("");let o=[];Array.isArray(l)?o=l.map(e=>{var l;return"object"==typeof e?null!==(l=e.code)&&void 0!==l?l:e.label:e}).filter(Boolean):l&&"object"==typeof l?o=[l.code,l.label].filter(Boolean):l&&(o=[l]),o=[...new Set(o)];let u=s?o:o[0];d?n=await (0,i.YH)({_cropStage:u,crop:t,type:r,multipleStages:s}):((n=await (0,i.$K)({climateRisk:e,_cropStage:u,crop:t,type:r,multipleStages:s}))&&0!==n.length||!t||!u||(n=await (0,i.YH)({_cropStage:u,crop:t,type:r,multipleStages:s})),(!n||0===n.length)&&t&&o.length>1&&(n=await (0,i.YH)({_cropStage:o,crop:t,type:r,multipleStages:!0})),(!n||0===n.length)&&t&&(n=await (0,i.YH)({crop:t,type:r})));let v=n.filter(e=>S(e.crop_stage,o)),m=(v.length>0?v:n).map(e=>e.farming_activity).filter((e,l,t)=>t.indexOf(e)===l).reduce((e,l,t)=>(e.push({id:t,label:l}),e),[]);h(!1),g(m),c(n||[]),_((0,a.lO)(n||[]))}catch(e){var n,o;p(null!==(o=null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==o?o:e.message),h(!1)}},o=async()=>{try{h(!0),p("");let l=await (0,i.Ee)({climateRisk:e,crop:t,type:r,multipleStages:s});h(!1),g([]),c(l||[]),_((0,a.lO)(l||[]))}catch(e){var l,n;p(null!==(n=null==e?void 0:null===(l=e.response)||void 0===l?void 0:l.data)&&void 0!==n?n:e.message),h(!1)}};(null==l?void 0:l.length)>0&&t?n():l&&t?n():t?o():(c([]),g([]))},[e,l,t,r,s,d,_,S]),{recommendations:u,farmoperations:v,loading:m,error:f}}},63431:function(e,l){l.Z=(e,l)=>{switch(l){case"seasonal":return function(e){if(0===e.length)return{};let l={wb_normal:[],b_normal:[],above_normal:[],near_normal:[]},t=e[0].con,n=1;for(let o=1;o<e.length;o++)e[o].con===t?n++:(l[t].push(n),t=e[o].con,n=1);return l[t].push(n),function(e){var l,t,n;let o=(null!==(l=null==e?void 0:e.b_normal.length)&&void 0!==l?l:0)>0?Math.max(...e.b_normal):void 0,a=(null!==(t=null==e?void 0:e.wb_normal.length)&&void 0!==t?t:0)>0?Math.max(...e.wb_normal):void 0,i=(null!==(n=null==e?void 0:e.above_normal.length)&&void 0!==n?n:0)>0?Math.max(...e.above_normal):void 0;return void 0!==o&&5===o||void 0!==a&&3===a?{label:"Drought",code:"drought"}:void 0!==o&&o>=3||void 0!==a&&2===a?{label:"Dry Spell",code:"dry_spell"}:void 0!==o&&2===o?{label:"Dry Condition",code:"dry_condition"}:void 0!==i&&i>=3||void 0!==a&&2===a?{label:"Wet Spell",code:"wet_spell"}:void 0!==i&&2===i?{label:"Wet Condition",code:"wet_condition"}:{label:"No Risk",code:"no_risk"}}(l)}(e);case"tenday":return function(e){if(0===e.length)return{};let l={"NO RAIN":[],"MODERATE RAINS":[],"HEAVY RAINS":[],"LIGHT RAINS":[]},t=e[0].rainfall,n=1;for(let o=1;o<e.length;o++)e[o].rainfall===t?n++:(l[t].push(n),t=e[o].rainfall,n=1);return l[t].push(n),function(e){var l,t,n,o,a,i,r;let s=(null!==(o=null===(l=e["MODERATE RAINS"])||void 0===l?void 0:l.length)&&void 0!==o?o:0)>0?Math.max(...e["MODERATE RAINS"]):void 0,d=(null!==(a=null===(t=e["HEAVY RAINS"])||void 0===t?void 0:t.length)&&void 0!==a?a:0)>0?Math.max(...e["HEAVY RAINS"]):void 0,u=(null!==(i=null===(n=e["LIGHT RAINS"])||void 0===n?void 0:n.length)&&void 0!==i?i:0)>0?Math.max(...e["LIGHT RAINS"]):void 0,c=(null!==(r=e["NO RAIN"].length)&&void 0!==r?r:0)>0?Math.max(...e["NO RAIN"]):void 0;return void 0!==s&&s>=3||void 0!==d&&d>=2?{label:"Flooding/Submergence Risk",code:"flooding_submergence_risk"}:void 0!==u&&10===u||void 0!==c&&c>=5?{label:"Water Shortage Risk",code:"water_shortage_risk"}:{label:"No Risk",code:"no_risk"}}(l)}(e)}}}}]);