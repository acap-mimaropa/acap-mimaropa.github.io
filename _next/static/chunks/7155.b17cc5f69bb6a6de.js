(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7155],{97155:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return T}});var a=r(85893),i=r(9669),n=r.n(i),s=r(67294),o=r(9473),l=r(444),p=r(61730),c=r(5715),h=r(19635),u=r(52013),d=r(84867),m=r(20577),g=r(64049),f=r(60990),y=r(87483),v=r(43235),x=r.n(v),S=function(e){let{record:t}=e,[r,i]=(0,s.useState)(null),[n,o]=(0,s.useState)(null);return(0,s.useEffect)(()=>{null!==t?i([t.lat,t.lon]):i(null),o(t)},[t]),null===r?null:(0,a.jsx)(m.J,{position:r,eventHandlers:{mouseover:()=>{i(null)},click:()=>{i(null)}},children:(0,a.jsx)(g.u,{className:x().tooltipCustom,permanent:!0,children:(0,a.jsx)("table",{style:{width:"100%"},children:(0,a.jsx)("tbody",{children:["Barangay","Municipality","Province","Association"].map((e,t)=>["lat","lon"].includes(e)?(0,a.jsx)("tr",{},t):(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("b",{children:[e,":"]})}),(0,a.jsx)("td",{children:n[e.toLowerCase()]})]},t))})})})})},b=[{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",name:"Street Map",attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"},{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",name:"Topography Map",attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'},{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",name:"Light",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'},{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.png",name:"Terrain Map",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.jpg",name:"Watercolor",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",name:"Satellite Map",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",name:"Shaded Relief",attribution:"Tiles &copy; Esri &mdash; Source: Esri"},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/Ocean_Basemap/MapServer/tile/{z}/{y}/{x}",name:"Ocean",attribution:"Tiles &copy; Esri &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}],w={width:"100vw",height:"100vh",maxWidth:"100vw",maxHeight:"100vh",margin:0,padding:0,boxSizing:"border-box",position:"absolute",top:0,left:0,overflow:"hidden","@media (min-width: 900px)":{height:"calc(100vh - 100px - 140px)",position:"relative",width:"100vw",overflow:"visible"}};let[M,j]=r(98813).XH.split(",").map(Number),C={lat:M,lng:j},E=["Barangay","Municipality","Province","Association"],A={Marinduque:"#4CAF50","Occidental Mindoro":"#2196F3","Oriental Mindoro":"#FF9800",Palawan:"#9C27B0",Romblon:"#F44336"};var T=function(e){let{data:t={villages:[]}}=e,[r,i]=(0,s.useState)(null),[v,M]=(0,s.useState)(null),j=(0,s.useRef)(null),T=(0,p.Z)(e=>e.breakpoints.down("md")),G=(0,o.v9)(e=>e.provinces.ids),O=(0,o.I0)(),_=(0,s.useRef)(!1);(0,s.useEffect)(()=>{_.current||0!==G.length||(_.current=!0,O((0,l.Q)()))},[O,G.length]);let N=(e,t)=>{j.current&&j.current.flyTo([e,t],10,{duration:2})};return(0,s.useEffect)(()=>{(async()=>{try{let e="default";e&&"default"!==e||(e="/images/regions/mimaropa-provinces-realistic.geojson"),(null==e?void 0:e.startsWith("/"))&&(e="https://acap-mimaropa.github.io"+e);let t=await n().get(e);i(t.data)}catch(e){i(null)}})()},[]),(0,a.jsxs)(f.Z,{sx:w,style:{minHeight:T?"100vh":"600px",overflow:"hidden"},children:[(0,a.jsxs)(c.h,{style:{height:"100%",width:"100%"},center:C,zoom:8,minZoom:7,whenCreated:e=>j.current=e,children:[(0,a.jsx)(h.et,{position:"topleft",children:b.map((e,t)=>(0,a.jsx)(h.et.BaseLayer,{name:e.name,checked:0===t,children:(0,a.jsx)(u.I,{attribution:e.attribution,url:e.url})},t))}),(null==r?void 0:r.features)&&(0,a.jsx)(d.Q,{data:r,style:e=>({fillColor:A[e.properties.province||e.properties.name]||"#999999",fillOpacity:.6,weight:2,color:"#ffffff",opacity:1})},"provinces-geojson"),t.villages.map((e,t)=>(0,a.jsx)(m.J,{position:[e.lat,e.lon],children:(0,a.jsx)(g.u,{className:x().tooltipCustom,direction:"left",children:(0,a.jsx)("table",{children:(0,a.jsx)("tbody",{children:E.map(t=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("b",{children:[t,":"]})}),(0,a.jsx)("td",{children:e[t.toLowerCase()]})]},t))})})})},t)),!T&&(0,a.jsx)(S,{record:v})]}),!T&&(0,a.jsx)(y.default,{record:v,isSmallScreen:T,onSelectMunicipality:(e,r)=>{if(!e||!r){M(null);return}let a=t.villages.find(t=>t.municipality===e&&t.province===r);a&&(M(a),N(a.lat,a.lon))}})]})}},43235:function(e){e.exports={tooltipCustom:"Map_tooltipCustom__CAcp1"}}}]);