(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2535],{97862:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/manage-recommendations",function(){return n(93164)}])},2782:function(e,t,n){"use strict";var a=n(64836);t.Z=void 0;var i=a(n(33651)),l=n(85893);t.Z=(0,i.default)([(0,l.jsx)("path",{d:"M21 19.1H3V5h18zM21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"},"0"),(0,l.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41z"},"1")],"CancelPresentation")},75415:function(e,t,n){"use strict";var a=n(64836);t.Z=void 0;var i=a(n(33651)),l=n(85893);t.Z=(0,i.default)([(0,l.jsx)("path",{d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8m5 11.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z",opacity:".3"},"0"),(0,l.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"},"1")],"CancelTwoTone")},34279:function(e,t,n){"use strict";var a=n(64836);t.Z=void 0;var i=a(n(33651)),l=n(85893);t.Z=(0,i.default)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},60626:function(e,t,n){"use strict";var a=n(64836);t.Z=void 0;var i=a(n(33651)),l=n(85893);t.Z=(0,i.default)((0,l.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"RemoveRedEye")},41653:function(e,t,n){"use strict";var a=n(64836);t.Z=void 0;var i=a(n(33651)),l=n(85893);t.Z=(0,i.default)((0,l.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"SearchTwoTone")},95858:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var a=n(63366),i=n(87462),l=n(67294),s=n(90512),o=n(94780),r=n(77527),d=n(83008),c=n(44001),m=n(96788),h=n(1588),g=n(34867);function u(e){return(0,g.ZP)("MuiDialogContentText",e)}(0,h.Z)("MuiDialogContentText",["root"]);var p=n(85893);let x=["children","className"],v=e=>{let{classes:t}=e,n=(0,o.Z)({root:["root"]},u,t);return(0,i.Z)({},t,n)},j=(0,r.ZP)(m.Z,{shouldForwardProp:e=>(0,d.Z)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({});var _=l.forwardRef(function(e,t){let n=(0,c.i)({props:e,name:"MuiDialogContentText"}),{className:l}=n,o=(0,a.Z)(n,x),r=v(o);return(0,p.jsx)(j,(0,i.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:o,className:(0,s.Z)(r.root,l)},n,{classes:r}))})},93164:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ev}});var a=n(85893),i=n(65328),l=n(45773),s=n(67294),o=n(96788),r=n(60990),d=n(28907),c=n(88607),m=n(97182),h=n(6897),g=n(94143),u=n(15972),p=n(29346),x=n(64740),v=n(51015),j=n(33453),_=n(92365),w=n(96727),b=n(40110),f=n(95858),y=n(5152),C=n.n(y),R=n(98813);let k=(e,t,n)=>{switch(e){case"crop_stage":return R.OV[n][t];case"climate_risk":return R.Vl[t];case"wind_signal":return R.hl[t];default:return t}};var S=function(e){var t;let{selectedRow:i,cropType:l,action:s}=e,d=C()(()=>Promise.all([n.e(2554),n.e(3351)]).then(n.bind(n,53351)),{loadableGenerated:{webpack:()=>[53351]},ssr:!1});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{component:"span",variant:"body1",children:(0,a.jsx)("strong",{children:"Crop:"})}),(0,a.jsx)(r.Z,{ml:1,component:"span",children:(0,a.jsx)(o.Z,{component:"span",variant:"body1",children:null==i?void 0:i.row.crop})})]}),(0,a.jsxs)("span",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{component:"span",variant:"body1",children:(0,a.jsx)("strong",{children:"Crop Stage:"})}),(0,a.jsx)(r.Z,{ml:1,component:"span",children:(0,a.jsx)(o.Z,{component:"span",variant:"body1",children:null==i?void 0:null===(t=i.row)||void 0===t?void 0:t.crop_stage})})]}),(0,a.jsxs)("span",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{component:"span",variant:"body1",children:(0,a.jsx)("strong",{children:"Farming Activity:"})}),(0,a.jsx)(r.Z,{ml:1,component:"span",children:(0,a.jsx)(o.Z,{component:"span",variant:"body1",children:k("farming_activity",null==i?void 0:i.row.farming_activity,l)})})]}),(0,a.jsxs)("span",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{component:"span",variant:"body1",children:(0,a.jsx)("strong",{children:"Climate Risk:"})}),(0,a.jsx)(r.Z,{ml:1,component:"span",children:(0,a.jsx)(o.Z,{component:"span",variant:"body1",children:k("climate_risk",null==i?void 0:i.row.climate_risk,l)})})]}),"View"===s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{children:[(0,a.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Impact Outlook English:"})}),(0,a.jsx)("span",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.impact_outlook_english}})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,a.jsx)("span",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.impact_outlook_tagalog}})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Management Recommendations English:"})}),(0,a.jsx)("span",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.management_recommendations_english}})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Management Recommendations Tagalog:"})}),(0,a.jsx)("span",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.management_recommendations_tagalog}})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Impact Outlook English:"})}),(0,a.jsxs)("span",{children:[(0,a.jsx)("textarea",{id:"impactOutlookEnglish",name:"impactOutlookEnglish",hidden:!0}),(0,a.jsx)(d,{name:"impactOutlookEnglish",editorLoaded:!0,value:null==i?void 0:i.row.impact_outlook_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookEnglish").value=e}})]}),(0,a.jsx)("br",{}),(0,a.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,a.jsxs)("span",{children:[(0,a.jsx)("textarea",{id:"impactOutlookTagalog",name:"impactOutlookTagalog",hidden:!0}),(0,a.jsx)(d,{name:"impactOutlookTagalog",editorLoaded:!0,value:null==i?void 0:i.row.impact_outlook_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookTagalog").value=e}})]}),(0,a.jsx)("br",{}),(0,a.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Managemenent Recommendations English:"})}),(0,a.jsxs)("span",{children:[(0,a.jsx)("textarea",{id:"managementRecommendationsEnglish",name:"managementRecommendationsEnglish",hidden:!0}),(0,a.jsx)(d,{name:"managementRecommendationsEnglish",editorLoaded:!0,value:null==i?void 0:i.row.management_recommendations_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsEnglish").value=e}})]}),(0,a.jsx)("br",{}),(0,a.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Managemenent Recommendations Tagalog:"})}),(0,a.jsxs)("span",{children:[(0,a.jsx)("textarea",{id:"managementRecommendationsTagalog",name:"managementRecommendationsTagalog",hidden:!0}),(0,a.jsx)(d,{name:"managementRecommendationsTagalog",editorLoaded:!0,value:null==i?void 0:i.row.management_recommendations_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsTagalog").value=e}})]})]})]})},Z=n(26541),T=function(e){let{selectedRow:t,action:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{component:"span",variant:"body1",children:(0,a.jsx)("strong",{children:"Crop:"})}),(0,a.jsx)(r.Z,{ml:1,component:"span",children:(0,a.jsx)(o.Z,{component:"span",variant:"body1",children:null==t?void 0:t.row.crop})})]}),(0,a.jsxs)("span",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{component:"span",variant:"body1",children:(0,a.jsx)("strong",{children:"Climate Risk:"})}),(0,a.jsx)(r.Z,{ml:1,component:"span",children:(0,a.jsx)(o.Z,{component:"span",variant:"body1",children:k("climate_risk",null==t?void 0:t.row.climate_risk,null)})})]}),(0,a.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,a.jsx)("strong",{children:"SMS:"})}),(0,a.jsx)(r.Z,{sx:{marginTop:"16px"},children:"View"===n?(0,a.jsx)(o.Z,{variant:"subtitle1",children:null==t?void 0:t.row.sms}):(0,a.jsx)(Z.Z,{fullWidth:!0,multiline:!0,minRows:3,id:"sms",name:"sms",label:"Outlined",variant:"outlined",defaultValue:null==t?void 0:t.row.sms})})]})},E=function(e){var t;let{selectedRow:i,cropType:l,action:s}=e,r=C()(()=>Promise.all([n.e(2554),n.e(3351)]).then(n.bind(n,53351)),{loadableGenerated:{webpack:()=>[53351]},ssr:!1});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,a.jsx)(o.Z,{variant:"subtitle1",children:null==i?void 0:i.row.crop})]}),(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Crop Stage:"})}),"\xa0",(0,a.jsx)(o.Z,{variant:"subtitle1",children:null==i?void 0:null===(t=i.row)||void 0===t?void 0:t.crop_stage})]}),(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Farming Activity:"})}),"\xa0",(0,a.jsx)(o.Z,{variant:"subtitle1",children:k("farming_activity",null==i?void 0:i.row.farming_activity,l)})]}),(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Climate Risk:"})}),"\xa0",(0,a.jsx)(o.Z,{variant:"subtitle1",children:k("climate_risk",null==i?void 0:i.row.climate_risk,l)})]}),"View"===s?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Impact Outlook English:"})}),(0,a.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.impact_outlook_english}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,a.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.impact_outlook_tagalog}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Management Recommendations English:"})}),(0,a.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.management_recommendations_english}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Management Recommendations Tagalog:"})}),(0,a.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.management_recommendations_tagalog}})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Impact Outlook English:"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("textarea",{id:"impactOutlookEnglish",name:"impactOutlookEnglish",hidden:!0}),(0,a.jsx)(r,{name:"impactOutlookEnglish",editorLoaded:!0,value:null==i?void 0:i.row.impact_outlook_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookEnglish").value=e}})]}),(0,a.jsx)("br",{}),(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("textarea",{id:"impactOutlookTagalog",name:"impactOutlookTagalog",hidden:!0}),(0,a.jsx)(r,{name:"impactOutlookTagalog",editorLoaded:!0,value:null==i?void 0:i.row.impact_outlook_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookTagalog").value=e}})]}),(0,a.jsx)("br",{}),(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Managemenent Recommendations English:"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("textarea",{id:"managementRecommendationsEnglish",name:"managementRecommendationsEnglish",hidden:!0}),(0,a.jsx)(r,{name:"managementRecommendationsEnglish",editorLoaded:!0,value:null==i?void 0:i.row.management_recommendations_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsEnglish").value=e}})]}),(0,a.jsx)("br",{}),(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Managemenent Recommendations Tagalog:"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("textarea",{id:"managementRecommendationsTagalog",name:"managementRecommendationsTagalog",hidden:!0}),(0,a.jsx)(r,{name:"managementRecommendationsTagalog",editorLoaded:!0,value:null==i?void 0:i.row.management_recommendations_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsTagalog").value=e}})]})]})]})},O=function(e){let{selectedRow:t,cropType:i,action:l}=e,s=C()(()=>Promise.all([n.e(2554),n.e(3351)]).then(n.bind(n,53351)),{loadableGenerated:{webpack:()=>[53351]},ssr:!1});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,a.jsx)(o.Z,{variant:"subtitle1",children:null==t?void 0:t.row.crop})]}),(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Climate Risk:"})}),"\xa0",(0,a.jsx)(o.Z,{variant:"subtitle1",children:k("climate_risk",null==t?void 0:t.row.climate_risk,i)})]}),"View"===l?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Impact Outlook English:"})}),(0,a.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==t?void 0:t.row.impact_outlook_english}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,a.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==t?void 0:t.row.impact_outlook_tagalog}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Management Recommendations English:"})}),(0,a.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==t?void 0:t.row.management_recommendations_english}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Management Recommendations Tagalog:"})}),(0,a.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==t?void 0:t.row.management_recommendations_tagalog}})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Impact Outlook English:"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("textarea",{id:"impactOutlookEnglish",name:"impactOutlookEnglish",hidden:!0}),(0,a.jsx)(s,{name:"impactOutlookEnglish",editorLoaded:!0,value:null==t?void 0:t.row.impact_outlook_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookEnglish").value=e}})]}),(0,a.jsx)("br",{}),(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("textarea",{id:"impactOutlookTagalog",name:"impactOutlookTagalog",hidden:!0}),(0,a.jsx)(s,{name:"impactOutlookTagalog",editorLoaded:!0,value:null==t?void 0:t.row.impact_outlook_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookTagalog").value=e}})]}),(0,a.jsx)("br",{}),(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Managemenent Recommendations English:"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("textarea",{id:"managementRecommendationsEnglish",name:"managementRecommendationsEnglish",hidden:!0}),(0,a.jsx)(s,{name:"managementRecommendationsEnglish",editorLoaded:!0,value:null==t?void 0:t.row.management_recommendations_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsEnglish").value=e}})]}),(0,a.jsx)("br",{}),(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Managemenent Recommendations Tagalog:"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("textarea",{id:"managementRecommendationsTagalog",name:"managementRecommendationsTagalog",hidden:!0}),(0,a.jsx)(s,{name:"managementRecommendationsTagalog",editorLoaded:!0,value:null==t?void 0:t.row.management_recommendations_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsTagalog").value=e}})]})]})]})},I=function(e){let{selectedRow:t,action:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,a.jsx)(o.Z,{variant:"subtitle1",children:null==t?void 0:t.row.crop})]}),(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Climate Risk:"})}),"\xa0",(0,a.jsx)(o.Z,{variant:"subtitle1",children:k("climate_risk",null==t?void 0:t.row.climate_risk,null)})]}),(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"SMS:"})}),(0,a.jsx)(r.Z,{sx:{marginTop:"16px"},children:"View"===n?(0,a.jsx)(o.Z,{variant:"subtitle1",children:null==t?void 0:t.row.sms}):(0,a.jsx)(Z.Z,{fullWidth:!0,multiline:!0,minRows:3,id:"sms",name:"sms",label:"Outlined",variant:"outlined",defaultValue:null==t?void 0:t.row.sms})})]})},M=function(e){let{selectedRow:t,cropType:i,action:l}=e,s=C()(()=>Promise.all([n.e(2554),n.e(3351)]).then(n.bind(n,53351)),{loadableGenerated:{webpack:()=>[53351]},ssr:!1});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,a.jsx)(o.Z,{variant:"subtitle1",children:null==t?void 0:t.row.crop})]}),(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Wind Signal:"})}),"\xa0",(0,a.jsx)(o.Z,{variant:"subtitle1",children:k("wind_signal",null==t?void 0:t.row.wind_signal,i)})]}),"View"===l?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Impact Outlook English:"})}),(0,a.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==t?void 0:t.row.impact_outlook_english}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,a.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==t?void 0:t.row.impact_outlook_tagalog}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Management Recommendations English:"})}),(0,a.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==t?void 0:t.row.management_recommendations_english}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Management Recommendations Tagalog:"})}),(0,a.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==t?void 0:t.row.management_recommendations_tagalog}})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Impact Outlook English:"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("textarea",{id:"impactOutlookEnglish",name:"impactOutlookEnglish",hidden:!0}),(0,a.jsx)(s,{name:"impactOutlookEnglish",editorLoaded:!0,value:null==t?void 0:t.row.impact_outlook_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookEnglish").value=e}})]}),(0,a.jsx)("br",{}),(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("textarea",{id:"impactOutlookTagalog",name:"impactOutlookTagalog",hidden:!0}),(0,a.jsx)(s,{name:"impactOutlookTagalog",editorLoaded:!0,value:null==t?void 0:t.row.impact_outlook_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookTagalog").value=e}})]}),(0,a.jsx)("br",{}),(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Managemenent Recommendations English:"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("textarea",{id:"managementRecommendationsEnglish",name:"managementRecommendationsEnglish",hidden:!0}),(0,a.jsx)(s,{name:"managementRecommendationsEnglish",editorLoaded:!0,value:null==t?void 0:t.row.management_recommendations_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsEnglish").value=e}})]}),(0,a.jsx)("br",{}),(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Managemenent Recommendations Tagalog:"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("textarea",{id:"managementRecommendationsTagalog",name:"managementRecommendationsTagalog",hidden:!0}),(0,a.jsx)(s,{name:"managementRecommendationsTagalog",editorLoaded:!0,value:null==t?void 0:t.row.management_recommendations_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsTagalog").value=e}})]})]})]})},N=function(e){let{selectedRow:t,cropType:n,action:i}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,a.jsx)(o.Z,{variant:"subtitle1",children:null==t?void 0:t.row.crop})]}),(0,a.jsxs)("div",{style:{display:"flex"},children:[(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Wind Signal:"})}),"\xa0",(0,a.jsx)(o.Z,{variant:"subtitle1",children:k("wind_signal",null==t?void 0:t.row.wind_signal,n)})]}),(0,a.jsx)(o.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"SMS:"})}),"\xa0",(0,a.jsx)(o.Z,{variant:"subtitle1",children:null==t?void 0:t.row.sms}),(0,a.jsx)(r.Z,{sx:{marginTop:"16px"},children:"View"===i?(0,a.jsx)(o.Z,{variant:"subtitle1",children:null==t?void 0:t.row.sms}):(0,a.jsx)(Z.Z,{fullWidth:!0,multiline:!0,minRows:3,id:"sms",name:"sms",label:"Outlined",variant:"outlined",defaultValue:null==t?void 0:t.row.sms})})]})},L=function(e){let{action:t,open:n,handleClose:i,selectedRow:l,cropType:s,recommendationType:o,handleSubmit:r}=e;return(0,a.jsxs)(j.Z,{fullWidth:!0,maxWidth:"md",open:n,onClose:i,PaperProps:{component:"form",onSubmit:e=>{if(e.preventDefault(),o.label.includes("SMS")){let{sms:t}=e.target;delete l.row.crop_stage,r({...l.row,sms:t.value||l.row.sms})}else{let{impactOutlookEnglish:t,impactOutlookTagalog:n,managementRecommendationsEnglish:a,managementRecommendationsTagalog:i}=e.target;r({...l.row,impact_outlook_english:t.value||l.row.impact_outlook_english,impact_outlook_tagalog:n.value||l.row.impact_outlook_tagalog,management_recommendations_english:a.value||l.row.management_recommendations_english,management_recommendations_tagalog:i.value||l.row.management_recommendations_tagalog})}}},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,a.jsx)(_.Z,{id:"alert-dialog-title",children:"View"===t?"View ".concat(o.label," Recommendation"):"Edit ".concat(o.label," Recommendation")}),(0,a.jsx)(b.Z,{dividers:!0,children:(0,a.jsxs)(f.Z,{id:"alert-dialog-description",children:["tenday"===o.value&&(0,a.jsx)(S,{selectedRow:l,cropType:s,action:t}),"tenday_sms"===o.value&&(0,a.jsx)(T,{selectedRow:l,action:t}),"seasonal"===o.value&&(0,a.jsx)(E,{selectedRow:l,cropType:s,action:t}),"seasonal_general"===o.value&&(0,a.jsx)(O,{selectedRow:l,cropType:s,action:t}),"seasonal_sms"===o.value&&(0,a.jsx)(I,{selectedRow:l,action:t}),"special"===o.value&&(0,a.jsx)(M,{selectedRow:l,cropType:s,action:t}),"special_sms"===o.value&&(0,a.jsx)(N,{selectedRow:l,cropType:s,action:t})]})}),(0,a.jsxs)(w.Z,{children:[(0,a.jsx)(v.Z,{onClick:i,children:"Close"}),"Edit"===t&&(0,a.jsx)(v.Z,{type:"submit",children:"Update"})]})]})},A=n(17553),D=n(60626),F=n(34279),P=function(e){let{params:t,setSelectedRow:n,setOpen:i,setAction:l}=e,s=e=>{n(t),i(!0),l(e)};return(0,a.jsxs)(r.Z,{sx:{m:1,position:"relative"},children:[(0,a.jsx)(D.Z,{color:"primary",sx:{"&:hover":{cursor:"pointer"},marginRight:"16px"},onClick:()=>s("View")}),(0,a.jsx)(F.Z,{color:"primary",sx:{"&:hover":{cursor:"pointer"}},onClick:()=>s("Edit")})]})};let W=(e,t,n,i,l)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:e=>(0,a.jsx)(P,{params:e,setSelectedRow:t,setOpen:n,setAction:i})},{field:"crop",headerName:"Crop",width:100},{field:"crop_stage",headerName:"Crop Stage",width:200,renderCell:e=>{var t;return null==l?void 0:null===(t=l[e.value])||void 0===t?void 0:t.label}},{field:"farming_activity",headerName:"Farming Activity",width:170},{field:"climate_risk",headerName:"Climate Risk",width:150,renderCell:t=>k(t.field,t.value,e)},{field:"impact_outlook_english",headerName:"Impact Outlook English",width:200},{field:"impact_outlook_tagalog",headerName:"Impact Outlook Tagalog",width:200},{field:"management_recommendations_english",headerName:"Management Recommendations English",width:300},{field:"management_recommendations_tagalog",headerName:"Management Recommendations Tagalog",width:300}],B=(e,t,n)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:i=>(0,a.jsx)(P,{isSMS:!0,params:i,setSelectedRow:e,setOpen:t,setAction:n})},{field:"crop",headerName:"Crop",width:100},{field:"climate_risk",headerName:"Climate Risk",width:170,renderCell:e=>k(e.field,e.value,null)},{field:"sms",headerName:"SMS",width:500}],H=(e,t,n,i,l)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:e=>(0,a.jsx)(P,{params:e,setSelectedRow:t,setOpen:n,setAction:i})},{field:"crop",headerName:"Crop",width:100},{field:"crop_stage",headerName:"Crop Stage",width:200,renderCell:e=>{var t;return null==l?void 0:null===(t=l[e.value])||void 0===t?void 0:t.label}},{field:"farming_activity",headerName:"Farming Activity",width:170},{field:"climate_risk",headerName:"Climate Risk",width:150,renderCell:t=>k(t.field,t.value,e)},{field:"impact_outlook_english",headerName:"Impact Outlook English",width:200},{field:"impact_outlook_tagalog",headerName:"Impact Outlook Tagalog",width:200},{field:"management_recommendations_english",headerName:"Management Recommendations English",width:300},{field:"management_recommendations_tagalog",headerName:"Management Recommendations Tagalog",width:300}],V=(e,t,n,i)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:e=>(0,a.jsx)(P,{params:e,setSelectedRow:t,setOpen:n,setAction:i})},{field:"crop",headerName:"Crop",width:100},{field:"climate_risk",headerName:"Climate Risk",width:150,renderCell:t=>k(t.field,t.value,e)},{field:"impact_outlook_english",headerName:"Impact Outlook English",width:200},{field:"impact_outlook_tagalog",headerName:"Impact Outlook Tagalog",width:200},{field:"management_recommendations_english",headerName:"Management Recommendations English",width:300},{field:"management_recommendations_tagalog",headerName:"Management Recommendations Tagalog",width:300}],q=(e,t,n)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:i=>(0,a.jsx)(P,{isSMS:!0,params:i,setSelectedRow:e,setOpen:t,setAction:n})},{field:"crop",headerName:"Crop",width:100},{field:"climate_risk",headerName:"Climate Risk",width:170,renderCell:e=>k(e.field,e.value,null)},{field:"sms",headerName:"SMS",width:500}],U=(e,t,n)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:i=>(0,a.jsx)(P,{params:i,setSelectedRow:e,setOpen:t,setAction:n})},{field:"crop",headerName:"Crop",width:100},{field:"wind_signal",headerName:"Wind Signal",width:170,renderCell:e=>k(e.field,e.value,null)},{field:"impact_outlook_english",headerName:"Impact Outlook English",width:200},{field:"impact_outlook_tagalog",headerName:"Impact Outlook Tagalog",width:200},{field:"management_recommendations_english",headerName:"Management Recommendations English",width:300},{field:"management_recommendations_tagalog",headerName:"Management Recommendations Tagalog",width:300}],z=(e,t,n)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:i=>(0,a.jsx)(P,{isSMS:!0,params:i,setSelectedRow:e,setOpen:t,setAction:n})},{field:"crop",headerName:"Crop",width:100},{field:"wind_signal",headerName:"Wind Signal",width:170,renderCell:e=>k(e.field,e.value,null)},{field:"sms",headerName:"SMS",width:500}];var G=n(22088),Q=function(e){let{rows:t,tab:n,cropType:i,cropStages:l,seasonalCropStages:o}=e,d="",[c,m]=(0,s.useState)(!1),[h,g]=(0,s.useState)(null),[u,p]=(0,s.useState)(null),[v,j]=(0,s.useState)({open:!1,message:"",severity:""}),_=()=>{m(!1)},w=async e=>{try{await (0,G.vU)({type:n.value,newRecommendation:["docid","sms","impact_outlook_english","impact_outlook_english","management_recommendations_english","management_recommendations_tagalog"].reduce((t,n)=>({...t,...e[n]&&{[n]:e[n]}}),{})}),j({open:!0,message:"Successfully edited recommendation.",severity:"success"}),window.location.reload()}catch(e){j({open:!0,message:e.message||"Something went wrong.",error:e.message,severity:"error"})}_()},b=e=>{var t;g({...e,row:{...e.row,crop_stage:null==l?void 0:null===(t=l[e.row.crop_stage])||void 0===t?void 0:t.label}})};switch(n.value){case"tenday":default:d=W(i,b,m,p,l);break;case"tenday_sms":d=B(b,m,p);break;case"seasonal":d=H(i,b,m,p,o);break;case"seasonal_general":d=V(i,b,m,p);break;case"seasonal_sms":d=q(b,m,p);break;case"special":d=U(b,m,p);break;case"special_sms":d=z(b,m,p)}return(0,a.jsxs)("div",{children:[(0,a.jsx)(A.Z,{openSnackbar:v.open,message:v.message,severity:v.severity,closeHandlerCB:()=>{j({...v,open:!1})}}),(0,a.jsx)(L,{action:u,open:c,handleClose:_,selectedRow:h,cropType:i,recommendationType:n,handleSubmit:w}),(0,a.jsx)(r.Z,{sx:{height:700,width:"100%"},children:(0,a.jsx)(x._,{density:"compact",rows:t,columns:d,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],disableRowSelectionOnClick:!0})})]})},X=n(61061),K=n(9704);let $={LOAD:"load",FETCH_SUCCESS:"fetch_success",FETCH_ERROR:"fetch_error",SET:"set"},J={stages:null,selectedStages:null,loading:!0,error:""},Y=(e,t)=>{if(t.type===$.LOAD)return{...e,loading:!0,error:""};if(t.type===$.FETCH_SUCCESS)return{...e,loading:!1,stages:t.payload};if(t.type===$.FETCH_ERROR)return{...e,stages:null,error:t.payload};if(t.type===$.SET)return{...e,selectedStages:t.payload};throw Error("Invalid action type")};function ee(e,t){let[n,a]=(0,s.useReducer)(Y,J),{loadingCrops:i,cropList:l}=(0,K.Z)();return(0,s.useEffect)(()=>{let n=async function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{let i=[];(n=n.filter(e=>e===t)).forEach(t=>i.push((0,X.Fj)(e,t)));let l=await Promise.all(i);a({type:$.FETCH_SUCCESS,payload:n.reduce((e,t,n)=>({...e,[t]:l[n].data}),{})})}catch(e){var i,l;a({type:$.FETCH_ERROR,payload:null!==(l=null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.data)&&void 0!==l?l:null==e?void 0:e.message})}};!i&&(null==l?void 0:l.length)>0&&n(l)},[e,t,l,i]),(0,s.useEffect)(()=>{if(t&&n.stages){var e,i;a({type:$.SET,payload:null!==(i=null===(e=n.stages)||void 0===e?void 0:e[t])&&void 0!==i?i:null})}},[t,n.stages]),n}let et=["Rice","Corn","Cassava","PoleSitao","Ampalaya"],en=[{index:0,label:"Ten Day",value:"tenday"},{index:1,label:"Ten Day SMS",value:"tenday_sms"},{index:2,label:"Seasonal",value:"seasonal"},{index:3,label:"Seasonal General",value:"seasonal_general"},{index:4,label:"Seasonal SMS",value:"seasonal_sms"},{index:5,label:"Special",value:"special"},{index:6,label:"Special SMS",value:"special_sms"}];var ea=function(){let[e,t]=(0,s.useState)("Rice"),[n,i]=(0,s.useState)({index:0,label:"Ten Day",value:"tenday"}),[l,x]=(0,s.useState)(0),{selectedStages:v,loading:j}=ee("10-day",e),{selectedStages:_,loading:w}=ee("seasonal",e),{recommendations:b,loading:f,error:y}=function(e,t){let[n,a]=(0,s.useState)([]),[i,l]=(0,s.useState)(!1),[o,r]=(0,s.useState)("");return(0,s.useEffect)(()=>{let n=async()=>{try{let n=await (0,G.sT)({crop:e,type:t});a(n||[])}catch(e){var n,i;r(null!==(i=null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==i?i:e.message),l(!1)}};e&&t&&n()},[e,t]),{recommendations:n,loading:i,error:o}}(e,n.value);return(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Manage recommendations"})," by viewing, adding, editing, deleting a recommendation."]}),(0,a.jsx)(r.Z,{sx:{width:200,marginTop:"30px"},children:(0,a.jsxs)(h.Z,{fullWidth:!0,children:[(0,a.jsx)(g.Z,{id:"demo-simple-select-label",children:"Crop Type"}),(0,a.jsx)(p.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:e,label:"Crop Type",onChange:e=>{t(e.target.value)},children:et.map(e=>(0,a.jsx)(u.Z,{value:e,children:e},e))})]})}),(0,a.jsx)(r.Z,{sx:{width:"100%",marginTop:{xs:"15px",lg:"25px"},textAlign:"center"},children:f||j||w?(0,a.jsxs)("div",{sx:{display:"flex",justifyContent:"center"},children:[(0,a.jsx)("span",{children:"Loading..."}),(0,a.jsx)(m.Z,{size:24,color:"primary"})]}):(0,a.jsx)(a.Fragment,{children:y?(0,a.jsx)(o.Z,{variant:"body1",color:"error",children:"Something went wrong. Unable to retrieve recommendations."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,a.jsx)(c.Z,{value:l,onChange:(e,t)=>{x(t),i(en[t])},"aria-label":"basic tabs example",children:en.map((e,t)=>(0,a.jsx)(d.Z,{label:e.label,id:"simple-tab-".concat(t),"aria-controls":"simple-tabpanel-".concat(t)},t))})}),(0,a.jsx)(function(e){let{children:t,value:n,index:i,...l}=e;return(0,a.jsx)("div",{role:"tabpanel",hidden:n!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i),...l,children:n===i&&(0,a.jsx)(r.Z,{sx:{p:3,whiteSpace:e.smsstyle},children:t})})},{value:n.index,index:n.index,children:null!==v&&(0,a.jsx)(Q,{rows:b,tab:n,cropType:e,cropStages:v,seasonalCropStages:_})})]})})})]})},ei=n(9473),el=n(68573),es=n(9669),eo=n.n(es),er=n(15426);class ed extends er.Z{async upsertCropRecommendations(e,t){let n=await this.createRequestObject({body:e});return(await eo()({...n,url:"".concat("https://acap-mimaropa-server.onrender.com\n","/uploadCropRecommendations/").concat(t),method:"POST"})).data}}let ec=new ed,em=ec.upsertCropRecommendations.bind(ec);var eh=n(25517),eg=n(22233),eu={marginBottom:e=>e.spacing(3),maxWidth:"800px",color:"gray","& a":{textDecoration:"none",color:e=>e.palette.green.dark},"& a:hover":{textDecoration:"underline"},"& a:visited":{color:e=>e.palette.green.dark}},ep=function(){let[e,t]=(0,s.useState)([]),[n,i]=(0,s.useState)(""),l=(0,ei.v9)(e=>e.seasonalweather.status),d=()=>{t(e.map(e=>({...e,isValid:!1,value:""})))},c=async e=>new Promise(async(t,a)=>{try{await em(e,n),t(!0)}catch(e){a(e)}});return(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Manage recommendations"})," by uploading Excel-formatted templates."]}),(0,a.jsxs)("p",{children:["Before uploading recommendations with data,"," ",(0,a.jsx)("strong",{children:"first download the template"})," of the respective crop you will add into the system."]}),(0,a.jsx)("br",{}),(0,a.jsxs)(el.ZP,{container:!0,spacing:2,children:[(0,a.jsxs)(el.ZP,{item:!0,xs:12,md:6,children:[(0,a.jsx)(o.Z,{variant:"h6",children:"List of Crop Recommendations and their Templates"}),(0,a.jsx)("br",{}),(0,a.jsxs)(o.Z,{variant:"body2",sx:eu,children:[(0,a.jsx)("a",{href:"https://firebasestorage.googleapis.com/v0/b/acap-mimaropa-dev.appspot.com/o/files%2Ftemplates%2F%5Bpassed%5D%20Rice-Recommendations-v2.1_final%20(1).xlsx?alt=media&token=a6a0f64f-75e3-4932-9a48-067fe8a2478f",target:"__blank",children:"[Rice Recommendations Excel template]"}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("a",{href:"https://firebasestorage.googleapis.com/v0/b/acap-mimaropa-dev.appspot.com/o/files%2Ftemplates%2F%5Bpassed%5D%20Corn-Recommendation_v2.1_final.xlsx?alt=media&token=b3733ad0-2971-48a6-aa3d-0255b6c705e5",target:"__blank",children:"[Corn Recommendations Excel template]"})]})]}),(0,a.jsxs)(el.ZP,{item:!0,xs:12,md:6,children:[(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"Upload Recommendations"})}),(0,a.jsx)(r.Z,{sx:{minWidth:120},children:(0,a.jsxs)(h.Z,{fullWidth:!0,children:[(0,a.jsx)(g.Z,{id:"demo-simple-select-label",children:"Crop Type"}),(0,a.jsx)(p.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:n,label:"Crop Type",onChange:e=>{i(e.target.value)},children:["Rice","Corn","Cassava","PoleSitao","Ampalaya"].map(e=>(0,a.jsx)(u.Z,{value:e,children:e},e))})]})}),(0,a.jsx)("br",{}),(0,a.jsxs)(el.ZP,{item:!0,xs:12,children:[(0,a.jsx)(eg.Z,{label:"Upload an excel file",name:"excelfile",fileAccepts:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",isDisabled:l===eh.G.PENDING||!n,fileUploadMethod:c,onFileSelectedCB:e=>{e||d()}}),(0,a.jsxs)(o.Z,{variant:"caption",children:["Please select ",(0,a.jsx)("strong",{children:"Crop Type"})," first before uploading a file."]})]})]})]})]})},ex=function(){let[e,t]=(0,s.useState)(0);function n(e){let{children:t,value:n,index:i,...l}=e;return(0,a.jsx)("div",{role:"tabpanel",hidden:n!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i),...l,children:n===i&&(0,a.jsx)(r.Z,{sx:{p:3,whiteSpace:e.smsstyle},children:t})})}function i(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}return(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{variant:"h5",children:"Recommendations Management"}),(0,a.jsxs)(r.Z,{sx:{width:"100%",marginTop:{xs:"15px",lg:"25px"}},children:[(0,a.jsx)(r.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,a.jsxs)(c.Z,{value:e,onChange:(e,n)=>{t(n)},"aria-label":"basic tabs example",children:[(0,a.jsx)(d.Z,{label:"UPLOAD",...i(0)}),(0,a.jsx)(d.Z,{label:"MANAGE",...i(1)})]})}),(0,a.jsx)(n,{value:e,index:0,smsstyle:"normal",children:(0,a.jsx)(ep,{})}),(0,a.jsx)(n,{value:e,index:1,smsstyle:"normal",children:(0,a.jsx)(ea,{})})]})]})},ev=(0,i.Z)(function(e){let{loading:t,user:n,onBtnLogoutClick:i}=e;return(0,a.jsx)(l.Z,{loading:t,user:n,onBtnLogoutClick:i,accLevel:R.DW.ADMIN,children:(0,a.jsx)(ex,{})})})},9704:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(67294),i=n(61061);function l(){let[e,t]=(0,a.useState)([]),[n,l]=(0,a.useState)(!1),[s,o]=(0,a.useState)("");return(0,a.useEffect)(()=>{(async()=>{var e,n,a;try{l(!0);let n=await (0,i.TQ)();t(null!==(e=null==n?void 0:n.list)&&void 0!==e?e:[]),l(!1),o("")}catch(e){o(null!==(a=null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==a?a:e.message),l(!1),t([])}})()},[]),{cropList:e,loading:n,error:s}}},22088:function(e,t,n){"use strict";n.d(t,{sT:function(){return h},$K:function(){return r},fI:function(){return c},O_:function(){return u},iR:function(){return m},Ee:function(){return d},vU:function(){return g}});var a=n(96171),i=n(78986);let l={CROP_REC_LIST_RECS_LITE:"n_list_crop_recommendations",CROP_REC_LIST_RECS_FORMATTED:"n_list_crop_recommendations_",CROP_REC_LIST:"n_crop_recommendations_",CROP_REC_SMS_LIST:"n_crop_recommendations_"};class s extends a.Z{constructor(...e){super(...e),this.getFormattedRecommendationsFromStages=async e=>{let t,{cropstages:n,forecast:a,type:s}=e;if(void 0===n||void 0===a)return;let o="".concat(l.CROP_REC_LIST_RECS_FORMATTED).concat(s),r=this.collection(this.db,o);return t=s===i.q.SEASONAL?this.query(r,this.where("crop_stage","in",n),this.where("forecast","==",a)):this.query(r,this.where("crop_stage","in",n)),await this.getCollectionData(o,"",t)},this.getFormattedRecommendations=async e=>{let t,{cropstage:n,forecast:a,type:s}=e;if(void 0===n||void 0===a)return;let o="".concat(l.CROP_REC_LIST_RECS_FORMATTED).concat(s),r=this.collection(this.db,o);return t=s===i.q.SEASONAL?this.query(r,this.where("crop_stage","==",n),this.where("forecast","==",a)):this.query(r,this.where("crop_stage","==",n)),await this.getCollectionData(o,"",t)},this.getCropRecommendationsLite=async e=>{let{type:t}=e;return await this.getDocumentData(l.CROP_REC_LIST_RECS_LITE,t)},this.getCropRecommendations=async e=>{let{crop:t,type:n}=e;if(!t||!n)return;let a="".concat(l.CROP_REC_LIST).concat(n),i=this.collection(this.db,a),s=this.query(i,this.where("crop","==",t));return await this.getCollectionDataWithID(a,"",s)},this.getRecommendations=async e=>{let t,{climateRisk:n,_cropStage:a,crop:i,type:s,multipleStages:o}=e;if(!n||!i)return;if(o){if(0===a.length)return}else if(!a)return;let r="".concat(l.CROP_REC_LIST).concat(s),d=this.collection(this.db,r);return t=o?this.query(d,this.where("climate_risk","==",n),this.where("crop_stage","in",a),this.where("crop","==",i)):this.query(d,this.where("climate_risk","==",n),this.where("crop_stage","==",a),this.where("crop","==",i)),await this.getCollectionData(r,"",t)},this.getSeasonalGeneralRecommendations=async e=>{let{climateRisk:t,crop:n}=e;if(!t||!n)return;let a="n_crop_recommendations_seasonal_general",i=this.collection(this.db,a),l=this.query(i,this.where("climate_risk","==",t),this.where("crop","==",n));return await this.getCollectionData(a,"",l)},this.getRecommendationsFlexible=async e=>{let{climateRisk:t,_cropStage:n,crop:a,type:i,multipleStages:s=!1}=e,o="".concat(l.CROP_REC_LIST).concat(i),r=this.collection(this.db,o);if(!a)return;let d=[this.where("crop","==",a)];t&&d.push(this.where("climate_risk","==",t)),n&&(s?d.push(this.where("crop_stage","in",n)):d.push(this.where("crop_stage","==",n)));let c=this.query(r,...d);return await this.getCollectionData(o,"",c)},this.getRecommendationsQuery=async e=>{let{type:t,queryFields:n=[]}=e;if(!t)throw Error("Missing parameter/s");let a="".concat(l.CROP_REC_LIST).concat(t),i=this.collection(this.db,a),s=n.map(e=>this.where(e.field,e.op,e.value)),o=this.query(i,...s);return await this.getCollectionData(a,"",o)},this.getRecommendationsSMS=async e=>{let{crop:t,climateRisk:n,type:a}=e;if(!t||!n||!a)return;let i="".concat(l.CROP_REC_SMS_LIST).concat(a),s=this.collection(this.db,i),o=this.query(s,this.where("crop","==",t),this.where("climate_risk","==",n));return await this.getCollectionData(i,"",o)},this.updateRecommendation=async e=>{let{type:t,newRecommendation:n}=e,a="".concat(l.CROP_REC_SMS_LIST).concat(t),i=this.collection(this.db,a),s=this.doc(i,n.docid);delete n.docid,await this.updateDoc(s,n)}}}let o=new s;o.getFormattedRecommendations.bind(o),o.getFormattedRecommendationsFromStages.bind(o),o.getCropRecommendationsLite.bind(o);let r=o.getRecommendations.bind(o),d=o.getSeasonalGeneralRecommendations.bind(o),c=o.getRecommendationsFlexible.bind(o),m=o.getRecommendationsSMS.bind(o),h=o.getCropRecommendations.bind(o),g=o.updateRecommendation.bind(o),u=o.getRecommendationsQuery.bind(o)}},function(e){e.O(0,[3153,6856,190,8583,1664,6541,955,4073,2380,5837,6080,3481,3338,7988,3270,4740,8591,2233,2888,9774,179],function(){return e(e.s=97862)}),_N_E=e.O()}]);