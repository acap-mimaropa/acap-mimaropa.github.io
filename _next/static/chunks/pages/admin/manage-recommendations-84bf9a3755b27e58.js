(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2535],{97862:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/manage-recommendations",function(){return a(93164)}])},2782:function(e,t,a){"use strict";var n=a(64836);t.Z=void 0;var i=n(a(33651)),l=a(85893);t.Z=(0,i.default)([(0,l.jsx)("path",{d:"M21 19.1H3V5h18zM21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"},"0"),(0,l.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41z"},"1")],"CancelPresentation")},75415:function(e,t,a){"use strict";var n=a(64836);t.Z=void 0;var i=n(a(33651)),l=a(85893);t.Z=(0,i.default)([(0,l.jsx)("path",{d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8m5 11.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z",opacity:".3"},"0"),(0,l.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"},"1")],"CancelTwoTone")},34279:function(e,t,a){"use strict";var n=a(64836);t.Z=void 0;var i=n(a(33651)),l=a(85893);t.Z=(0,i.default)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},60626:function(e,t,a){"use strict";var n=a(64836);t.Z=void 0;var i=n(a(33651)),l=a(85893);t.Z=(0,i.default)((0,l.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"RemoveRedEye")},41653:function(e,t,a){"use strict";var n=a(64836);t.Z=void 0;var i=n(a(33651)),l=a(85893);t.Z=(0,i.default)((0,l.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"SearchTwoTone")},95858:function(e,t,a){"use strict";a.d(t,{Z:function(){return b}});var n=a(63366),i=a(87462),l=a(67294),s=a(90512),o=a(94780),r=a(77527),d=a(83008),c=a(44001),m=a(96788),h=a(1588),g=a(34867);function u(e){return(0,g.ZP)("MuiDialogContentText",e)}(0,h.Z)("MuiDialogContentText",["root"]);var p=a(85893);let x=["children","className"],v=e=>{let{classes:t}=e,a=(0,o.Z)({root:["root"]},u,t);return(0,i.Z)({},t,a)},j=(0,r.ZP)(m.Z,{shouldForwardProp:e=>(0,d.Z)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({});var b=l.forwardRef(function(e,t){let a=(0,c.i)({props:e,name:"MuiDialogContentText"}),{className:l}=a,o=(0,n.Z)(a,x),r=v(o);return(0,p.jsx)(j,(0,i.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:o,className:(0,s.Z)(r.root,l)},a,{classes:r}))})},55160:function(e,t,a){"use strict";let n=a(67294).createContext();t.Z=n},19962:function(e,t,a){"use strict";let n=a(67294).createContext();t.Z=n},8863:function(e,t,a){"use strict";a.d(t,{Z:function(){return f}});var n=a(63366),i=a(87462),l=a(67294),s=a(90512),o=a(94780),r=a(2101),d=a(66643),c=a(55160),m=a(19962),h=a(44001),g=a(77527),u=a(1588),p=a(34867);function x(e){return(0,p.ZP)("MuiTableCell",e)}let v=(0,u.Z)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]);var j=a(85893);let b=["align","className","component","padding","scope","size","sortDirection","variant"],_=e=>{let{classes:t,variant:a,align:n,padding:i,size:l,stickyHeader:s}=e,r={root:["root",a,s&&"stickyHeader","inherit"!==n&&"align".concat((0,d.Z)(n)),"normal"!==i&&"padding".concat((0,d.Z)(i)),"size".concat((0,d.Z)(l))]};return(0,o.Z)(r,x,t)},w=(0,g.ZP)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[a.variant],t["size".concat((0,d.Z)(a.size))],"normal"!==a.padding&&t["padding".concat((0,d.Z)(a.padding))],"inherit"!==a.align&&t["align".concat((0,d.Z)(a.align))],a.stickyHeader&&t.stickyHeader]}})(e=>{let{theme:t,ownerState:a}=e;return(0,i.Z)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?(0,r.$n)((0,r.Fq)(t.palette.divider,1),.88):(0,r._j)((0,r.Fq)(t.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===a.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===a.variant&&{color:(t.vars||t).palette.text.primary},"footer"===a.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===a.size&&{padding:"6px 16px",["&.".concat(v.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===a.padding&&{width:48,padding:"0 0 0 4px"},"none"===a.padding&&{padding:0},"left"===a.align&&{textAlign:"left"},"center"===a.align&&{textAlign:"center"},"right"===a.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===a.align&&{textAlign:"justify"},a.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})});var f=l.forwardRef(function(e,t){let a;let o=(0,h.i)({props:e,name:"MuiTableCell"}),{align:r="inherit",className:d,component:g,padding:u,scope:p,size:x,sortDirection:v,variant:f}=o,y=(0,n.Z)(o,b),Z=l.useContext(c.Z),k=l.useContext(m.Z),C=k&&"head"===k.variant,R=p;"td"===(a=g||(C?"th":"td"))?R=void 0:!R&&C&&(R="col");let S=f||k&&k.variant,T=(0,i.Z)({},o,{align:r,component:a,padding:u||(Z&&Z.padding?Z.padding:"normal"),size:x||(Z&&Z.size?Z.size:"medium"),sortDirection:v,stickyHeader:"head"===S&&Z&&Z.stickyHeader,variant:S}),E=_(T),O=null;return v&&(O="asc"===v?"ascending":"descending"),(0,j.jsx)(w,(0,i.Z)({as:a,ref:t,className:(0,s.Z)(E.root,d),"aria-sort":O,scope:R,ownerState:T},y))})},93164:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ev}});var n=a(85893),i=a(65328),l=a(45773),s=a(67294),o=a(96788),r=a(60990),d=a(28907),c=a(88607),m=a(97182),h=a(6897),g=a(94143),u=a(15972),p=a(29346),x=a(51015),v=a(84166),j=a(64740),b=a(33453),_=a(92365),w=a(96727),f=a(40110),y=a(95858),Z=a(5152),k=a.n(Z),C=a(26541),R=a(98813);let S=(e,t,a)=>{switch(e){case"crop_stage":return R.OV[a][t];case"climate_risk":return R.Vl[t];case"wind_signal":return R.hl[t];default:return t}};var T=function(e){var t;let{selectedRow:i,cropType:l,action:s,cropStages:d}=e,c=k()(()=>Promise.all([a.e(2554),a.e(3351)]).then(a.bind(a,53351)),{loadableGenerated:{webpack:()=>[53351]},ssr:!1}),m=Object.entries(d||{}),x=Object.entries(R.Vl);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:(0,n.jsx)("strong",{children:"Crop:"})}),(0,n.jsx)(r.Z,{ml:1,component:"span",children:(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:l})})]}),(0,n.jsx)("input",{type:"hidden",name:"crop",value:l}),"Add"===s?(0,n.jsxs)(r.Z,{sx:{mt:2},children:[(0,n.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(g.Z,{id:"crop-stage-label",children:"Crop Stage"}),(0,n.jsx)(p.Z,{labelId:"crop-stage-label",name:"cropStage",label:"Crop Stage",defaultValue:"",children:m.map(e=>{let[t,a]=e;return(0,n.jsx)(u.Z,{value:t,children:a.label},t)})})]}),(0,n.jsx)(C.Z,{fullWidth:!0,name:"farmingActivity",label:"Farming Activity",variant:"outlined",sx:{mb:2}}),(0,n.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(g.Z,{id:"climate-risk-label",children:"Climate Risk"}),(0,n.jsx)(p.Z,{labelId:"climate-risk-label",name:"climateRisk",label:"Climate Risk",defaultValue:"",children:x.map(e=>{let[t,a]=e;return(0,n.jsx)(u.Z,{value:t,children:a},t)})})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:(0,n.jsx)("strong",{children:"Crop Stage:"})}),(0,n.jsx)(r.Z,{ml:1,component:"span",children:(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:null==i?void 0:null===(t=i.row)||void 0===t?void 0:t.crop_stage})})]}),(0,n.jsxs)("span",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:(0,n.jsx)("strong",{children:"Farming Activity:"})}),(0,n.jsx)(r.Z,{ml:1,component:"span",children:(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:S("farming_activity",null==i?void 0:i.row.farming_activity,l)})})]}),(0,n.jsxs)("span",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:(0,n.jsx)("strong",{children:"Climate Risk:"})}),(0,n.jsx)(r.Z,{ml:1,component:"span",children:(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:S("climate_risk",null==i?void 0:i.row.climate_risk,l)})})]})]}),"View"===s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{children:[(0,n.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook English:"})}),(0,n.jsx)("span",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.impact_outlook_english}})]}),(0,n.jsxs)("span",{children:[(0,n.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,n.jsx)("span",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.impact_outlook_tagalog}})]}),(0,n.jsxs)("span",{children:[(0,n.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Management Recommendations English:"})}),(0,n.jsx)("span",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.management_recommendations_english}})]}),(0,n.jsxs)("span",{children:[(0,n.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Management Recommendations Tagalog:"})}),(0,n.jsx)("span",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.management_recommendations_tagalog}})]})]}):(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook English:"})}),(0,n.jsxs)("span",{children:[(0,n.jsx)("textarea",{id:"impactOutlookEnglish",name:"impactOutlookEnglish",hidden:!0}),(0,n.jsx)(c,{name:"impactOutlookEnglish",editorLoaded:!0,value:null==i?void 0:i.row.impact_outlook_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookEnglish").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,n.jsxs)("span",{children:[(0,n.jsx)("textarea",{id:"impactOutlookTagalog",name:"impactOutlookTagalog",hidden:!0}),(0,n.jsx)(c,{name:"impactOutlookTagalog",editorLoaded:!0,value:null==i?void 0:i.row.impact_outlook_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookTagalog").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Managemenent Recommendations English:"})}),(0,n.jsxs)("span",{children:[(0,n.jsx)("textarea",{id:"managementRecommendationsEnglish",name:"managementRecommendationsEnglish",hidden:!0}),(0,n.jsx)(c,{name:"managementRecommendationsEnglish",editorLoaded:!0,value:null==i?void 0:i.row.management_recommendations_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsEnglish").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Managemenent Recommendations Tagalog:"})}),(0,n.jsxs)("span",{children:[(0,n.jsx)("textarea",{id:"managementRecommendationsTagalog",name:"managementRecommendationsTagalog",hidden:!0}),(0,n.jsx)(c,{name:"managementRecommendationsTagalog",editorLoaded:!0,value:null==i?void 0:i.row.management_recommendations_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsTagalog").value=e}})]})]})]})},E=function(e){let{selectedRow:t,action:a,cropType:i}=e,l=Object.entries(R.Vl);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:(0,n.jsx)("strong",{children:"Crop:"})}),(0,n.jsx)(r.Z,{ml:1,component:"span",children:(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:i})})]}),(0,n.jsx)("input",{type:"hidden",name:"crop",value:i}),"Add"===a?(0,n.jsx)(r.Z,{sx:{mt:2},children:(0,n.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(g.Z,{id:"climate-risk-label",children:"Climate Risk"}),(0,n.jsx)(p.Z,{labelId:"climate-risk-label",name:"climateRisk",label:"Climate Risk",defaultValue:"",children:l.map(e=>{let[t,a]=e;return(0,n.jsx)(u.Z,{value:t,children:a},t)})})]})}):(0,n.jsxs)("span",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:(0,n.jsx)("strong",{children:"Climate Risk:"})}),(0,n.jsx)(r.Z,{ml:1,component:"span",children:(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:S("climate_risk",null==t?void 0:t.row.climate_risk,null)})})]}),(0,n.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,n.jsx)("strong",{children:"SMS:"})}),(0,n.jsx)(r.Z,{sx:{marginTop:"16px"},children:"View"===a?(0,n.jsx)(o.Z,{variant:"subtitle1",children:null==t?void 0:t.row.sms}):(0,n.jsx)(C.Z,{fullWidth:!0,multiline:!0,minRows:3,id:"sms",name:"sms",label:"Outlined",variant:"outlined",defaultValue:null==t?void 0:t.row.sms})})]})},O=function(e){var t;let{selectedRow:i,cropType:l,action:s,cropStages:d}=e,c=k()(()=>Promise.all([a.e(2554),a.e(3351)]).then(a.bind(a,53351)),{loadableGenerated:{webpack:()=>[53351]},ssr:!1}),m=Object.entries(d||{}),x=Object.entries(R.Vl);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:l})]}),(0,n.jsx)("input",{type:"hidden",name:"crop",value:l}),"Add"===s?(0,n.jsxs)(r.Z,{sx:{mt:2},children:[(0,n.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(g.Z,{id:"crop-stage-label",children:"Crop Stage"}),(0,n.jsx)(p.Z,{labelId:"crop-stage-label",name:"cropStage",label:"Crop Stage",defaultValue:"",children:m.map(e=>{let[t,a]=e;return(0,n.jsx)(u.Z,{value:t,children:a.label},t)})})]}),(0,n.jsx)(C.Z,{fullWidth:!0,name:"farmingActivity",label:"Farming Activity",variant:"outlined",sx:{mb:2}}),(0,n.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(g.Z,{id:"climate-risk-label",children:"Climate Risk"}),(0,n.jsx)(p.Z,{labelId:"climate-risk-label",name:"climateRisk",label:"Climate Risk",defaultValue:"",children:x.map(e=>{let[t,a]=e;return(0,n.jsx)(u.Z,{value:t,children:a},t)})})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Crop Stage:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:null==i?void 0:null===(t=i.row)||void 0===t?void 0:t.crop_stage})]}),(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Farming Activity:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:S("farming_activity",null==i?void 0:i.row.farming_activity,l)})]}),(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Climate Risk:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:S("climate_risk",null==i?void 0:i.row.climate_risk,l)})]})]}),"View"===s?(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook English:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.impact_outlook_english}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.impact_outlook_tagalog}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Management Recommendations English:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.management_recommendations_english}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Management Recommendations Tagalog:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.management_recommendations_tagalog}})]})]}):(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook English:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"impactOutlookEnglish",name:"impactOutlookEnglish",hidden:!0}),(0,n.jsx)(c,{name:"impactOutlookEnglish",editorLoaded:!0,value:null==i?void 0:i.row.impact_outlook_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookEnglish").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"impactOutlookTagalog",name:"impactOutlookTagalog",hidden:!0}),(0,n.jsx)(c,{name:"impactOutlookTagalog",editorLoaded:!0,value:null==i?void 0:i.row.impact_outlook_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookTagalog").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Managemenent Recommendations English:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"managementRecommendationsEnglish",name:"managementRecommendationsEnglish",hidden:!0}),(0,n.jsx)(c,{name:"managementRecommendationsEnglish",editorLoaded:!0,value:null==i?void 0:i.row.management_recommendations_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsEnglish").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Managemenent Recommendations Tagalog:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"managementRecommendationsTagalog",name:"managementRecommendationsTagalog",hidden:!0}),(0,n.jsx)(c,{name:"managementRecommendationsTagalog",editorLoaded:!0,value:null==i?void 0:i.row.management_recommendations_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsTagalog").value=e}})]})]})]})},I=function(e){let{selectedRow:t,cropType:i,action:l}=e,s=k()(()=>Promise.all([a.e(2554),a.e(3351)]).then(a.bind(a,53351)),{loadableGenerated:{webpack:()=>[53351]},ssr:!1}),d=Object.entries(R.Vl);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:i})]}),(0,n.jsx)("input",{type:"hidden",name:"crop",value:i}),"Add"===l?(0,n.jsx)(r.Z,{sx:{mt:2},children:(0,n.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(g.Z,{id:"climate-risk-label",children:"Climate Risk"}),(0,n.jsx)(p.Z,{labelId:"climate-risk-label",name:"climateRisk",label:"Climate Risk",defaultValue:"",children:d.map(e=>{let[t,a]=e;return(0,n.jsx)(u.Z,{value:t,children:a},t)})})]})}):(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Climate Risk:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:S("climate_risk",null==t?void 0:t.row.climate_risk,i)})]}),"View"===l?(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook English:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==t?void 0:t.row.impact_outlook_english}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==t?void 0:t.row.impact_outlook_tagalog}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Management Recommendations English:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==t?void 0:t.row.management_recommendations_english}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Management Recommendations Tagalog:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==t?void 0:t.row.management_recommendations_tagalog}})]})]}):(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook English:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"impactOutlookEnglish",name:"impactOutlookEnglish",hidden:!0}),(0,n.jsx)(s,{name:"impactOutlookEnglish",editorLoaded:!0,value:null==t?void 0:t.row.impact_outlook_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookEnglish").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"impactOutlookTagalog",name:"impactOutlookTagalog",hidden:!0}),(0,n.jsx)(s,{name:"impactOutlookTagalog",editorLoaded:!0,value:null==t?void 0:t.row.impact_outlook_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookTagalog").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Managemenent Recommendations English:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"managementRecommendationsEnglish",name:"managementRecommendationsEnglish",hidden:!0}),(0,n.jsx)(s,{name:"managementRecommendationsEnglish",editorLoaded:!0,value:null==t?void 0:t.row.management_recommendations_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsEnglish").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Managemenent Recommendations Tagalog:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"managementRecommendationsTagalog",name:"managementRecommendationsTagalog",hidden:!0}),(0,n.jsx)(s,{name:"managementRecommendationsTagalog",editorLoaded:!0,value:null==t?void 0:t.row.management_recommendations_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsTagalog").value=e}})]})]})]})},M=function(e){let{selectedRow:t,action:a,cropType:i}=e,l=Object.entries(R.Vl);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:i})]}),(0,n.jsx)("input",{type:"hidden",name:"crop",value:i}),"Add"===a?(0,n.jsx)(r.Z,{sx:{mt:2},children:(0,n.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(g.Z,{id:"climate-risk-label",children:"Climate Risk"}),(0,n.jsx)(p.Z,{labelId:"climate-risk-label",name:"climateRisk",label:"Climate Risk",defaultValue:"",children:l.map(e=>{let[t,a]=e;return(0,n.jsx)(u.Z,{value:t,children:a},t)})})]})}):(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Climate Risk:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:S("climate_risk",null==t?void 0:t.row.climate_risk,null)})]}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"SMS:"})}),(0,n.jsx)(r.Z,{sx:{marginTop:"16px"},children:"View"===a?(0,n.jsx)(o.Z,{variant:"subtitle1",children:null==t?void 0:t.row.sms}):(0,n.jsx)(C.Z,{fullWidth:!0,multiline:!0,minRows:3,id:"sms",name:"sms",label:"Outlined",variant:"outlined",defaultValue:null==t?void 0:t.row.sms})})]})},A=function(e){let{selectedRow:t,cropType:i,action:l}=e,s=k()(()=>Promise.all([a.e(2554),a.e(3351)]).then(a.bind(a,53351)),{loadableGenerated:{webpack:()=>[53351]},ssr:!1}),d=Object.entries(R.hl);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:i})]}),(0,n.jsx)("input",{type:"hidden",name:"crop",value:i}),"Add"===l?(0,n.jsx)(r.Z,{sx:{mt:2},children:(0,n.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(g.Z,{id:"wind-signal-label",children:"Wind Signal"}),(0,n.jsx)(p.Z,{labelId:"wind-signal-label",name:"windSignal",label:"Wind Signal",defaultValue:"",children:d.map(e=>{let[t,a]=e;return(0,n.jsx)(u.Z,{value:t,children:a},t)})})]})}):(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Wind Signal:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:S("wind_signal",null==t?void 0:t.row.wind_signal,i)})]}),"View"===l?(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook English:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==t?void 0:t.row.impact_outlook_english}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==t?void 0:t.row.impact_outlook_tagalog}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Management Recommendations English:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==t?void 0:t.row.management_recommendations_english}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Management Recommendations Tagalog:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==t?void 0:t.row.management_recommendations_tagalog}})]})]}):(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook English:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"impactOutlookEnglish",name:"impactOutlookEnglish",hidden:!0}),(0,n.jsx)(s,{name:"impactOutlookEnglish",editorLoaded:!0,value:null==t?void 0:t.row.impact_outlook_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookEnglish").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"impactOutlookTagalog",name:"impactOutlookTagalog",hidden:!0}),(0,n.jsx)(s,{name:"impactOutlookTagalog",editorLoaded:!0,value:null==t?void 0:t.row.impact_outlook_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookTagalog").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Managemenent Recommendations English:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"managementRecommendationsEnglish",name:"managementRecommendationsEnglish",hidden:!0}),(0,n.jsx)(s,{name:"managementRecommendationsEnglish",editorLoaded:!0,value:null==t?void 0:t.row.management_recommendations_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsEnglish").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Managemenent Recommendations Tagalog:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"managementRecommendationsTagalog",name:"managementRecommendationsTagalog",hidden:!0}),(0,n.jsx)(s,{name:"managementRecommendationsTagalog",editorLoaded:!0,value:null==t?void 0:t.row.management_recommendations_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsTagalog").value=e}})]})]})]})},N=function(e){let{selectedRow:t,cropType:a,action:i}=e,l=Object.entries(R.hl);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:a})]}),(0,n.jsx)("input",{type:"hidden",name:"crop",value:a}),"Add"===i?(0,n.jsx)(r.Z,{sx:{mt:2},children:(0,n.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(g.Z,{id:"wind-signal-label",children:"Wind Signal"}),(0,n.jsx)(p.Z,{labelId:"wind-signal-label",name:"windSignal",label:"Wind Signal",defaultValue:"",children:l.map(e=>{let[t,a]=e;return(0,n.jsx)(u.Z,{value:t,children:a},t)})})]})}):(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Wind Signal:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:S("wind_signal",null==t?void 0:t.row.wind_signal,a)})]}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"SMS:"})}),(0,n.jsx)(r.Z,{sx:{marginTop:"16px"},children:"View"===i?(0,n.jsx)(o.Z,{variant:"subtitle1",children:null==t?void 0:t.row.sms}):(0,n.jsx)(C.Z,{fullWidth:!0,multiline:!0,minRows:3,id:"sms",name:"sms",label:"Outlined",variant:"outlined",defaultValue:null==t?void 0:t.row.sms})})]})},L=function(e){let{action:t,open:a,handleClose:i,selectedRow:l,cropType:s,recommendationType:o,handleSubmit:r,handleCreate:d,cropStages:c,seasonalCropStages:m}=e;return(0,n.jsxs)(b.Z,{fullWidth:!0,maxWidth:"md",open:a,onClose:i,PaperProps:{component:"form",onSubmit:e=>{if(e.preventDefault(),"Add"===t){if(o.label.includes("SMS")){let{sms:t,crop:a,climateRisk:n,windSignal:i}=e.target;d({crop:(null==a?void 0:a.value)||s,sms:(null==t?void 0:t.value)||"",...o.value.includes("special")?{wind_signal:(null==i?void 0:i.value)||""}:{climate_risk:(null==n?void 0:n.value)||""}});return}let{crop:t,cropStage:a,farmingActivity:n,climateRisk:i,windSignal:l,impactOutlookEnglish:r,impactOutlookTagalog:c,managementRecommendationsEnglish:m,managementRecommendationsTagalog:h}=e.target;d({crop:(null==t?void 0:t.value)||s,...o.value.includes("special")?{wind_signal:(null==l?void 0:l.value)||""}:{climate_risk:(null==i?void 0:i.value)||""},...o.value.includes("seasonal_general")?{}:{crop_stage:(null==a?void 0:a.value)||"",farming_activity:(null==n?void 0:n.value)||""},impact_outlook_english:(null==r?void 0:r.value)||"",impact_outlook_tagalog:(null==c?void 0:c.value)||"",management_recommendations_english:(null==m?void 0:m.value)||"",management_recommendations_tagalog:(null==h?void 0:h.value)||""});return}if(o.label.includes("SMS")){let{sms:t}=e.target;delete l.row.crop_stage,r({...l.row,sms:t.value||l.row.sms})}else{let{impactOutlookEnglish:t,impactOutlookTagalog:a,managementRecommendationsEnglish:n,managementRecommendationsTagalog:i}=e.target;r({...l.row,impact_outlook_english:t.value||l.row.impact_outlook_english,impact_outlook_tagalog:a.value||l.row.impact_outlook_tagalog,management_recommendations_english:n.value||l.row.management_recommendations_english,management_recommendations_tagalog:i.value||l.row.management_recommendations_tagalog})}}},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,n.jsx)(_.Z,{id:"alert-dialog-title",children:"View"===t?"View ".concat(o.label," Recommendation"):"Add"===t?"Add ".concat(o.label," Recommendation"):"Edit ".concat(o.label," Recommendation")}),(0,n.jsx)(f.Z,{dividers:!0,children:(0,n.jsxs)(y.Z,{id:"alert-dialog-description",children:["tenday"===o.value&&(0,n.jsx)(T,{selectedRow:l,cropType:s,action:t,cropStages:c}),"tenday_sms"===o.value&&(0,n.jsx)(E,{selectedRow:l,action:t,cropType:s}),"seasonal"===o.value&&(0,n.jsx)(O,{selectedRow:l,cropType:s,action:t,cropStages:m}),"seasonal_general"===o.value&&(0,n.jsx)(I,{selectedRow:l,cropType:s,action:t}),"seasonal_sms"===o.value&&(0,n.jsx)(M,{selectedRow:l,action:t,cropType:s}),"special"===o.value&&(0,n.jsx)(A,{selectedRow:l,cropType:s,action:t}),"special_sms"===o.value&&(0,n.jsx)(N,{selectedRow:l,cropType:s,action:t})]})}),(0,n.jsxs)(w.Z,{children:[(0,n.jsx)(x.Z,{onClick:i,children:"Close"}),"Edit"===t&&(0,n.jsx)(x.Z,{type:"submit",children:"Update"}),"Add"===t&&(0,n.jsx)(x.Z,{type:"submit",children:"Create"})]})]})},D=a(17553),W=a(60626),F=a(34279),P=function(e){let{params:t,setSelectedRow:a,setOpen:i,setAction:l}=e,s=e=>{a(t),i(!0),l(e)};return(0,n.jsxs)(r.Z,{sx:{m:1,position:"relative"},children:[(0,n.jsx)(W.Z,{color:"primary",sx:{"&:hover":{cursor:"pointer"},marginRight:"16px"},onClick:()=>s("View")}),(0,n.jsx)(F.Z,{color:"primary",sx:{"&:hover":{cursor:"pointer"}},onClick:()=>s("Edit")})]})};let H=(e,t,a,i,l)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:e=>(0,n.jsx)(P,{params:e,setSelectedRow:t,setOpen:a,setAction:i})},{field:"crop",headerName:"Crop",width:100},{field:"crop_stage",headerName:"Crop Stage",width:200,renderCell:e=>{var t;return null==l?void 0:null===(t=l[e.value])||void 0===t?void 0:t.label}},{field:"farming_activity",headerName:"Farming Activity",width:170},{field:"climate_risk",headerName:"Climate Risk",width:150,renderCell:t=>S(t.field,t.value,e)},{field:"impact_outlook_english",headerName:"Impact Outlook English",width:200},{field:"impact_outlook_tagalog",headerName:"Impact Outlook Tagalog",width:200},{field:"management_recommendations_english",headerName:"Management Recommendations English",width:300},{field:"management_recommendations_tagalog",headerName:"Management Recommendations Tagalog",width:300}],V=(e,t,a)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:i=>(0,n.jsx)(P,{isSMS:!0,params:i,setSelectedRow:e,setOpen:t,setAction:a})},{field:"crop",headerName:"Crop",width:100},{field:"climate_risk",headerName:"Climate Risk",width:170,renderCell:e=>S(e.field,e.value,null)},{field:"sms",headerName:"SMS",width:500}],B=(e,t,a,i,l)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:e=>(0,n.jsx)(P,{params:e,setSelectedRow:t,setOpen:a,setAction:i})},{field:"crop",headerName:"Crop",width:100},{field:"crop_stage",headerName:"Crop Stage",width:200,renderCell:e=>{var t;return null==l?void 0:null===(t=l[e.value])||void 0===t?void 0:t.label}},{field:"farming_activity",headerName:"Farming Activity",width:170},{field:"climate_risk",headerName:"Climate Risk",width:150,renderCell:t=>S(t.field,t.value,e)},{field:"impact_outlook_english",headerName:"Impact Outlook English",width:200},{field:"impact_outlook_tagalog",headerName:"Impact Outlook Tagalog",width:200},{field:"management_recommendations_english",headerName:"Management Recommendations English",width:300},{field:"management_recommendations_tagalog",headerName:"Management Recommendations Tagalog",width:300}],z=(e,t,a,i)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:e=>(0,n.jsx)(P,{params:e,setSelectedRow:t,setOpen:a,setAction:i})},{field:"crop",headerName:"Crop",width:100},{field:"climate_risk",headerName:"Climate Risk",width:150,renderCell:t=>S(t.field,t.value,e)},{field:"impact_outlook_english",headerName:"Impact Outlook English",width:200},{field:"impact_outlook_tagalog",headerName:"Impact Outlook Tagalog",width:200},{field:"management_recommendations_english",headerName:"Management Recommendations English",width:300},{field:"management_recommendations_tagalog",headerName:"Management Recommendations Tagalog",width:300}],q=(e,t,a)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:i=>(0,n.jsx)(P,{isSMS:!0,params:i,setSelectedRow:e,setOpen:t,setAction:a})},{field:"crop",headerName:"Crop",width:100},{field:"climate_risk",headerName:"Climate Risk",width:170,renderCell:e=>S(e.field,e.value,null)},{field:"sms",headerName:"SMS",width:500}],U=(e,t,a)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:i=>(0,n.jsx)(P,{params:i,setSelectedRow:e,setOpen:t,setAction:a})},{field:"crop",headerName:"Crop",width:100},{field:"wind_signal",headerName:"Wind Signal",width:170,renderCell:e=>S(e.field,e.value,null)},{field:"impact_outlook_english",headerName:"Impact Outlook English",width:200},{field:"impact_outlook_tagalog",headerName:"Impact Outlook Tagalog",width:200},{field:"management_recommendations_english",headerName:"Management Recommendations English",width:300},{field:"management_recommendations_tagalog",headerName:"Management Recommendations Tagalog",width:300}],G=(e,t,a)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:i=>(0,n.jsx)(P,{isSMS:!0,params:i,setSelectedRow:e,setOpen:t,setAction:a})},{field:"crop",headerName:"Crop",width:100},{field:"wind_signal",headerName:"Wind Signal",width:170,renderCell:e=>S(e.field,e.value,null)},{field:"sms",headerName:"SMS",width:500}];var Q=a(22088),X=function(e){let{rows:t,tab:a,cropType:i,cropStages:l,seasonalCropStages:o}=e,d="",[c,m]=(0,s.useState)(!1),[h,g]=(0,s.useState)(null),[u,p]=(0,s.useState)(null),[b,_]=(0,s.useState)({open:!1,message:"",severity:""}),w=()=>{m(!1)},f=async e=>{try{await (0,Q.vU)({type:a.value,newRecommendation:["docid","sms","impact_outlook_english","impact_outlook_tagalog","management_recommendations_english","management_recommendations_tagalog"].reduce((t,a)=>({...t,...e[a]&&{[a]:e[a]}}),{})}),_({open:!0,message:"Successfully edited recommendation.",severity:"success"}),window.location.reload()}catch(e){_({open:!0,message:e.message||"Something went wrong.",error:e.message,severity:"error"})}w()},y=(0,s.useMemo)(()=>t&&0!==t.length?Math.max(...t.map(e=>Number.isFinite(e.id)?e.id:0))+1:0,[t]),Z=async e=>{try{let t={...e,id:y,crop:e.crop||i};await (0,Q.fI)({type:a.value,recommendation:t}),_({open:!0,message:"Successfully added recommendation.",severity:"success"}),window.location.reload()}catch(e){_({open:!0,message:e.message||"Something went wrong.",error:e.message,severity:"error"})}w()},k=e=>{var t;g({...e,row:{...e.row,crop_stage:null==l?void 0:null===(t=l[e.row.crop_stage])||void 0===t?void 0:t.label}})};switch(a.value){case"tenday":default:d=H(i,k,m,p,l);break;case"tenday_sms":d=V(k,m,p);break;case"seasonal":d=B(i,k,m,p,o);break;case"seasonal_general":d=z(i,k,m,p);break;case"seasonal_sms":d=q(k,m,p);break;case"special":d=U(k,m,p);break;case"special_sms":d=G(k,m,p)}return(0,n.jsxs)("div",{children:[(0,n.jsx)(D.Z,{openSnackbar:b.open,message:b.message,severity:b.severity,closeHandlerCB:()=>{_({...b,open:!1})}}),(0,n.jsx)(L,{action:u,open:c,handleClose:w,selectedRow:h,cropType:i,recommendationType:a,handleSubmit:f,handleCreate:Z,cropStages:l,seasonalCropStages:o}),(0,n.jsx)(v.Z,{direction:"row",justifyContent:"flex-end",sx:{mb:2},children:(0,n.jsx)(x.Z,{variant:"contained",onClick:()=>{p("Add"),g({row:{crop:i}}),m(!0)},children:"Add Recommendation"})}),(0,n.jsx)(r.Z,{sx:{height:700,width:"100%"},children:(0,n.jsx)(j._,{density:"compact",rows:t,columns:d,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],disableRowSelectionOnClick:!0})})]})},$=a(61061),J=a(9704);let K={LOAD:"load",FETCH_SUCCESS:"fetch_success",FETCH_ERROR:"fetch_error",SET:"set"},Y={stages:null,selectedStages:null,loading:!0,error:""},ee=(e,t)=>{if(t.type===K.LOAD)return{...e,loading:!0,error:""};if(t.type===K.FETCH_SUCCESS)return{...e,loading:!1,stages:t.payload};if(t.type===K.FETCH_ERROR)return{...e,stages:null,error:t.payload};if(t.type===K.SET)return{...e,selectedStages:t.payload};throw Error("Invalid action type")};function et(e,t){let[a,n]=(0,s.useReducer)(ee,Y),{loadingCrops:i,cropList:l}=(0,J.Z)();return(0,s.useEffect)(()=>{let a=async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{let i=[];(a=a.filter(e=>e===t)).forEach(t=>i.push((0,$.Fj)(e,t)));let l=await Promise.all(i);n({type:K.FETCH_SUCCESS,payload:a.reduce((e,t,a)=>({...e,[t]:l[a].data}),{})})}catch(e){var i,l;n({type:K.FETCH_ERROR,payload:null!==(l=null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.data)&&void 0!==l?l:null==e?void 0:e.message})}};!i&&(null==l?void 0:l.length)>0&&a(l)},[e,t,l,i]),(0,s.useEffect)(()=>{if(t&&a.stages){var e,i;n({type:K.SET,payload:null!==(i=null===(e=a.stages)||void 0===e?void 0:e[t])&&void 0!==i?i:null})}},[t,a.stages]),a}let ea=[{index:0,label:"Ten Day",value:"tenday"},{index:1,label:"Ten Day SMS",value:"tenday_sms"},{index:2,label:"Seasonal",value:"seasonal"},{index:3,label:"Seasonal General",value:"seasonal_general"},{index:4,label:"Seasonal SMS",value:"seasonal_sms"},{index:5,label:"Special",value:"special"},{index:6,label:"Special SMS",value:"special_sms"}];var en=function(){let{cropList:e}=(0,J.Z)(),[t,a]=(0,s.useState)("Rice"),[i,l]=(0,s.useState)({index:0,label:"Ten Day",value:"tenday"}),[x,v]=(0,s.useState)(0),{selectedStages:j,loading:b}=et("10-day",t),{selectedStages:_,loading:w}=et("seasonal",t),{recommendations:f,loading:y,error:Z}=function(e,t){let[a,n]=(0,s.useState)([]),[i,l]=(0,s.useState)(!1),[o,r]=(0,s.useState)("");return(0,s.useEffect)(()=>{let a=async()=>{try{let a=await (0,Q.sT)({crop:e,type:t});n(a||[])}catch(e){var a,i;r(null!==(i=null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.data)&&void 0!==i?i:e.message),l(!1)}};e&&t&&a()},[e,t]),{recommendations:a,loading:i,error:o}}(t,i.value);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Manage recommendations"})," by viewing, adding, editing, deleting a recommendation."]}),(0,n.jsx)(r.Z,{sx:{width:200,marginTop:"30px"},children:(0,n.jsxs)(h.Z,{fullWidth:!0,children:[(0,n.jsx)(g.Z,{id:"demo-simple-select-label",children:"Crop Type"}),(0,n.jsx)(p.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t,label:"Crop Type",onChange:e=>{a(e.target.value)},children:e.map(e=>(0,n.jsx)(u.Z,{value:e,children:e},e))})]})}),(0,n.jsx)(r.Z,{sx:{width:"100%",marginTop:{xs:"15px",lg:"25px"},textAlign:"center"},children:y||b||w?(0,n.jsxs)("div",{sx:{display:"flex",justifyContent:"center"},children:[(0,n.jsx)("span",{children:"Loading..."}),(0,n.jsx)(m.Z,{size:24,color:"primary"})]}):(0,n.jsx)(n.Fragment,{children:Z?(0,n.jsx)(o.Z,{variant:"body1",color:"error",children:"Something went wrong. Unable to retrieve recommendations."}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,n.jsx)(c.Z,{value:x,onChange:(e,t)=>{v(t),l(ea[t])},"aria-label":"basic tabs example",children:ea.map((e,t)=>(0,n.jsx)(d.Z,{label:e.label,id:"simple-tab-".concat(t),"aria-controls":"simple-tabpanel-".concat(t)},t))})}),(0,n.jsx)(function(e){let{children:t,value:a,index:i,...l}=e;return(0,n.jsx)("div",{role:"tabpanel",hidden:a!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i),...l,children:a===i&&(0,n.jsx)(r.Z,{sx:{p:3,whiteSpace:e.smsstyle},children:t})})},{value:i.index,index:i.index,children:null!==j&&(0,n.jsx)(X,{rows:f,tab:i,cropType:t,cropStages:j,seasonalCropStages:_})})]})})})]})},ei=a(9473),el=a(68573),es=a(9669),eo=a.n(es),er=a(15426);class ed extends er.Z{async upsertCropRecommendations(e,t){let a=await this.createRequestObject({body:e});return(await eo()({...a,url:"".concat("https://acap-mimaropa-server.onrender.com/api","/uploadCropRecommendations/").concat(t),method:"POST"})).data}}let ec=new ed,em=ec.upsertCropRecommendations.bind(ec);var eh=a(25517),eg=a(22233),eu={marginBottom:e=>e.spacing(3),maxWidth:"800px",color:"gray","& a":{textDecoration:"none",color:e=>e.palette.green.dark},"& a:hover":{textDecoration:"underline"},"& a:visited":{color:e=>e.palette.green.dark}},ep=function(){let[e,t]=(0,s.useState)([]),[a,i]=(0,s.useState)(""),{cropList:l}=(0,J.Z)(),d=(0,ei.v9)(e=>e.seasonalweather.status),c=()=>{t(e.map(e=>({...e,isValid:!1,value:""})))},m=async e=>new Promise(async(t,n)=>{try{await em(e,a),t(!0)}catch(e){n(e)}});return(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Manage recommendations"})," by uploading Excel-formatted templates."]}),(0,n.jsxs)("p",{children:["Before uploading recommendations with data,"," ",(0,n.jsx)("strong",{children:"first download the template"})," of the respective crop you will add into the system."]}),(0,n.jsx)("br",{}),(0,n.jsxs)(el.ZP,{container:!0,spacing:2,children:[(0,n.jsxs)(el.ZP,{item:!0,xs:12,md:6,children:[(0,n.jsx)(o.Z,{variant:"h6",children:"List of Crop Recommendations and their Templates"}),(0,n.jsx)("br",{}),(0,n.jsxs)(o.Z,{variant:"body2",sx:eu,children:[(0,n.jsx)("a",{href:"https://firebasestorage.googleapis.com/v0/b/acap-mimaropa-dev.appspot.com/o/files%2Ftemplates%2F%5Bpassed%5D%20Rice-Recommendations-v2.1_final%20(1).xlsx?alt=media&token=a6a0f64f-75e3-4932-9a48-067fe8a2478f",target:"__blank",children:"[Rice Recommendations Excel template]"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("a",{href:"https://firebasestorage.googleapis.com/v0/b/acap-mimaropa-dev.appspot.com/o/files%2Ftemplates%2F%5Bpassed%5D%20Corn-Recommendation_v2.1_final.xlsx?alt=media&token=b3733ad0-2971-48a6-aa3d-0255b6c705e5",target:"__blank",children:"[Corn Recommendations Excel template]"})]})]}),(0,n.jsxs)(el.ZP,{item:!0,xs:12,md:6,children:[(0,n.jsx)("p",{children:(0,n.jsx)("strong",{children:"Upload Recommendations"})}),(0,n.jsx)(r.Z,{sx:{minWidth:120},children:(0,n.jsxs)(h.Z,{fullWidth:!0,children:[(0,n.jsx)(g.Z,{id:"demo-simple-select-label",children:"Crop Type"}),(0,n.jsx)(p.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:a,label:"Crop Type",onChange:e=>{i(e.target.value)},children:l.map(e=>(0,n.jsx)(u.Z,{value:e,children:e},e))})]})}),(0,n.jsx)("br",{}),(0,n.jsxs)(el.ZP,{item:!0,xs:12,children:[(0,n.jsx)(eg.Z,{label:"Upload an excel file",name:"excelfile",fileAccepts:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",isDisabled:d===eh.G.PENDING||!a,fileUploadMethod:m,onFileSelectedCB:e=>{e||c()}}),(0,n.jsxs)(o.Z,{variant:"caption",children:["Please select ",(0,n.jsx)("strong",{children:"Crop Type"})," first before uploading a file."]})]})]})]})]})},ex=function(){let[e,t]=(0,s.useState)(0);function a(e){let{children:t,value:a,index:i,...l}=e;return(0,n.jsx)("div",{role:"tabpanel",hidden:a!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i),...l,children:a===i&&(0,n.jsx)(r.Z,{sx:{p:3,whiteSpace:e.smsstyle},children:t})})}function i(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}return(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"h5",children:"Recommendations Management"}),(0,n.jsxs)(r.Z,{sx:{width:"100%",marginTop:{xs:"15px",lg:"25px"}},children:[(0,n.jsx)(r.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,n.jsxs)(c.Z,{value:e,onChange:(e,a)=>{t(a)},"aria-label":"basic tabs example",children:[(0,n.jsx)(d.Z,{label:"UPLOAD",...i(0)}),(0,n.jsx)(d.Z,{label:"MANAGE",...i(1)})]})}),(0,n.jsx)(a,{value:e,index:0,smsstyle:"normal",children:(0,n.jsx)(ep,{})}),(0,n.jsx)(a,{value:e,index:1,smsstyle:"normal",children:(0,n.jsx)(en,{})})]})]})},ev=(0,i.Z)(function(e){let{loading:t,user:a,onBtnLogoutClick:i}=e;return(0,n.jsx)(l.Z,{loading:t,user:a,onBtnLogoutClick:i,accLevel:R.DW.ADMIN,children:(0,n.jsx)(ex,{})})})},9704:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=a(67294),i=a(61061);function l(){let[e,t]=(0,n.useState)([]),[a,l]=(0,n.useState)(!1),[s,o]=(0,n.useState)("");return(0,n.useEffect)(()=>{(async()=>{var e,a,n;try{l(!0);let a=await (0,i.TQ)();t(null!==(e=null==a?void 0:a.list)&&void 0!==e?e:[]),l(!1),o("")}catch(e){o(null!==(n=null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.data)&&void 0!==n?n:e.message),l(!1),t([])}})()},[]),{cropList:e,loading:a,error:s}}},22088:function(e,t,a){"use strict";a.d(t,{fI:function(){return g},sT:function(){return h},$K:function(){return r},YH:function(){return c},O_:function(){return p},iR:function(){return m},Ee:function(){return d},vU:function(){return u}});var n=a(96171),i=a(78986);let l={CROP_REC_LIST_RECS_LITE:"n_list_crop_recommendations",CROP_REC_LIST_RECS_FORMATTED:"n_list_crop_recommendations_",CROP_REC_LIST:"n_crop_recommendations_",CROP_REC_SMS_LIST:"n_crop_recommendations_"};class s extends n.Z{constructor(...e){super(...e),this.getFormattedRecommendationsFromStages=async e=>{let t,{cropstages:a,forecast:n,type:s}=e;if(void 0===a||void 0===n)return;let o="".concat(l.CROP_REC_LIST_RECS_FORMATTED).concat(s),r=this.collection(this.db,o);return t=s===i.q.SEASONAL?this.query(r,this.where("crop_stage","in",a),this.where("forecast","==",n)):this.query(r,this.where("crop_stage","in",a)),await this.getCollectionData(o,"",t)},this.getFormattedRecommendations=async e=>{let t,{cropstage:a,forecast:n,type:s}=e;if(void 0===a||void 0===n)return;let o="".concat(l.CROP_REC_LIST_RECS_FORMATTED).concat(s),r=this.collection(this.db,o);return t=s===i.q.SEASONAL?this.query(r,this.where("crop_stage","==",a),this.where("forecast","==",n)):this.query(r,this.where("crop_stage","==",a)),await this.getCollectionData(o,"",t)},this.getCropRecommendationsLite=async e=>{let{type:t}=e;return await this.getDocumentData(l.CROP_REC_LIST_RECS_LITE,t)},this.getCropRecommendations=async e=>{let{crop:t,type:a}=e;if(!t||!a)return;let n="".concat(l.CROP_REC_LIST).concat(a),i=this.collection(this.db,n),s=this.query(i,this.where("crop","==",t));return await this.getCollectionDataWithID(n,"",s)},this.getRecommendations=async e=>{let t,{climateRisk:a,_cropStage:n,crop:i,type:s,multipleStages:o}=e;if(!a||!i)return;if(o){if(0===n.length)return}else if(!n)return;let r="".concat(l.CROP_REC_LIST).concat(s),d=this.collection(this.db,r);return t=o?this.query(d,this.where("climate_risk","==",a),this.where("crop_stage","in",n),this.where("crop","==",i)):this.query(d,this.where("climate_risk","==",a),this.where("crop_stage","==",n),this.where("crop","==",i)),await this.getCollectionData(r,"",t)},this.getSeasonalGeneralRecommendations=async e=>{let{climateRisk:t,crop:a}=e;if(!t||!a)return;let n="n_crop_recommendations_seasonal_general",i=this.collection(this.db,n),l=this.query(i,this.where("climate_risk","==",t),this.where("crop","==",a));return await this.getCollectionData(n,"",l)},this.getRecommendationsFlexible=async e=>{let{climateRisk:t,_cropStage:a,crop:n,type:i,multipleStages:s=!1}=e,o="".concat(l.CROP_REC_LIST).concat(i),r=this.collection(this.db,o);if(!n)return;let d=[this.where("crop","==",n)];t&&d.push(this.where("climate_risk","==",t)),a&&(s?d.push(this.where("crop_stage","in",a)):d.push(this.where("crop_stage","==",a)));let c=this.query(r,...d);return await this.getCollectionData(o,"",c)},this.getRecommendationsQuery=async e=>{let{type:t,queryFields:a=[]}=e;if(!t)throw Error("Missing parameter/s");let n="".concat(l.CROP_REC_LIST).concat(t),i=this.collection(this.db,n),s=a.map(e=>this.where(e.field,e.op,e.value)),o=this.query(i,...s);return await this.getCollectionData(n,"",o)},this.getRecommendationsSMS=async e=>{let{crop:t,climateRisk:a,type:n}=e;if(!t||!a||!n)return;let i="".concat(l.CROP_REC_SMS_LIST).concat(n),s=this.collection(this.db,i),o=this.query(s,this.where("crop","==",t),this.where("climate_risk","==",a));return await this.getCollectionData(i,"",o)},this.updateRecommendation=async e=>{let{type:t,newRecommendation:a}=e,n="".concat(l.CROP_REC_SMS_LIST).concat(t),i=this.collection(this.db,n),s=this.doc(i,a.docid);delete a.docid,await this.updateDoc(s,a)},this.createRecommendation=async e=>{let{type:t,recommendation:a}=e,n="".concat(l.CROP_REC_SMS_LIST).concat(t),i=this.collection(this.db,n);return await this.addDoc(i,a)}}}let o=new s;o.getFormattedRecommendations.bind(o),o.getFormattedRecommendationsFromStages.bind(o),o.getCropRecommendationsLite.bind(o);let r=o.getRecommendations.bind(o),d=o.getSeasonalGeneralRecommendations.bind(o),c=o.getRecommendationsFlexible.bind(o),m=o.getRecommendationsSMS.bind(o),h=o.getCropRecommendations.bind(o),g=o.createRecommendation.bind(o),u=o.updateRecommendation.bind(o),p=o.getRecommendationsQuery.bind(o)}},function(e){e.O(0,[3153,7023,3745,1664,6541,8848,6294,1626,9998,5837,4723,3338,837,3539,4740,8591,2233,2888,9774,179],function(){return e(e.s=97862)}),_N_E=e.O()}]);