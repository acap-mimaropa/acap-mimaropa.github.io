(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2300],{46863:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/login",function(){return n(20316)}])},34354:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(85893),i=n(67294),o=n(11163),a=n(18853),s=n(98813),c=n(51015),l=n(60990),u=n(26541),d=n(85229),g=n(96788),p=n(93535),m={container:{width:"100%",display:"grid",minHeight:"50vh",placeItems:"center"},loginContainer:{width:{xs:"100%",sm:"400px"},display:"flex",flexDirection:"column",textAlign:"center",padding:e=>e.spacing(1),"& .MuiTextField-root, button":{marginTop:e=>e.spacing(2)},"& h5":{marginBottom:e=>e.spacing(2)},"& svg":{fontSize:"45px",margin:"auto",marginBottom:"8px"}}},x=function(e){let{loading:t,hasUser:n,state:i,loginTitle:o}=e,{onInputChange:a,onInputClick:s,onBtnClick:x}=e;return(0,r.jsxs)("div",{children:[t&&(0,r.jsx)(d.Z,{}),!t&&!n&&(0,r.jsx)(l.Z,{sx:m.container,id:"bacap-login",children:(0,r.jsxs)(l.Z,{component:"form",noValidate:!0,autoComplete:"off",sx:m.loginContainer,children:["Superadmin"===o&&(0,r.jsx)(p.Z,{color:"primary",size:"large"}),(0,r.jsxs)(g.Z,{variant:"h5",children:["ACAP ",(0,r.jsx)("br",{}),o||"Admin"," Login"]}),(0,r.jsx)(u.Z,{error:""!==i.error,id:"email",label:"Enter email",variant:"outlined",value:i.email,onChange:a,onClick:s}),(0,r.jsx)(u.Z,{error:""!==i.error,id:"password",label:"Enter password",type:"password",variant:"outlined",value:i.password,onChange:a,onClick:s,helperText:i.error}),(0,r.jsx)(c.Z,{variant:"contained",size:"large",onClick:x,children:"Log in"})]})})]})};let h={email:"",password:"",error:""};var f=function(e){let{accLevel:t=2,loginTitle:n=""}=e,[c,l]=(0,i.useState)(h),u=(0,a.aC)(),d=(0,o.useRouter)();(0,i.useEffect)(()=>{if(u.user&&!u.loading&&""===u.error){let e=t===s.DW.ADMIN?"/admin":"/superadmin";u.user.accountlevel===t?d.push(e):(u.logOut(),l(e=>({...e,error:"Unauthorized account level."})))}},[u,t,d]),(0,i.useEffect)(()=>{""!==u.error&&l(e=>({...e,error:u.error}))},[u.error]);let g=async()=>{try{await u.signIn({email:c.email,password:c.password})}catch(e){l(t=>({...t,error:(0,a.Z)(e.message)}))}},p=async()=>{await u.logOut()};return(0,r.jsx)(x,{loading:u.loading,hasUser:u.user,state:c,loginTitle:n,onInputChange:e=>{let{id:t,value:n}=e.target;l(e=>({...e,[t]:n})),""!==c.error&&l({...c,error:""})},onInputClick:e=>{l(t=>({...t,[e.target.id]:"",error:""}))},onBtnClick:g,onBtnLogoutClick:p})}},48414:function(e,t,n){"use strict";var r=n(85893),i=n(9008),o=n.n(i),a=n(98813);t.Z=function(e){let{title:t,ogDescription:n,ogImageURL:i,ogImgAlt:s="Picture",ogSiteName:c="ACAP-".concat(a.Gt.toUpperCase()),ogURL:l,canonicalURL:u="http://localhost"}=e;return(0,r.jsxs)(o(),{children:[(0,r.jsx)("meta",{name:"description",content:n}),(0,r.jsx)("meta",{rel:"canonical",href:u}),(0,r.jsx)("meta",{name:"og:description",content:n}),(0,r.jsx)("meta",{property:"og:title",content:t}),(0,r.jsx)("meta",{property:"og:site_name",content:c}),(0,r.jsx)("meta",{property:"og:image",content:i}),(0,r.jsx)("meta",{property:"og:image:width",content:"600"}),(0,r.jsx)("meta",{property:"og:image:height",content:"315"}),(0,r.jsx)("meta",{property:"og:image:alt",content:s}),(0,r.jsx)("meta",{property:"og:url",content:l}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:title",content:t}),(0,r.jsx)("meta",{name:"twitter:image",content:i}),(0,r.jsx)("title",{children:t})]})}},85229:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(85893),i=n(60990),o=n(97182),a=n(96788),s={width:"100%",backgroundColor:"#fff",minHeight:"50vh",display:"grid",placeItems:"center"},c={display:"flex",justifyContent:"center",alignItems:"center"},l=function(e){let{sx:t}=e;return(0,r.jsx)(i.Z,{sx:{...s,...t&&{...t}},children:(0,r.jsxs)(i.Z,{sx:c,children:[(0,r.jsx)(a.Z,{variant:"subtitle1",children:"Loading..."}),(0,r.jsx)(o.Z,{size:"32px"})]})})}},20316:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return s}});var r=n(85893),i=n(98813),o=n(34354),a=n(48414),s=!0;t.default=function(e){let{media:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Z,{title:"Agro-Climatic Advisory Portal - ".concat(i.Gt," (ACAP-").concat(i.Gt.toUpperCase(),") Admin Login"),ogDescription:t.description,ogImageURL:t.url,ogURL:t.path,canonicalURL:t.path}),(0,r.jsx)(o.Z,{loginTitle:"Admin",accLevel:i.DW.ADMIN})]})}}},function(e){e.O(0,[3153,6856,190,6541,1461,2888,9774,179],function(){return e(e.s=46863)}),_N_E=e.O()}]);