(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2535],{97862:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/manage-recommendations",function(){return t(93164)}])},2782:function(e,a,t){"use strict";var n=t(64836);a.Z=void 0;var i=n(t(33651)),l=t(85893);a.Z=(0,i.default)([(0,l.jsx)("path",{d:"M21 19.1H3V5h18zM21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"},"0"),(0,l.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41z"},"1")],"CancelPresentation")},75415:function(e,a,t){"use strict";var n=t(64836);a.Z=void 0;var i=n(t(33651)),l=t(85893);a.Z=(0,i.default)([(0,l.jsx)("path",{d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8m5 11.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z",opacity:".3"},"0"),(0,l.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"},"1")],"CancelTwoTone")},34279:function(e,a,t){"use strict";var n=t(64836);a.Z=void 0;var i=n(t(33651)),l=t(85893);a.Z=(0,i.default)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},60626:function(e,a,t){"use strict";var n=t(64836);a.Z=void 0;var i=n(t(33651)),l=t(85893);a.Z=(0,i.default)((0,l.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"RemoveRedEye")},41653:function(e,a,t){"use strict";var n=t(64836);a.Z=void 0;var i=n(t(33651)),l=t(85893);a.Z=(0,i.default)((0,l.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"SearchTwoTone")},95858:function(e,a,t){"use strict";t.d(a,{Z:function(){return b}});var n=t(63366),i=t(87462),l=t(67294),s=t(90512),o=t(94780),r=t(77527),d=t(83008),c=t(44001),m=t(96788),h=t(1588),g=t(34867);function u(e){return(0,g.ZP)("MuiDialogContentText",e)}(0,h.Z)("MuiDialogContentText",["root"]);var x=t(85893);let p=["children","className"],v=e=>{let{classes:a}=e,t=(0,o.Z)({root:["root"]},u,a);return(0,i.Z)({},a,t)},j=(0,r.ZP)(m.Z,{shouldForwardProp:e=>(0,d.Z)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,a)=>a.root})({});var b=l.forwardRef(function(e,a){let t=(0,c.i)({props:e,name:"MuiDialogContentText"}),{className:l}=t,o=(0,n.Z)(t,p),r=v(o);return(0,x.jsx)(j,(0,i.Z)({component:"p",variant:"body1",color:"text.secondary",ref:a,ownerState:o,className:(0,s.Z)(r.root,l)},t,{classes:r}))})},93164:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return ev}});var n=t(85893),i=t(65328),l=t(45773),s=t(67294),o=t(96788),r=t(60990),d=t(28907),c=t(88607),m=t(97182),h=t(6897),g=t(94143),u=t(15972),x=t(29346),p=t(51015),v=t(84166),j=t(64740),b=t(33453),_=t(92365),w=t(96727),f=t(40110),y=t(95858),Z=t(5152),k=t.n(Z),R=t(26541),C=t(98813);let S=(e,a,t)=>{switch(e){case"crop_stage":return C.OV[t][a];case"climate_risk":return C.Vl[a];case"wind_signal":return C.hl[a];default:return a}};var T=function(e){var a;let{selectedRow:i,cropType:l,action:s,cropStages:d}=e,c=k()(()=>Promise.all([t.e(2554),t.e(3351)]).then(t.bind(t,53351)),{loadableGenerated:{webpack:()=>[53351]},ssr:!1}),m=Object.entries(d||{}),p=Object.entries(C.Vl);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:(0,n.jsx)("strong",{children:"Crop:"})}),(0,n.jsx)(r.Z,{ml:1,component:"span",children:(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:l})})]}),(0,n.jsx)("input",{type:"hidden",name:"crop",value:l}),"Add"===s?(0,n.jsxs)(r.Z,{sx:{mt:2},children:[(0,n.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(g.Z,{id:"crop-stage-label",children:"Crop Stage"}),(0,n.jsx)(x.Z,{labelId:"crop-stage-label",name:"cropStage",label:"Crop Stage",defaultValue:"",children:m.map(e=>{let[a,t]=e;return(0,n.jsx)(u.Z,{value:a,children:t.label},a)})})]}),(0,n.jsx)(R.Z,{fullWidth:!0,name:"farmingActivity",label:"Farming Activity",variant:"outlined",sx:{mb:2}}),(0,n.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(g.Z,{id:"climate-risk-label",children:"Climate Risk"}),(0,n.jsx)(x.Z,{labelId:"climate-risk-label",name:"climateRisk",label:"Climate Risk",defaultValue:"",children:p.map(e=>{let[a,t]=e;return(0,n.jsx)(u.Z,{value:a,children:t},a)})})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:(0,n.jsx)("strong",{children:"Crop Stage:"})}),(0,n.jsx)(r.Z,{ml:1,component:"span",children:(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:null==i?void 0:null===(a=i.row)||void 0===a?void 0:a.crop_stage})})]}),(0,n.jsxs)("span",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:(0,n.jsx)("strong",{children:"Farming Activity:"})}),(0,n.jsx)(r.Z,{ml:1,component:"span",children:(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:S("farming_activity",null==i?void 0:i.row.farming_activity,l)})})]}),(0,n.jsxs)("span",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:(0,n.jsx)("strong",{children:"Climate Risk:"})}),(0,n.jsx)(r.Z,{ml:1,component:"span",children:(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:S("climate_risk",null==i?void 0:i.row.climate_risk,l)})})]})]}),"View"===s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{children:[(0,n.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook English:"})}),(0,n.jsx)("span",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.impact_outlook_english}})]}),(0,n.jsxs)("span",{children:[(0,n.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,n.jsx)("span",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.impact_outlook_tagalog}})]}),(0,n.jsxs)("span",{children:[(0,n.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Management Recommendations English:"})}),(0,n.jsx)("span",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.management_recommendations_english}})]}),(0,n.jsxs)("span",{children:[(0,n.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Management Recommendations Tagalog:"})}),(0,n.jsx)("span",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.management_recommendations_tagalog}})]})]}):(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook English:"})}),(0,n.jsxs)("span",{children:[(0,n.jsx)("textarea",{id:"impactOutlookEnglish",name:"impactOutlookEnglish",hidden:!0}),(0,n.jsx)(c,{name:"impactOutlookEnglish",editorLoaded:!0,value:null==i?void 0:i.row.impact_outlook_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookEnglish").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,n.jsxs)("span",{children:[(0,n.jsx)("textarea",{id:"impactOutlookTagalog",name:"impactOutlookTagalog",hidden:!0}),(0,n.jsx)(c,{name:"impactOutlookTagalog",editorLoaded:!0,value:null==i?void 0:i.row.impact_outlook_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookTagalog").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Managemenent Recommendations English:"})}),(0,n.jsxs)("span",{children:[(0,n.jsx)("textarea",{id:"managementRecommendationsEnglish",name:"managementRecommendationsEnglish",hidden:!0}),(0,n.jsx)(c,{name:"managementRecommendationsEnglish",editorLoaded:!0,value:null==i?void 0:i.row.management_recommendations_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsEnglish").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Managemenent Recommendations Tagalog:"})}),(0,n.jsxs)("span",{children:[(0,n.jsx)("textarea",{id:"managementRecommendationsTagalog",name:"managementRecommendationsTagalog",hidden:!0}),(0,n.jsx)(c,{name:"managementRecommendationsTagalog",editorLoaded:!0,value:null==i?void 0:i.row.management_recommendations_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsTagalog").value=e}})]})]})]})},E=function(e){let{selectedRow:a,action:t,cropType:i}=e,l=Object.entries(C.Vl);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:(0,n.jsx)("strong",{children:"Crop:"})}),(0,n.jsx)(r.Z,{ml:1,component:"span",children:(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:i})})]}),(0,n.jsx)("input",{type:"hidden",name:"crop",value:i}),"Add"===t?(0,n.jsx)(r.Z,{sx:{mt:2},children:(0,n.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(g.Z,{id:"climate-risk-label",children:"Climate Risk"}),(0,n.jsx)(x.Z,{labelId:"climate-risk-label",name:"climateRisk",label:"Climate Risk",defaultValue:"",children:l.map(e=>{let[a,t]=e;return(0,n.jsx)(u.Z,{value:a,children:t},a)})})]})}):(0,n.jsxs)("span",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:(0,n.jsx)("strong",{children:"Climate Risk:"})}),(0,n.jsx)(r.Z,{ml:1,component:"span",children:(0,n.jsx)(o.Z,{component:"span",variant:"body1",children:S("climate_risk",null==a?void 0:a.row.climate_risk,null)})})]}),(0,n.jsx)(o.Z,{component:"span",variant:"subtitle1",children:(0,n.jsx)("strong",{children:"SMS:"})}),(0,n.jsx)(r.Z,{sx:{marginTop:"16px"},children:"View"===t?(0,n.jsx)(o.Z,{variant:"subtitle1",children:null==a?void 0:a.row.sms}):(0,n.jsx)(R.Z,{fullWidth:!0,multiline:!0,minRows:3,id:"sms",name:"sms",label:"Outlined",variant:"outlined",defaultValue:null==a?void 0:a.row.sms})})]})},O=function(e){var a;let{selectedRow:i,cropType:l,action:s,cropStages:d}=e,c=k()(()=>Promise.all([t.e(2554),t.e(3351)]).then(t.bind(t,53351)),{loadableGenerated:{webpack:()=>[53351]},ssr:!1}),m=Object.entries(d||{}),p=Object.entries(C.Vl);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:l})]}),(0,n.jsx)("input",{type:"hidden",name:"crop",value:l}),"Add"===s?(0,n.jsxs)(r.Z,{sx:{mt:2},children:[(0,n.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(g.Z,{id:"crop-stage-label",children:"Crop Stage"}),(0,n.jsx)(x.Z,{labelId:"crop-stage-label",name:"cropStage",label:"Crop Stage",defaultValue:"",children:m.map(e=>{let[a,t]=e;return(0,n.jsx)(u.Z,{value:a,children:t.label},a)})})]}),(0,n.jsx)(R.Z,{fullWidth:!0,name:"farmingActivity",label:"Farming Activity",variant:"outlined",sx:{mb:2}}),(0,n.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(g.Z,{id:"climate-risk-label",children:"Climate Risk"}),(0,n.jsx)(x.Z,{labelId:"climate-risk-label",name:"climateRisk",label:"Climate Risk",defaultValue:"",children:p.map(e=>{let[a,t]=e;return(0,n.jsx)(u.Z,{value:a,children:t},a)})})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Crop Stage:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:null==i?void 0:null===(a=i.row)||void 0===a?void 0:a.crop_stage})]}),(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Farming Activity:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:S("farming_activity",null==i?void 0:i.row.farming_activity,l)})]}),(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Climate Risk:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:S("climate_risk",null==i?void 0:i.row.climate_risk,l)})]})]}),"View"===s?(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook English:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.impact_outlook_english}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.impact_outlook_tagalog}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Management Recommendations English:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.management_recommendations_english}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Management Recommendations Tagalog:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==i?void 0:i.row.management_recommendations_tagalog}})]})]}):(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook English:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"impactOutlookEnglish",name:"impactOutlookEnglish",hidden:!0}),(0,n.jsx)(c,{name:"impactOutlookEnglish",editorLoaded:!0,value:null==i?void 0:i.row.impact_outlook_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookEnglish").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"impactOutlookTagalog",name:"impactOutlookTagalog",hidden:!0}),(0,n.jsx)(c,{name:"impactOutlookTagalog",editorLoaded:!0,value:null==i?void 0:i.row.impact_outlook_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookTagalog").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Managemenent Recommendations English:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"managementRecommendationsEnglish",name:"managementRecommendationsEnglish",hidden:!0}),(0,n.jsx)(c,{name:"managementRecommendationsEnglish",editorLoaded:!0,value:null==i?void 0:i.row.management_recommendations_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsEnglish").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Managemenent Recommendations Tagalog:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"managementRecommendationsTagalog",name:"managementRecommendationsTagalog",hidden:!0}),(0,n.jsx)(c,{name:"managementRecommendationsTagalog",editorLoaded:!0,value:null==i?void 0:i.row.management_recommendations_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsTagalog").value=e}})]})]})]})},I=function(e){let{selectedRow:a,cropType:i,action:l}=e,s=k()(()=>Promise.all([t.e(2554),t.e(3351)]).then(t.bind(t,53351)),{loadableGenerated:{webpack:()=>[53351]},ssr:!1}),d=Object.entries(C.Vl);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:i})]}),(0,n.jsx)("input",{type:"hidden",name:"crop",value:i}),"Add"===l?(0,n.jsx)(r.Z,{sx:{mt:2},children:(0,n.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(g.Z,{id:"climate-risk-label",children:"Climate Risk"}),(0,n.jsx)(x.Z,{labelId:"climate-risk-label",name:"climateRisk",label:"Climate Risk",defaultValue:"",children:d.map(e=>{let[a,t]=e;return(0,n.jsx)(u.Z,{value:a,children:t},a)})})]})}):(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Climate Risk:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:S("climate_risk",null==a?void 0:a.row.climate_risk,i)})]}),"View"===l?(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook English:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==a?void 0:a.row.impact_outlook_english}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==a?void 0:a.row.impact_outlook_tagalog}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Management Recommendations English:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==a?void 0:a.row.management_recommendations_english}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Management Recommendations Tagalog:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==a?void 0:a.row.management_recommendations_tagalog}})]})]}):(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook English:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"impactOutlookEnglish",name:"impactOutlookEnglish",hidden:!0}),(0,n.jsx)(s,{name:"impactOutlookEnglish",editorLoaded:!0,value:null==a?void 0:a.row.impact_outlook_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookEnglish").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"impactOutlookTagalog",name:"impactOutlookTagalog",hidden:!0}),(0,n.jsx)(s,{name:"impactOutlookTagalog",editorLoaded:!0,value:null==a?void 0:a.row.impact_outlook_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookTagalog").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Managemenent Recommendations English:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"managementRecommendationsEnglish",name:"managementRecommendationsEnglish",hidden:!0}),(0,n.jsx)(s,{name:"managementRecommendationsEnglish",editorLoaded:!0,value:null==a?void 0:a.row.management_recommendations_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsEnglish").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Managemenent Recommendations Tagalog:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"managementRecommendationsTagalog",name:"managementRecommendationsTagalog",hidden:!0}),(0,n.jsx)(s,{name:"managementRecommendationsTagalog",editorLoaded:!0,value:null==a?void 0:a.row.management_recommendations_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsTagalog").value=e}})]})]})]})},M=function(e){let{selectedRow:a,action:t,cropType:i}=e,l=Object.entries(C.Vl);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:i})]}),(0,n.jsx)("input",{type:"hidden",name:"crop",value:i}),"Add"===t?(0,n.jsx)(r.Z,{sx:{mt:2},children:(0,n.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(g.Z,{id:"climate-risk-label",children:"Climate Risk"}),(0,n.jsx)(x.Z,{labelId:"climate-risk-label",name:"climateRisk",label:"Climate Risk",defaultValue:"",children:l.map(e=>{let[a,t]=e;return(0,n.jsx)(u.Z,{value:a,children:t},a)})})]})}):(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Climate Risk:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:S("climate_risk",null==a?void 0:a.row.climate_risk,null)})]}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"SMS:"})}),(0,n.jsx)(r.Z,{sx:{marginTop:"16px"},children:"View"===t?(0,n.jsx)(o.Z,{variant:"subtitle1",children:null==a?void 0:a.row.sms}):(0,n.jsx)(R.Z,{fullWidth:!0,multiline:!0,minRows:3,id:"sms",name:"sms",label:"Outlined",variant:"outlined",defaultValue:null==a?void 0:a.row.sms})})]})},A=function(e){let{selectedRow:a,cropType:i,action:l}=e,s=k()(()=>Promise.all([t.e(2554),t.e(3351)]).then(t.bind(t,53351)),{loadableGenerated:{webpack:()=>[53351]},ssr:!1}),d=Object.entries(C.hl);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:i})]}),(0,n.jsx)("input",{type:"hidden",name:"crop",value:i}),"Add"===l?(0,n.jsx)(r.Z,{sx:{mt:2},children:(0,n.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(g.Z,{id:"wind-signal-label",children:"Wind Signal"}),(0,n.jsx)(x.Z,{labelId:"wind-signal-label",name:"windSignal",label:"Wind Signal",defaultValue:"",children:d.map(e=>{let[a,t]=e;return(0,n.jsx)(u.Z,{value:a,children:t},a)})})]})}):(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Wind Signal:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:S("wind_signal",null==a?void 0:a.row.wind_signal,i)})]}),"View"===l?(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook English:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==a?void 0:a.row.impact_outlook_english}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==a?void 0:a.row.impact_outlook_tagalog}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Management Recommendations English:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==a?void 0:a.row.management_recommendations_english}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Management Recommendations Tagalog:"})}),(0,n.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null==a?void 0:a.row.management_recommendations_tagalog}})]})]}):(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook English:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"impactOutlookEnglish",name:"impactOutlookEnglish",hidden:!0}),(0,n.jsx)(s,{name:"impactOutlookEnglish",editorLoaded:!0,value:null==a?void 0:a.row.impact_outlook_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookEnglish").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"impactOutlookTagalog",name:"impactOutlookTagalog",hidden:!0}),(0,n.jsx)(s,{name:"impactOutlookTagalog",editorLoaded:!0,value:null==a?void 0:a.row.impact_outlook_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("impactOutlookTagalog").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Managemenent Recommendations English:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"managementRecommendationsEnglish",name:"managementRecommendationsEnglish",hidden:!0}),(0,n.jsx)(s,{name:"managementRecommendationsEnglish",editorLoaded:!0,value:null==a?void 0:a.row.management_recommendations_english,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsEnglish").value=e}})]}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Managemenent Recommendations Tagalog:"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{id:"managementRecommendationsTagalog",name:"managementRecommendationsTagalog",hidden:!0}),(0,n.jsx)(s,{name:"managementRecommendationsTagalog",editorLoaded:!0,value:null==a?void 0:a.row.management_recommendations_tagalog,isText:!1,isDisabled:!1,setContentCallback:e=>{document.getElementById("managementRecommendationsTagalog").value=e}})]})]})]})},L=function(e){let{selectedRow:a,cropType:t,action:i}=e,l=Object.entries(C.hl);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:t})]}),(0,n.jsx)("input",{type:"hidden",name:"crop",value:t}),"Add"===i?(0,n.jsx)(r.Z,{sx:{mt:2},children:(0,n.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,n.jsx)(g.Z,{id:"wind-signal-label",children:"Wind Signal"}),(0,n.jsx)(x.Z,{labelId:"wind-signal-label",name:"windSignal",label:"Wind Signal",defaultValue:"",children:l.map(e=>{let[a,t]=e;return(0,n.jsx)(u.Z,{value:a,children:t},a)})})]})}):(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"Wind Signal:"})}),"\xa0",(0,n.jsx)(o.Z,{variant:"subtitle1",children:S("wind_signal",null==a?void 0:a.row.wind_signal,t)})]}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:(0,n.jsx)("strong",{children:"SMS:"})}),(0,n.jsx)(r.Z,{sx:{marginTop:"16px"},children:"View"===i?(0,n.jsx)(o.Z,{variant:"subtitle1",children:null==a?void 0:a.row.sms}):(0,n.jsx)(R.Z,{fullWidth:!0,multiline:!0,minRows:3,id:"sms",name:"sms",label:"Outlined",variant:"outlined",defaultValue:null==a?void 0:a.row.sms})})]})},N=function(e){let{action:a,open:t,handleClose:i,selectedRow:l,cropType:s,recommendationType:o,handleSubmit:r,handleCreate:d,cropStages:c,seasonalCropStages:m}=e;return(0,n.jsxs)(b.Z,{fullWidth:!0,maxWidth:"md",open:t,onClose:i,PaperProps:{component:"form",onSubmit:e=>{if(e.preventDefault(),"Add"===a){if(o.label.includes("SMS")){let{sms:a,crop:t,climateRisk:n,windSignal:i}=e.target;d({crop:(null==t?void 0:t.value)||s,sms:(null==a?void 0:a.value)||"",...o.value.includes("special")?{wind_signal:(null==i?void 0:i.value)||""}:{climate_risk:(null==n?void 0:n.value)||""}});return}let{crop:a,cropStage:t,farmingActivity:n,climateRisk:i,windSignal:l,impactOutlookEnglish:r,impactOutlookTagalog:c,managementRecommendationsEnglish:m,managementRecommendationsTagalog:h}=e.target;d({crop:(null==a?void 0:a.value)||s,...o.value.includes("special")?{wind_signal:(null==l?void 0:l.value)||""}:{climate_risk:(null==i?void 0:i.value)||""},...o.value.includes("seasonal_general")?{}:{crop_stage:(null==t?void 0:t.value)||"",farming_activity:(null==n?void 0:n.value)||""},impact_outlook_english:(null==r?void 0:r.value)||"",impact_outlook_tagalog:(null==c?void 0:c.value)||"",management_recommendations_english:(null==m?void 0:m.value)||"",management_recommendations_tagalog:(null==h?void 0:h.value)||""});return}if(o.label.includes("SMS")){let{sms:a}=e.target;delete l.row.crop_stage,r({...l.row,sms:a.value||l.row.sms})}else{let{impactOutlookEnglish:a,impactOutlookTagalog:t,managementRecommendationsEnglish:n,managementRecommendationsTagalog:i}=e.target;r({...l.row,impact_outlook_english:a.value||l.row.impact_outlook_english,impact_outlook_tagalog:t.value||l.row.impact_outlook_tagalog,management_recommendations_english:n.value||l.row.management_recommendations_english,management_recommendations_tagalog:i.value||l.row.management_recommendations_tagalog})}}},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,n.jsx)(_.Z,{id:"alert-dialog-title",children:"View"===a?"View ".concat(o.label," Recommendation"):"Add"===a?"Add ".concat(o.label," Recommendation"):"Edit ".concat(o.label," Recommendation")}),(0,n.jsx)(f.Z,{dividers:!0,children:(0,n.jsxs)(y.Z,{id:"alert-dialog-description",children:["tenday"===o.value&&(0,n.jsx)(T,{selectedRow:l,cropType:s,action:a,cropStages:c}),"tenday_sms"===o.value&&(0,n.jsx)(E,{selectedRow:l,action:a,cropType:s}),"seasonal"===o.value&&(0,n.jsx)(O,{selectedRow:l,cropType:s,action:a,cropStages:m}),"seasonal_general"===o.value&&(0,n.jsx)(I,{selectedRow:l,cropType:s,action:a}),"seasonal_sms"===o.value&&(0,n.jsx)(M,{selectedRow:l,action:a,cropType:s}),"special"===o.value&&(0,n.jsx)(A,{selectedRow:l,cropType:s,action:a}),"special_sms"===o.value&&(0,n.jsx)(L,{selectedRow:l,cropType:s,action:a})]})}),(0,n.jsxs)(w.Z,{children:[(0,n.jsx)(p.Z,{onClick:i,children:"Close"}),"Edit"===a&&(0,n.jsx)(p.Z,{type:"submit",children:"Update"}),"Add"===a&&(0,n.jsx)(p.Z,{type:"submit",children:"Create"})]})]})},D=t(17553),W=t(60626),F=t(34279),P=function(e){let{params:a,setSelectedRow:t,setOpen:i,setAction:l}=e,s=e=>{t(a),i(!0),l(e)};return(0,n.jsxs)(r.Z,{sx:{m:1,position:"relative"},children:[(0,n.jsx)(W.Z,{color:"primary",sx:{"&:hover":{cursor:"pointer"},marginRight:"16px"},onClick:()=>s("View")}),(0,n.jsx)(F.Z,{color:"primary",sx:{"&:hover":{cursor:"pointer"}},onClick:()=>s("Edit")})]})};let V=(e,a,t,i,l)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:e=>(0,n.jsx)(P,{params:e,setSelectedRow:a,setOpen:t,setAction:i})},{field:"crop",headerName:"Crop",width:100},{field:"crop_stage",headerName:"Crop Stage",width:200,renderCell:e=>{var a;return null==l?void 0:null===(a=l[e.value])||void 0===a?void 0:a.label}},{field:"farming_activity",headerName:"Farming Activity",width:170},{field:"climate_risk",headerName:"Climate Risk",width:150,renderCell:a=>S(a.field,a.value,e)},{field:"impact_outlook_english",headerName:"Impact Outlook English",width:200},{field:"impact_outlook_tagalog",headerName:"Impact Outlook Tagalog",width:200},{field:"management_recommendations_english",headerName:"Management Recommendations English",width:300},{field:"management_recommendations_tagalog",headerName:"Management Recommendations Tagalog",width:300}],H=(e,a,t)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:i=>(0,n.jsx)(P,{isSMS:!0,params:i,setSelectedRow:e,setOpen:a,setAction:t})},{field:"crop",headerName:"Crop",width:100},{field:"climate_risk",headerName:"Climate Risk",width:170,renderCell:e=>S(e.field,e.value,null)},{field:"sms",headerName:"SMS",width:500}],B=(e,a,t,i,l)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:e=>(0,n.jsx)(P,{params:e,setSelectedRow:a,setOpen:t,setAction:i})},{field:"crop",headerName:"Crop",width:100},{field:"crop_stage",headerName:"Crop Stage",width:200,renderCell:e=>{var a;return null==l?void 0:null===(a=l[e.value])||void 0===a?void 0:a.label}},{field:"farming_activity",headerName:"Farming Activity",width:170},{field:"climate_risk",headerName:"Climate Risk",width:150,renderCell:a=>S(a.field,a.value,e)},{field:"impact_outlook_english",headerName:"Impact Outlook English",width:200},{field:"impact_outlook_tagalog",headerName:"Impact Outlook Tagalog",width:200},{field:"management_recommendations_english",headerName:"Management Recommendations English",width:300},{field:"management_recommendations_tagalog",headerName:"Management Recommendations Tagalog",width:300}],q=(e,a,t,i)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:e=>(0,n.jsx)(P,{params:e,setSelectedRow:a,setOpen:t,setAction:i})},{field:"crop",headerName:"Crop",width:100},{field:"climate_risk",headerName:"Climate Risk",width:150,renderCell:a=>S(a.field,a.value,e)},{field:"impact_outlook_english",headerName:"Impact Outlook English",width:200},{field:"impact_outlook_tagalog",headerName:"Impact Outlook Tagalog",width:200},{field:"management_recommendations_english",headerName:"Management Recommendations English",width:300},{field:"management_recommendations_tagalog",headerName:"Management Recommendations Tagalog",width:300}],U=(e,a,t)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:i=>(0,n.jsx)(P,{isSMS:!0,params:i,setSelectedRow:e,setOpen:a,setAction:t})},{field:"crop",headerName:"Crop",width:100},{field:"climate_risk",headerName:"Climate Risk",width:170,renderCell:e=>S(e.field,e.value,null)},{field:"sms",headerName:"SMS",width:500}],z=(e,a,t)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:i=>(0,n.jsx)(P,{params:i,setSelectedRow:e,setOpen:a,setAction:t})},{field:"crop",headerName:"Crop",width:100},{field:"wind_signal",headerName:"Wind Signal",width:170,renderCell:e=>S(e.field,e.value,null)},{field:"impact_outlook_english",headerName:"Impact Outlook English",width:200},{field:"impact_outlook_tagalog",headerName:"Impact Outlook Tagalog",width:200},{field:"management_recommendations_english",headerName:"Management Recommendations English",width:300},{field:"management_recommendations_tagalog",headerName:"Management Recommendations Tagalog",width:300}],G=(e,a,t)=>[{field:"",headerName:"",type:"actions",renderCell:e=>e.api.getRowIndex(e.id)+1},{field:"actions",headerName:"Actions",type:"actions",renderCell:i=>(0,n.jsx)(P,{isSMS:!0,params:i,setSelectedRow:e,setOpen:a,setAction:t})},{field:"crop",headerName:"Crop",width:100},{field:"wind_signal",headerName:"Wind Signal",width:170,renderCell:e=>S(e.field,e.value,null)},{field:"sms",headerName:"SMS",width:500}];var Q=t(22088),X=function(e){let{rows:a,tab:t,cropType:i,cropStages:l,seasonalCropStages:o}=e,d="",[c,m]=(0,s.useState)(!1),[h,g]=(0,s.useState)(null),[u,x]=(0,s.useState)(null),[b,_]=(0,s.useState)({open:!1,message:"",severity:""}),w=()=>{m(!1)},f=async e=>{try{await (0,Q.vU)({type:t.value,newRecommendation:["docid","sms","impact_outlook_english","impact_outlook_tagalog","management_recommendations_english","management_recommendations_tagalog"].reduce((a,t)=>({...a,...e[t]&&{[t]:e[t]}}),{})}),_({open:!0,message:"Successfully edited recommendation.",severity:"success"}),window.location.reload()}catch(e){_({open:!0,message:e.message||"Something went wrong.",error:e.message,severity:"error"})}w()},y=(0,s.useMemo)(()=>a&&0!==a.length?Math.max(...a.map(e=>Number.isFinite(e.id)?e.id:0))+1:0,[a]),Z=async e=>{try{let a={...e,id:y,crop:e.crop||i};await (0,Q.fI)({type:t.value,recommendation:a}),_({open:!0,message:"Successfully added recommendation.",severity:"success"}),window.location.reload()}catch(e){_({open:!0,message:e.message||"Something went wrong.",error:e.message,severity:"error"})}w()},k=e=>{var a;g({...e,row:{...e.row,crop_stage:null==l?void 0:null===(a=l[e.row.crop_stage])||void 0===a?void 0:a.label}})};switch(t.value){case"tenday":default:d=V(i,k,m,x,l);break;case"tenday_sms":d=H(k,m,x);break;case"seasonal":d=B(i,k,m,x,o);break;case"seasonal_general":d=q(i,k,m,x);break;case"seasonal_sms":d=U(k,m,x);break;case"special":d=z(k,m,x);break;case"special_sms":d=G(k,m,x)}return(0,n.jsxs)("div",{children:[(0,n.jsx)(D.Z,{openSnackbar:b.open,message:b.message,severity:b.severity,closeHandlerCB:()=>{_({...b,open:!1})}}),(0,n.jsx)(N,{action:u,open:c,handleClose:w,selectedRow:h,cropType:i,recommendationType:t,handleSubmit:f,handleCreate:Z,cropStages:l,seasonalCropStages:o}),(0,n.jsx)(v.Z,{direction:"row",justifyContent:"flex-end",sx:{mb:2},children:(0,n.jsx)(p.Z,{variant:"contained",onClick:()=>{x("Add"),g({row:{crop:i}}),m(!0)},children:"Add Recommendation"})}),(0,n.jsx)(r.Z,{sx:{height:700,width:"100%"},children:(0,n.jsx)(j._,{density:"compact",rows:a,columns:d,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],disableRowSelectionOnClick:!0})})]})},K=t(61061),Y=t(9704);let $={LOAD:"load",FETCH_SUCCESS:"fetch_success",FETCH_ERROR:"fetch_error",SET:"set"},J={stages:null,selectedStages:null,loading:!0,error:""},ee=(e,a)=>{if(a.type===$.LOAD)return{...e,loading:!0,error:""};if(a.type===$.FETCH_SUCCESS)return{...e,loading:!1,stages:a.payload};if(a.type===$.FETCH_ERROR)return{...e,stages:null,error:a.payload};if(a.type===$.SET)return{...e,selectedStages:a.payload};throw Error("Invalid action type")};function ea(e,a){let[t,n]=(0,s.useReducer)(ee,J),{loadingCrops:i,cropList:l}=(0,Y.Z)();return(0,s.useEffect)(()=>{let t=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{let i=[];(t=t.filter(e=>e===a)).forEach(a=>i.push((0,K.Fj)(e,a)));let l=await Promise.all(i);n({type:$.FETCH_SUCCESS,payload:t.reduce((e,a,t)=>({...e,[a]:l[t].data}),{})})}catch(e){var i,l;n({type:$.FETCH_ERROR,payload:null!==(l=null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.data)&&void 0!==l?l:null==e?void 0:e.message})}};!i&&(null==l?void 0:l.length)>0&&t(l)},[e,a,l,i]),(0,s.useEffect)(()=>{if(a&&t.stages){var e,i;n({type:$.SET,payload:null!==(i=null===(e=t.stages)||void 0===e?void 0:e[a])&&void 0!==i?i:null})}},[a,t.stages]),t}let et=[{index:0,label:"Ten Day",value:"tenday"},{index:1,label:"Ten Day SMS",value:"tenday_sms"},{index:2,label:"Seasonal",value:"seasonal"},{index:3,label:"Seasonal General",value:"seasonal_general"},{index:4,label:"Seasonal SMS",value:"seasonal_sms"},{index:5,label:"Special",value:"special"},{index:6,label:"Special SMS",value:"special_sms"}];var en=function(){let{cropList:e}=(0,Y.Z)(),[a,t]=(0,s.useState)("Rice"),[i,l]=(0,s.useState)({index:0,label:"Ten Day",value:"tenday"}),[p,v]=(0,s.useState)(0),{selectedStages:j,loading:b}=ea("10-day",a),{selectedStages:_,loading:w}=ea("seasonal",a),{recommendations:f,loading:y,error:Z}=function(e,a){let[t,n]=(0,s.useState)([]),[i,l]=(0,s.useState)(!1),[o,r]=(0,s.useState)("");return(0,s.useEffect)(()=>{let t=async()=>{try{let t=await (0,Q.sT)({crop:e,type:a});n(t||[])}catch(e){var t,i;r(null!==(i=null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data)&&void 0!==i?i:e.message),l(!1)}};e&&a&&t()},[e,a]),{recommendations:t,loading:i,error:o}}(a,i.value);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Manage recommendations"})," by viewing, adding, editing, deleting a recommendation."]}),(0,n.jsx)(r.Z,{sx:{width:200,marginTop:"30px"},children:(0,n.jsxs)(h.Z,{fullWidth:!0,children:[(0,n.jsx)(g.Z,{id:"demo-simple-select-label",children:"Crop Type"}),(0,n.jsx)(x.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:a,label:"Crop Type",onChange:e=>{t(e.target.value)},children:e.map(e=>(0,n.jsx)(u.Z,{value:e,children:e},e))})]})}),(0,n.jsx)(r.Z,{sx:{width:"100%",marginTop:{xs:"15px",lg:"25px"},textAlign:"center"},children:y||b||w?(0,n.jsxs)("div",{sx:{display:"flex",justifyContent:"center"},children:[(0,n.jsx)("span",{children:"Loading..."}),(0,n.jsx)(m.Z,{size:24,color:"primary"})]}):(0,n.jsx)(n.Fragment,{children:Z?(0,n.jsx)(o.Z,{variant:"body1",color:"error",children:"Something went wrong. Unable to retrieve recommendations."}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,n.jsx)(c.Z,{value:p,onChange:(e,a)=>{v(a),l(et[a])},"aria-label":"basic tabs example",children:et.map((e,a)=>(0,n.jsx)(d.Z,{label:e.label,id:"simple-tab-".concat(a),"aria-controls":"simple-tabpanel-".concat(a)},a))})}),(0,n.jsx)(function(e){let{children:a,value:t,index:i,...l}=e;return(0,n.jsx)("div",{role:"tabpanel",hidden:t!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i),...l,children:t===i&&(0,n.jsx)(r.Z,{sx:{p:3,whiteSpace:e.smsstyle},children:a})})},{value:i.index,index:i.index,children:null!==j&&(0,n.jsx)(X,{rows:f,tab:i,cropType:a,cropStages:j,seasonalCropStages:_})})]})})})]})},ei=t(9473),el=t(68573),es=t(9669),eo=t.n(es),er=t(15426);class ed extends er.Z{async upsertCropRecommendations(e,a){let t=await this.createRequestObject({body:e});return(await eo()({...t,url:"".concat("https://acap-mimaropa-server.onrender.com/api","/uploadCropRecommendations/").concat(a),method:"POST"})).data}}let ec=new ed,em=ec.upsertCropRecommendations.bind(ec);var eh=t(25517),eg=t(22233),eu={marginBottom:e=>e.spacing(3),maxWidth:"800px",color:"gray","& a":{textDecoration:"none",color:e=>e.palette.green.dark},"& a:hover":{textDecoration:"underline"},"& a:visited":{color:e=>e.palette.green.dark}},ex=function(){let[e,a]=(0,s.useState)([]),[t,i]=(0,s.useState)(""),{cropList:l}=(0,Y.Z)(),d=(0,ei.v9)(e=>e.seasonalweather.status),c=()=>{a(e.map(e=>({...e,isValid:!1,value:""})))},m=async e=>new Promise(async(a,n)=>{try{await em(e,t),a(!0)}catch(e){n(e)}});return(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Manage recommendations"})," by uploading Excel-formatted templates."]}),(0,n.jsxs)("p",{children:["Before uploading recommendations with data,"," ",(0,n.jsx)("strong",{children:"first download the template"})," of the respective crop you will add into the system."]}),(0,n.jsx)("br",{}),(0,n.jsxs)(el.ZP,{container:!0,spacing:2,children:[(0,n.jsxs)(el.ZP,{item:!0,xs:12,md:6,children:[(0,n.jsx)(o.Z,{variant:"h6",children:"List of Crop Recommendations and their Templates"}),(0,n.jsx)("br",{}),(0,n.jsxs)(o.Z,{variant:"body2",sx:eu,children:[(0,n.jsx)("a",{href:"https://firebasestorage.googleapis.com/v0/b/acap-mimaropa-dev.appspot.com/o/files%2Ftemplates%2F%5Bpassed%5D%20Rice-Recommendations-v2.1_final%20(1).xlsx?alt=media&token=a6a0f64f-75e3-4932-9a48-067fe8a2478f",target:"__blank",children:"[Rice Recommendations Excel template]"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("a",{href:"https://firebasestorage.googleapis.com/v0/b/acap-mimaropa-dev.appspot.com/o/files%2Ftemplates%2F%5Bpassed%5D%20Corn-Recommendation_v2.1_final.xlsx?alt=media&token=b3733ad0-2971-48a6-aa3d-0255b6c705e5",target:"__blank",children:"[Corn Recommendations Excel template]"})]})]}),(0,n.jsxs)(el.ZP,{item:!0,xs:12,md:6,children:[(0,n.jsx)("p",{children:(0,n.jsx)("strong",{children:"Upload Recommendations"})}),(0,n.jsx)(r.Z,{sx:{minWidth:120},children:(0,n.jsxs)(h.Z,{fullWidth:!0,children:[(0,n.jsx)(g.Z,{id:"demo-simple-select-label",children:"Crop Type"}),(0,n.jsx)(x.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t,label:"Crop Type",onChange:e=>{i(e.target.value)},children:l.map(e=>(0,n.jsx)(u.Z,{value:e,children:e},e))})]})}),(0,n.jsx)("br",{}),(0,n.jsxs)(el.ZP,{item:!0,xs:12,children:[(0,n.jsx)(eg.Z,{label:"Upload an excel file",name:"excelfile",fileAccepts:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",isDisabled:d===eh.G.PENDING||!t,fileUploadMethod:m,onFileSelectedCB:e=>{e||c()}}),(0,n.jsxs)(o.Z,{variant:"caption",children:["Please select ",(0,n.jsx)("strong",{children:"Crop Type"})," first before uploading a file."]})]})]})]})]})},ep=function(){let[e,a]=(0,s.useState)(0);function t(e){let{children:a,value:t,index:i,...l}=e;return(0,n.jsx)("div",{role:"tabpanel",hidden:t!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i),...l,children:t===i&&(0,n.jsx)(r.Z,{sx:{p:3,whiteSpace:e.smsstyle},children:a})})}function i(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}return(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"h5",children:"Recommendations Management"}),(0,n.jsxs)(r.Z,{sx:{width:"100%",marginTop:{xs:"15px",lg:"25px"}},children:[(0,n.jsx)(r.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,n.jsxs)(c.Z,{value:e,onChange:(e,t)=>{a(t)},"aria-label":"basic tabs example",children:[(0,n.jsx)(d.Z,{label:"UPLOAD",...i(0)}),(0,n.jsx)(d.Z,{label:"MANAGE",...i(1)})]})}),(0,n.jsx)(t,{value:e,index:0,smsstyle:"normal",children:(0,n.jsx)(ex,{})}),(0,n.jsx)(t,{value:e,index:1,smsstyle:"normal",children:(0,n.jsx)(en,{})})]})]})},ev=(0,i.Z)(function(e){let{loading:a,user:t,onBtnLogoutClick:i}=e;return(0,n.jsx)(l.Z,{loading:a,user:t,onBtnLogoutClick:i,accLevel:C.DW.ADMIN,children:(0,n.jsx)(ep,{})})})},9704:function(e,a,t){"use strict";t.d(a,{Z:function(){return l}});var n=t(67294),i=t(61061);function l(){let[e,a]=(0,n.useState)([]),[t,l]=(0,n.useState)(!1),[s,o]=(0,n.useState)("");return(0,n.useEffect)(()=>{(async()=>{var e,t,n;try{l(!0);let t=await (0,i.TQ)();a(null!==(e=null==t?void 0:t.list)&&void 0!==e?e:[]),l(!1),o("")}catch(e){o(null!==(n=null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data)&&void 0!==n?n:e.message),l(!1),a([])}})()},[]),{cropList:e,loading:t,error:s}}},22088:function(e,a,t){"use strict";t.d(a,{fI:function(){return g},sT:function(){return h},$K:function(){return r},YH:function(){return c},O_:function(){return x},iR:function(){return m},Ee:function(){return d},vU:function(){return u}});var n=t(96171),i=t(78986);let l={CROP_REC_LIST_RECS_LITE:"n_list_crop_recommendations",CROP_REC_LIST_RECS_FORMATTED:"n_list_crop_recommendations_",CROP_REC_LIST:"n_crop_recommendations_",CROP_REC_SMS_LIST:"n_crop_recommendations_"};class s extends n.Z{constructor(...e){super(...e),this.getFormattedRecommendationsFromStages=async e=>{let a,{cropstages:t,forecast:n,type:s}=e;if(void 0===t||void 0===n)return;let o="".concat(l.CROP_REC_LIST_RECS_FORMATTED).concat(s),r=this.collection(this.db,o);return a=s===i.q.SEASONAL?this.query(r,this.where("crop_stage","in",t),this.where("forecast","==",n)):this.query(r,this.where("crop_stage","in",t)),await this.getCollectionData(o,"",a)},this.getFormattedRecommendations=async e=>{let a,{cropstage:t,forecast:n,type:s}=e;if(void 0===t||void 0===n)return;let o="".concat(l.CROP_REC_LIST_RECS_FORMATTED).concat(s),r=this.collection(this.db,o);return a=s===i.q.SEASONAL?this.query(r,this.where("crop_stage","==",t),this.where("forecast","==",n)):this.query(r,this.where("crop_stage","==",t)),await this.getCollectionData(o,"",a)},this.getCropRecommendationsLite=async e=>{let{type:a}=e;return await this.getDocumentData(l.CROP_REC_LIST_RECS_LITE,a)},this.getCropRecommendations=async e=>{let{crop:a,type:t}=e;if(!a||!t)return;let n="".concat(l.CROP_REC_LIST).concat(t),i=this.collection(this.db,n),s=this.query(i,this.where("crop","==",a));return await this.getCollectionDataWithID(n,"",s)},this.getRecommendations=async e=>{let a,{climateRisk:t,_cropStage:n,crop:i,type:s,multipleStages:o}=e;if(!t||!i)return;if(o){if(0===n.length)return}else if(!n)return;let r="".concat(l.CROP_REC_LIST).concat(s),d=this.collection(this.db,r);return a=o?this.query(d,this.where("climate_risk","==",t),this.where("crop_stage","in",n),this.where("crop","==",i)):this.query(d,this.where("climate_risk","==",t),this.where("crop_stage","==",n),this.where("crop","==",i)),await this.getCollectionData(r,"",a)},this.getSeasonalGeneralRecommendations=async e=>{let{climateRisk:a,crop:t}=e;if(!a||!t)return;let n="n_crop_recommendations_seasonal_general",i=this.collection(this.db,n),l=this.query(i,this.where("climate_risk","==",a),this.where("crop","==",t));return await this.getCollectionData(n,"",l)},this.getRecommendationsFlexible=async e=>{let{climateRisk:a,_cropStage:t,crop:n,type:i,multipleStages:s=!1}=e,o="".concat(l.CROP_REC_LIST).concat(i),r=this.collection(this.db,o);if(!n)return;let d=[this.where("crop","==",n)];a&&d.push(this.where("climate_risk","==",a)),t&&(s?d.push(this.where("crop_stage","in",t)):d.push(this.where("crop_stage","==",t)));let c=this.query(r,...d);return await this.getCollectionData(o,"",c)},this.getRecommendationsQuery=async e=>{let{type:a,queryFields:t=[]}=e;if(!a)throw Error("Missing parameter/s");let n="".concat(l.CROP_REC_LIST).concat(a),i=this.collection(this.db,n),s=t.map(e=>this.where(e.field,e.op,e.value)),o=this.query(i,...s);return await this.getCollectionData(n,"",o)},this.getRecommendationsSMS=async e=>{let{crop:a,climateRisk:t,type:n}=e;if(!a||!t||!n)return;let i="".concat(l.CROP_REC_SMS_LIST).concat(n),s=this.collection(this.db,i),o=this.query(s,this.where("crop","==",a),this.where("climate_risk","==",t));return await this.getCollectionData(i,"",o)},this.updateRecommendation=async e=>{let{type:a,newRecommendation:t}=e,n="".concat(l.CROP_REC_SMS_LIST).concat(a),i=this.collection(this.db,n),s=this.doc(i,t.docid);delete t.docid,await this.updateDoc(s,t)},this.createRecommendation=async e=>{let{type:a,recommendation:t}=e,n="".concat(l.CROP_REC_SMS_LIST).concat(a),i=this.collection(this.db,n);return await this.addDoc(i,t)}}}let o=new s;o.getFormattedRecommendations.bind(o),o.getFormattedRecommendationsFromStages.bind(o),o.getCropRecommendationsLite.bind(o);let r=o.getRecommendations.bind(o),d=o.getSeasonalGeneralRecommendations.bind(o),c=o.getRecommendationsFlexible.bind(o),m=o.getRecommendationsSMS.bind(o),h=o.getCropRecommendations.bind(o),g=o.createRecommendation.bind(o),u=o.updateRecommendation.bind(o),x=o.getRecommendationsQuery.bind(o)}},function(e){e.O(0,[3153,7023,3745,1664,6541,8848,6294,6905,5837,9998,4723,3338,837,3539,5130,4740,8591,2233,2888,9774,179],function(){return e(e.s=97862)}),_N_E=e.O()}]);