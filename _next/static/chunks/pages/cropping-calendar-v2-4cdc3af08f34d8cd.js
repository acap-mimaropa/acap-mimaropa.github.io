(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5418],{52979:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cropping-calendar-v2",function(){return r(75345)}])},48414:function(e,a,r){"use strict";var l=r(85893),o=r(9008),t=r.n(o),n=r(98813);a.Z=function(e){let{title:a,ogDescription:r,ogImageURL:o,ogImgAlt:c="Picture",ogSiteName:s="ACAP-".concat(n.Gt.toUpperCase()),ogURL:i,canonicalURL:d="http://localhost"}=e;return(0,l.jsxs)(t(),{children:[(0,l.jsx)("meta",{name:"description",content:r}),(0,l.jsx)("meta",{rel:"canonical",href:d}),(0,l.jsx)("meta",{name:"og:description",content:r}),(0,l.jsx)("meta",{property:"og:title",content:a}),(0,l.jsx)("meta",{property:"og:site_name",content:s}),(0,l.jsx)("meta",{property:"og:image",content:o}),(0,l.jsx)("meta",{property:"og:image:width",content:"600"}),(0,l.jsx)("meta",{property:"og:image:height",content:"315"}),(0,l.jsx)("meta",{property:"og:image:alt",content:c}),(0,l.jsx)("meta",{property:"og:url",content:i}),(0,l.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,l.jsx)("meta",{name:"twitter:title",content:a}),(0,l.jsx)("meta",{name:"twitter:image",content:o}),(0,l.jsx)("title",{children:a})]})}},42823:function(e,a,r){"use strict";r.d(a,{Z:function(){return d}});var l=r(85893),o=r(25675),t=r.n(o),n=r(60990),c=r(96788),s=r(71604),i={textAlign:"center",minHeight:"200px",width:"100%",border:"4px solid rgba(0, 0, 0, 0.11)",borderRadius:e=>e.spacing(2),color:e=>e.palette.text.secondary,borderStyle:"dashed",padding:e=>e.spacing(2),marginTop:e=>e.spacing(4)},d=function(e){let{message:a="Failed to load data",style:r={}}=e;return(0,l.jsxs)(n.Z,{sx:i,style:r,children:[(0,l.jsx)(t(),{unoptimized:!0,src:(0,s.assetPrefixer)("images/icons/empty-state-light.svg"),height:120,width:120,loader:s.imageLoader,alt:"Empty data"}),(0,l.jsx)(c.Z,{variant:"subtitle1",children:a})]})}},11859:function(e,a,r){"use strict";var l=r(85893),o=r(60990),t=r(97182);a.Z=function(e){let{text:a="",size:r=24,children:n}=e;return(0,l.jsxs)(o.Z,{sx:{width:"100%",textAlign:"center",height:"20vh"},children:[(0,l.jsxs)(o.Z,{sx:{width:"100%",textAlign:"center",marginTop:e=>e.spacing(12),marginBottom:"32px",display:"flex",justifyContent:"center"},children:[(0,l.jsx)("span",{children:""!==a?a:"Loading..."})," \xa0",(0,l.jsx)(t.Z,{size:r})]}),n]})}},60762:function(e,a,r){"use strict";r.d(a,{Z:function(){return C}});var l=r(87462),o=r(63366),t=r(67294),n=r(90512),c=r(94780),s=r(77527),i=r(44001),d=r(93454),p=r(1588),u=r(34867);function x(e){return(0,u.ZP)("MuiCard",e)}(0,p.Z)("MuiCard",["root"]);var m=r(85893);let g=["className","raised"],h=e=>{let{classes:a}=e;return(0,c.Z)({root:["root"]},x,a)},f=(0,s.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})(()=>({overflow:"hidden"}));var C=t.forwardRef(function(e,a){let r=(0,i.i)({props:e,name:"MuiCard"}),{className:t,raised:c=!1}=r,s=(0,o.Z)(r,g),d=(0,l.Z)({},r,{raised:c}),p=h(d);return(0,m.jsx)(f,(0,l.Z)({className:(0,n.Z)(p.root,t),elevation:c?8:void 0,ref:a,ownerState:d},s))})},33994:function(e,a,r){"use strict";r.d(a,{V:function(){return t}});var l=r(1588),o=r(34867);function t(e){return(0,o.ZP)("MuiDivider",e)}let n=(0,l.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);a.Z=n},15972:function(e,a,r){"use strict";r.d(a,{Z:function(){return _}});var l=r(63366),o=r(87462),t=r(67294),n=r(90512),c=r(94780),s=r(2101),i=r(77527),d=r(83008),p=r(44001),u=r(74507),x=r(3153),m=r(27229),g=r(7491),h=r(33994),f=r(68361),C=r(33562),b=r(1588),v=r(34867);function j(e){return(0,v.ZP)("MuiMenuItem",e)}let y=(0,b.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var Z=r(85893);let k=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],S=e=>{let{disabled:a,dense:r,divider:l,disableGutters:t,selected:n,classes:s}=e,i=(0,c.Z)({root:["root",r&&"dense",a&&"disabled",!t&&"gutters",l&&"divider",n&&"selected"]},j,s);return(0,o.Z)({},s,i)},P=(0,i.ZP)(x.Z,{shouldForwardProp:e=>(0,d.Z)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,a)=>{let{ownerState:r}=e;return[a.root,r.dense&&a.dense,r.divider&&a.divider,!r.disableGutters&&a.gutters]}})(e=>{let{theme:a,ownerState:r}=e;return(0,o.Z)({},a.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat((a.vars||a).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(a.vars||a).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(y.selected)]:{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / ").concat(a.vars.palette.action.selectedOpacity,")"):(0,s.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity),["&.".concat(y.focusVisible)]:{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / calc(").concat(a.vars.palette.action.selectedOpacity," + ").concat(a.vars.palette.action.focusOpacity,"))"):(0,s.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)}},["&.".concat(y.selected,":hover")]:{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / calc(").concat(a.vars.palette.action.selectedOpacity," + ").concat(a.vars.palette.action.hoverOpacity,"))"):(0,s.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / ").concat(a.vars.palette.action.selectedOpacity,")"):(0,s.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity)}},["&.".concat(y.focusVisible)]:{backgroundColor:(a.vars||a).palette.action.focus},["&.".concat(y.disabled)]:{opacity:(a.vars||a).palette.action.disabledOpacity},["& + .".concat(h.Z.root)]:{marginTop:a.spacing(1),marginBottom:a.spacing(1)},["& + .".concat(h.Z.inset)]:{marginLeft:52},["& .".concat(C.Z.root)]:{marginTop:0,marginBottom:0},["& .".concat(C.Z.inset)]:{paddingLeft:36},["& .".concat(f.Z.root)]:{minWidth:36}},!r.dense&&{[a.breakpoints.up("sm")]:{minHeight:"auto"}},r.dense&&(0,o.Z)({minHeight:32,paddingTop:4,paddingBottom:4},a.typography.body2,{["& .".concat(f.Z.root," svg")]:{fontSize:"1.25rem"}}))});var _=t.forwardRef(function(e,a){let r;let c=(0,p.i)({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:i="li",dense:d=!1,divider:x=!1,disableGutters:h=!1,focusVisibleClassName:f,role:C="menuitem",tabIndex:b,className:v}=c,j=(0,l.Z)(c,k),y=t.useContext(u.Z),_=t.useMemo(()=>({dense:d||y.dense||!1,disableGutters:h}),[y.dense,d,h]),A=t.useRef(null);(0,m.Z)(()=>{s&&A.current&&A.current.focus()},[s]);let w=(0,o.Z)({},c,{dense:_.dense,divider:x,disableGutters:h}),E=S(c),O=(0,g.Z)(A,a);return c.disabled||(r=void 0!==b?b:-1),(0,Z.jsx)(u.Z.Provider,{value:_,children:(0,Z.jsx)(P,(0,o.Z)({ref:O,role:C,tabIndex:r,component:i,focusVisibleClassName:(0,n.Z)(E.focusVisible,f),className:(0,n.Z)(E.root,v)},j,{ownerState:w,classes:E}))})})},75345:function(e,a,r){"use strict";r.r(a),r.d(a,{__N_SSG:function(){return W},default:function(){return U}});var l=r(85893),o=r(67294),t=r(60990),n=r(28907),c=r(88607),s=r(96788),i=r(96281),d=r(97416),p=r(13311),u=r(98813);function x(e,a){let[r,l]=(0,o.useState)([]),[t,n]=(0,o.useState)("");return(0,o.useEffect)(()=>{if(n(""),e.length>0)try{let r=Object.values(u.re).reduce((r,l)=>({...r,[l.code]:e[0][l.code].split(",").map(e=>"none"===e?"cropCalnocolor":"cropCal".concat(a[e].index))}),{}),o=Object.values(u.re).reduce((r,l)=>({...r,[l.code]:e[1][l.code].split(",").map(e=>"none"===e?"cropCalnocolor":"cropCal".concat(a[e].index))}),{});l([r,o])}catch(e){n(e.message)}else l([])},[e,a]),{stagesforviz:r,error:t}}var m=r(61061),g=r(18752),h=r(63867),f=r(9704),C=r(45697),b=r.n(C),v=r(61730),j=r(25837),y=r(60762),Z=r(42823),k=r(6897),S=r(68573),P=r(94143),_=r(15972),A=r(29346),w=r(26541),E=r(11859),O={width:"100%",alignItems:"center","& .cropcal-cropname":{fontSize:{xs:"9px !important",sm:"12px !important",md:"unset !important"},whiteSpace:{xs:"unset",sm:"nowrap"}},"& .calendar-header-csystem":{fontSize:{xs:"12px",md:"16px"},textAlign:"center","& h6":{fontSize:{xs:"11px",sm:"unset"}}},"& .calendar-header-months":{display:"flex",fontSize:{xs:"11px",md:"1rem"},"& div":{width:"100%",textAlign:"center"},"& .monthlabels":{backgroundColor:"#092139",color:"#fff",padding:{xs:"8px 0 8px 0",sm:"8px 8px 8px 8px"}}},"& .cal-mo-container":{height:"32px",display:"flex","& div":{width:"100%",textAlign:"center"}},"& .cropCalprep":{backgroundColor:"#ffd966"},"& .cropCalgrow":{backgroundColor:"#375623"},"& .cropCalharv":{backgroundColor:"#203764"},"& .cropCalplant":{backgroundColor:"#a9d08e"},"& .cropCalnocolor, .cropCalbkank":{backgroundColor:"#f7f7ff"},cellBorderColor:{cropCalprep:"#ffd966",cropCalgrow:"#375623",cropCalharv:"#203764",cropCalplant:"#a9d08e",cropCalnocolor:"#f7f7ff",cropCalbkank:"rgba(0, 0, 0, 0.4)"}},N=function(){return(0,l.jsxs)(S.ZP,{container:!0,sx:O,children:[(0,l.jsx)(S.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem"}),(0,l.jsx)(S.ZP,{item:!0,xs:10,md:9,className:"calendar-header-months",children:Object.values(u.re).map((e,a)=>(0,l.jsx)(t.Z,{className:"cal-mo-container",style:{borderRight:"1px solid rgba(0, 0, 0, 0.4)"},children:(0,l.jsx)("div",{className:"cropCalnocolor"})},"cal-mo-itm-".concat(a,"-1")))})]})},I={autoMuni:{marginTop:e=>e.spacing(2)},card:{height:{xs:"unset",md:"640px !important"},backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",minHeight:"640px",minWidth:{xs:"200px",sm:"500px"},marginTop:e=>e.spacing(5),padding:e=>e.spacing(2),borderRadius:e=>e.spacing(1),"& h5, h6":{marginBottom:e=>e.spacing(2)}},calendar:{width:"100%",alignItems:"center","& .cropcal-cropname":{fontSize:{xs:"9px !important",sm:"12px !important",md:"unset !important"},whiteSpace:{xs:"unset",sm:"nowrap"}},"& .calendar-header-csystem":{fontSize:{xs:"12px",md:"16px"},textAlign:"center","& h6":{fontSize:{xs:"11px",sm:"unset"}}},"& .calendar-header-months":{display:"flex",fontSize:{xs:"11px",md:"1rem"},"& div":{width:"100%",textAlign:"center"},"& .monthlabels":{backgroundColor:"#092139",color:"#fff",padding:{xs:"8px 0 8px 0",sm:"8px 8px 8px 8px"}}},"& .cal-mo-container":{height:"32px",display:"flex","& div":{width:"100%",textAlign:"center"}},"& .cropCal0":{backgroundColor:"#996633"},"& .cropCal1":{backgroundColor:"#CAEDFB"},"& .cropCal2":{backgroundColor:"#DAF2D0"},"& .cropCal3":{backgroundColor:"#B5E6A2"},"& .cropCal4":{backgroundColor:"#8ED973"},"& .cropCal5":{backgroundColor:"#3C7D22"},"& .cropCal6":{backgroundColor:"#104861"},"& .cropCal7":{backgroundColor:"#DC143C"},"& .cropCal8":{backgroundColor:"#4682B4"},"& .cropCal9":{backgroundColor:"#32CD32"},"& .cropCal10":{backgroundColor:"#fcf8e3"},"& .cropCal11":{backgroundColor:"#3498db"},"& .cropCal12":{backgroundColor:"#A1FF33"},"& .cropCal13":{backgroundColor:"#33FFCC"},"& .cropCal14":{backgroundColor:"#ff5733"},"& .cropCal15":{backgroundColor:"#f7ecb5"},"& .cropCalnocolor, .cropCalbkank":{backgroundColor:"#f7f7ff"},cellBorderColor:{cropCal0:"#996633",cropCal1:"#CAEDFB",cropCal2:"#DAF2D0",cropCal3:"#B5E6A2",cropCal4:"#8ED973",cropCal5:"#3C7D22",cropCal6:"#104861",cropCal7:"#DC143C",cropCal8:"#4682B4",cropCal9:"#32CD32",cropCal10:"#fcf8e3",cropCal11:"#3498db",cropCal12:"#A1FF33",cropCal13:"#33FFCC",cropCal14:"#ff5733",cropCal15:"#f7ecb5",cropCalnocolor:"#f7f7ff",cropCalbkank:"rgba(0, 0, 0, 0.4)"}},legend:{"& ul":{listStyle:"none","& li":{marginRight:"10px",fontSize:"14px"},span:{border:"1px solid #ccc",float:"left",width:"12px",height:"12px",margin:"4px"}}},infoMsg:{fontSize:"12px"}};function R(e){let{optsprovinces:a,optsmunicipalities:r,subcalendar:o,processedCalendar:n,cropStages:c,cropList:i}=e,{sel_options:d,loading:x}=e,{onSelectItemChange:m}=e,g=(i||[]).map(e=>"string"==typeof e?{value:e,label:e}:{value:e.name||e.label,label:e.label||e.name}).filter(e=>e.value),h=Object.values(c).sort((e,a)=>e.index-a.index),f=(0,v.Z)("(max-width:600px)");return(0,l.jsxs)(y.Z,{variant:"outlined",sx:I.card,children:[(0,l.jsxs)(S.ZP,{container:!0,maxWidth:"lg",spacing:5,alignItems:"bottom",sx:{marginBottom:"48px"},children:[(0,l.jsx)(S.ZP,{item:!0,xs:12,md:4,children:(0,l.jsxs)(t.Z,{children:[(0,l.jsx)(s.Z,{variant:"h6",children:"Location Selector"}),(0,l.jsx)(j.Z,{disablePortal:!0,id:"province",size:"small",value:d.sel_province?{...d.sel_province,label:(0,p.c)(d.sel_province.label)}:null,disabled:0===a.length||x,options:a.map(e=>({...e,label:(0,p.c)(e.label)})),renderInput:e=>(0,l.jsx)(w.Z,{...e,label:0===a.length?"Loading...":"Select a province"}),isOptionEqualToValue:(e,a)=>e.label===a.label,onChange:(e,a)=>m(e,a?{...a,from:"province"}:{from:"province"})}),(0,l.jsx)(j.Z,{disablePortal:!0,id:"municipality",size:"small",value:d.sel_municipality?{...d.sel_municipality,label:(0,p.c)(d.sel_municipality.label)}:null,disabled:0===r.length||x,options:r.map(e=>({...e,label:(0,p.c)(e.label)})),sx:I.autoMuni,renderInput:e=>(0,l.jsx)(w.Z,{...e,label:null===d.sel_municipality?"Select a municipality":"Municipality"}),isOptionEqualToValue:(e,a)=>e.label===a.label,getOptionDisabled:e=>e.disabled,onChange:(e,a)=>m(e,a?{...a,from:"municipality"}:{from:"municipality"})})]})}),(0,l.jsx)(S.ZP,{item:!0,xs:12,md:6,children:(0,l.jsxs)(t.Z,{children:[(0,l.jsx)(s.Z,{variant:"h6",children:"Crop Type"}),(0,l.jsx)(t.Z,{sx:{maxWidth:300},children:(0,l.jsxs)(k.Z,{fullWidth:!0,children:[(0,l.jsx)(P.Z,{id:"demo-simple-select-label",children:"Crop Type"}),(0,l.jsx)(A.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:d.sel_crop,label:"Crop Type",onChange:e=>{m(e,{label:e.target.value,from:e.target.value})},children:g.map(e=>(0,l.jsx)(_.Z,{value:e.value,children:e.label},e.value))})]})})]})})]}),x&&""===d.error?(0,l.jsx)(E.Z,{text:"Loading data..."}):""!==d.error?(0,l.jsx)(Z.Z,{message:"Error loading data."}):null==o&&null!==d.sel_municipality&&null!==d.sel_province?(0,l.jsx)(t.Z,{sx:I.infoMsg,children:"Data for the requested resource is not yet available."}):null!==o&&0!==n.length?(0,l.jsxs)(t.Z,{children:[(0,l.jsxs)(S.ZP,{container:!0,sx:I.calendar,children:[(0,l.jsx)(S.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem",children:(0,l.jsx)(s.Z,{variant:"subtitle1",children:(0,l.jsx)("strong",{children:"Crop Name"})})}),(0,l.jsx)(S.ZP,{item:!0,xs:10,md:9,className:"calendar-header-months",children:Object.values(u.re).map((e,a)=>(0,l.jsx)(t.Z,{className:"monthlabels",children:f?(0,l.jsx)("span",{children:e.format.substring(0,1)}):(0,l.jsx)("span",{children:e.format.substring(0,3)})},"cal-mo-".concat(a)))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(N,{}),(0,l.jsxs)(S.ZP,{container:!0,sx:I.calendar,children:[(0,l.jsx)(S.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem cropcal-cropname",children:d.sel_crop}),(0,l.jsx)(S.ZP,{item:!0,xs:10,md:9,className:"calendar-header-months",children:Object.values(u.re).map((e,a)=>{let r=n[0][e.code].length<=1?"1px solid rgba(0, 0, 0, 0.4)":"",o=I.calendar.cellBorderColor[n[0][e.code][0]],c=I.calendar.cellBorderColor[n[0][e.code][1]];return(0,l.jsxs)(t.Z,{className:"cal-mo-container",style:{borderRight:""!==r?r:(null==c?void 0:c.includes("#f7f7ff"))?"1px solid rgba(0, 0, 0, 0.4)":"1px solid ".concat(c)},children:[(0,l.jsx)("div",{style:{backgroundColor:o||"#f7f7ff"}}),(0,l.jsx)("div",{style:{backgroundColor:c||"#f7f7ff"}})]},"cal-mo-itm-".concat(a,"-1"))})})]}),(0,l.jsxs)(S.ZP,{container:!0,sx:I.calendar,children:[(0,l.jsx)(S.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem cropcal-cropname"}),(0,l.jsx)(S.ZP,{item:!0,xs:10,md:9,className:"calendar-header-months",style:{borderTop:"1px solid black"},children:Object.values(u.re).map((e,a)=>{let r=n[1][e.code].length<=1?"1px solid rgba(0, 0, 0, 0.4)":"",o=I.calendar.cellBorderColor[n[1][e.code][0]],c=I.calendar.cellBorderColor[n[1][e.code][1]];return(0,l.jsxs)(t.Z,{className:"cal-mo-container",style:{borderRight:""!==r?r:(null==c?void 0:c.includes("#f7f7ff"))?"1px solid rgba(0, 0, 0, 0.4)":"1px solid ".concat(c)},children:[(0,l.jsx)("div",{style:{backgroundColor:o||"#f7f7ff"}}),(0,l.jsx)("div",{style:{backgroundColor:c||"#f7f7ff"}})]},"cal-mo-itm-".concat(a,"-1"))})})]}),(0,l.jsx)(N,{})]}),(0,l.jsxs)(S.ZP,{container:!0,style:{marginTop:"32px"},children:[(0,l.jsx)(S.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem"}),(0,l.jsxs)(S.ZP,{item:!0,xs:10,md:9,sx:I.legend,className:"calendar-header-months",children:[(0,l.jsx)("strong",{children:"Legend"}),(0,l.jsx)("ul",{style:{display:"flex",flexWrap:"wrap"},children:h.map(e=>(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{style:{backgroundColor:I.calendar.cellBorderColor["cropCal".concat(e.index)]}}),e.label]},e.index))})]})]})]}):(0,l.jsx)(t.Z,{sx:I.infoMsg,children:"Please select a province and a municipality."})]})}R.propTypes={optsprovinces:b().array,optsmunicipalities:b().array,subcalendar:b().array,processedCalendar:b().array,cropStages:b().oneOfType([b().array,b().object]),cropList:b().array,sel_options:b().object,loading:b().bool,onSelectItemChange:b().func};var T={width:"100%",alignItems:"center","& .cropcal-cropname":{fontSize:{xs:"9px !important",sm:"12px !important",md:"unset !important"},whiteSpace:{xs:"unset",sm:"nowrap"}},"& .calendar-header-csystem":{fontSize:{xs:"12px",md:"16px"},textAlign:"center","& h6":{fontSize:{xs:"11px",sm:"unset"}}},"& .calendar-header-months":{display:"flex",fontSize:{xs:"11px",md:"1rem"},"& div":{width:"100%",textAlign:"center"},"& .monthlabels":{backgroundColor:"#092139",color:"#fff",padding:{xs:"8px 0 8px 0",sm:"8px 8px 8px 8px"}}},"& .cal-mo-container":{height:"32px",display:"flex","& div":{width:"100%",textAlign:"center"}},"& .cropCalprep":{backgroundColor:"#ffd966"},"& .cropCalgrow":{backgroundColor:"#375623"},"& .cropCalharv":{backgroundColor:"#203764"},"& .cropCalplant":{backgroundColor:"#a9d08e"},"& .cropCalnocolor, .cropCalbkank":{backgroundColor:"#f7f7ff"},cellBorderColor:{cropCalprep:"#ffd966",cropCalgrow:"#375623",cropCalharv:"#203764",cropCalplant:"#a9d08e",cropCalnocolor:"#f7f7ff",cropCalbkank:"rgba(0, 0, 0, 0.4)"}},B=function(){return(0,l.jsxs)(S.ZP,{container:!0,sx:T,children:[(0,l.jsx)(S.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem"}),(0,l.jsx)(S.ZP,{item:!0,xs:10,md:9,className:"calendar-header-months",children:Object.values(u.re).map((e,a)=>(0,l.jsx)(t.Z,{className:"cal-mo-container",style:{borderRight:"1px solid rgba(0, 0, 0, 0.4)"},children:(0,l.jsx)("div",{className:"cropCalnocolor"})},"cal-mo-itm-".concat(a,"-1")))})]})},L={card:{height:{xs:"unset",md:"640px !important"},backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",minHeight:"640px",minWidth:{xs:"200px",sm:"500px"},marginTop:e=>e.spacing(5),padding:e=>e.spacing(2),borderRadius:e=>e.spacing(1),"& h5, h6":{marginBottom:e=>e.spacing(2)}},calendar:{width:"100%",alignItems:"center","& .cropcal-cropname":{fontSize:{xs:"9px !important",sm:"12px !important",md:"unset !important"},whiteSpace:{xs:"unset",sm:"nowrap"}},"& .calendar-header-csystem":{fontSize:{xs:"12px",md:"16px"},textAlign:"center","& h6":{fontSize:{xs:"11px",sm:"unset"}}},"& .calendar-header-months":{display:"flex",fontSize:{xs:"11px",md:"1rem"},"& div":{width:"100%",textAlign:"center"},"& .monthlabels":{backgroundColor:"#092139",color:"#fff",padding:{xs:"8px 0 8px 0",sm:"8px 8px 8px 8px"}}},"& .cal-mo-container":{height:"32px",display:"flex","& div":{width:"100%",textAlign:"center"}},"& .cropCal0":{backgroundColor:"#996633"},"& .cropCal1":{backgroundColor:"#CAEDFB"},"& .cropCal2":{backgroundColor:"#DAF2D0"},"& .cropCal3":{backgroundColor:"#B5E6A2"},"& .cropCal4":{backgroundColor:"#8ED973"},"& .cropCal5":{backgroundColor:"#3C7D22"},"& .cropCal6":{backgroundColor:"#104861"},"& .cropCal7":{backgroundColor:"#DC143C"},"& .cropCal8":{backgroundColor:"#4682B4"},"& .cropCal9":{backgroundColor:"#32CD32"},"& .cropCal10":{backgroundColor:"#fcf8e3"},"& .cropCal11":{backgroundColor:"#3498db"},"& .cropCal12":{backgroundColor:"#A1FF33"},"& .cropCal13":{backgroundColor:"#33FFCC"},"& .cropCal14":{backgroundColor:"#ff5733"},"& .cropCal15":{backgroundColor:"#f7ecb5"},"& .cropCalnocolor, .cropCalbkank":{backgroundColor:"#f7f7ff"},cellBorderColor:{cropCal0:"#996633",cropCal1:"#CAEDFB",cropCal2:"#DAF2D0",cropCal3:"#B5E6A2",cropCal4:"#8ED973",cropCal5:"#3C7D22",cropCal6:"#104861",cropCal7:"#DC143C",cropCal8:"#4682B4",cropCal9:"#32CD32",cropCal10:"#fcf8e3",cropCal11:"#3498db",cropCal12:"#A1FF33",cropCal13:"#33FFCC",cropCal14:"#ff5733",cropCal15:"#f7ecb5",cropCalnocolor:"#f7f7ff",cropCalbkank:"rgba(0, 0, 0, 0.4)"}},legend:{"& ul":{listStyle:"none","& li":{marginRight:"10px",fontSize:"14px"},span:{border:"1px solid #ccc",float:"left",width:"12px",height:"12px",margin:"4px"}}},infoMsg:{fontSize:"12px"}};function F(e){let{optsprovinces:a,subcalendar:r,processedCalendar:o,cropStages:n,cropList:c}=e,{sel_options:i,loading:d}=e,{onSelectItemChange:p}=e,x=(c||[]).map(e=>"string"==typeof e?{value:e,label:e}:{value:e.name||e.label,label:e.label||e.name}).filter(e=>e.value),m=Object.values(n).sort((e,a)=>e.index-a.index),g=(0,v.Z)("(max-width:600px)");return(0,l.jsxs)(y.Z,{variant:"outlined",sx:L.card,children:[(0,l.jsxs)(S.ZP,{container:!0,maxWidth:"lg",spacing:5,alignItems:"bottom",sx:{marginBottom:"48px"},children:[(0,l.jsx)(S.ZP,{item:!0,xs:12,md:4,children:(0,l.jsxs)(t.Z,{children:[(0,l.jsx)(s.Z,{variant:"h6",children:"Location Selector"}),(0,l.jsx)(j.Z,{disablePortal:!0,id:"province",size:"small",value:i.sel_province,disabled:0===a.length||d,options:a,renderInput:e=>(0,l.jsx)(w.Z,{...e,label:0===a.length?"Loading...":"Select a province"}),isOptionEqualToValue:(e,a)=>e.label===a.label,onChange:(e,a)=>p(e,a?{...a,from:"province"}:{from:"province"})})]})}),(0,l.jsx)(S.ZP,{item:!0,xs:12,md:6,children:(0,l.jsxs)(t.Z,{children:[(0,l.jsx)(s.Z,{variant:"h6",children:"Crop Type"}),(0,l.jsx)(t.Z,{sx:{maxWidth:300},children:(0,l.jsxs)(k.Z,{fullWidth:!0,children:[(0,l.jsx)(P.Z,{id:"demo-simple-select-label",children:"Crop Type"}),(0,l.jsx)(A.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:i.sel_crop,label:"Crop Type",onChange:e=>{p(e,{label:e.target.value,from:e.target.value})},children:x.map(e=>(0,l.jsx)(_.Z,{value:e.value,children:e.label},e.value))})]})})]})})]}),d&&""===i.error?(0,l.jsx)(E.Z,{text:"Loading data..."}):""!==i.error?(0,l.jsx)(Z.Z,{message:"Error loading data."}):null==r&&null!==i.sel_municipality&&null!==i.sel_province?(0,l.jsx)(t.Z,{sx:L.infoMsg,children:"Data for the requested resource is not yet available."}):null!==r&&0!==o.length?(0,l.jsxs)(t.Z,{children:[(0,l.jsxs)(S.ZP,{container:!0,sx:L.calendar,children:[(0,l.jsx)(S.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem",children:(0,l.jsx)(s.Z,{variant:"subtitle1",children:(0,l.jsx)("strong",{children:"Crop Name"})})}),(0,l.jsx)(S.ZP,{item:!0,xs:10,md:9,className:"calendar-header-months",children:Object.values(u.re).map((e,a)=>(0,l.jsx)(t.Z,{className:"monthlabels",children:g?(0,l.jsx)("span",{children:e.format.substring(0,1)}):(0,l.jsx)("span",{children:e.format.substring(0,3)})},"cal-mo-".concat(a)))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(B,{}),(0,l.jsxs)(S.ZP,{container:!0,sx:L.calendar,children:[(0,l.jsx)(S.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem cropcal-cropname",children:i.sel_crop}),(0,l.jsx)(S.ZP,{item:!0,xs:10,md:9,className:"calendar-header-months",children:Object.values(u.re).map((e,a)=>{let r=o[0][e.code].length<=1?"1px solid rgba(0, 0, 0, 0.4)":"",n=L.calendar.cellBorderColor[o[0][e.code][0]],c=L.calendar.cellBorderColor[o[0][e.code][1]];return(0,l.jsxs)(t.Z,{className:"cal-mo-container",style:{borderRight:""!==r?r:(null==c?void 0:c.includes("#f7f7ff"))?"1px solid rgba(0, 0, 0, 0.4)":"1px solid ".concat(c)},children:[(0,l.jsx)("div",{style:{backgroundColor:n||"#f7f7ff"}}),(0,l.jsx)("div",{style:{backgroundColor:c||"#f7f7ff"}})]},"cal-mo-itm-".concat(a,"-1"))})})]}),(0,l.jsxs)(S.ZP,{container:!0,sx:L.calendar,children:[(0,l.jsx)(S.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem cropcal-cropname"}),(0,l.jsx)(S.ZP,{item:!0,xs:10,md:9,className:"calendar-header-months",style:{borderTop:"1px solid black"},children:Object.values(u.re).map((e,a)=>{let r=o[1][e.code].length<=1?"1px solid rgba(0, 0, 0, 0.4)":"",n=L.calendar.cellBorderColor[o[1][e.code][0]],c=L.calendar.cellBorderColor[o[1][e.code][1]];return(0,l.jsxs)(t.Z,{className:"cal-mo-container",style:{borderRight:""!==r?r:(null==c?void 0:c.includes("#f7f7ff"))?"1px solid rgba(0, 0, 0, 0.4)":"1px solid ".concat(c)},children:[(0,l.jsx)("div",{style:{backgroundColor:n||"#f7f7ff"}}),(0,l.jsx)("div",{style:{backgroundColor:c||"#f7f7ff"}})]},"cal-mo-itm-".concat(a,"-1"))})})]}),(0,l.jsx)(B,{})]}),(0,l.jsxs)(S.ZP,{container:!0,style:{marginTop:"32px"},children:[(0,l.jsx)(S.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem"}),(0,l.jsxs)(S.ZP,{item:!0,xs:10,md:9,sx:L.legend,className:"calendar-header-months",children:[(0,l.jsx)("strong",{children:"Legend"}),(0,l.jsx)("ul",{style:{display:"flex",flexWrap:"wrap"},children:m.map(e=>(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{style:{backgroundColor:L.calendar.cellBorderColor["cropCal".concat(e.index)]}}),e.label]},e.index))})]})]})]}):(0,l.jsx)(t.Z,{sx:L.infoMsg,children:"No available data."})]})}F.propTypes={optsprovinces:b().array,optsmunicipalities:b().array,subcalendar:b().array,processedCalendar:b().array,cropStages:b().oneOfType([b().array,b().object]),cropList:b().array,sel_options:b().object,loading:b().bool,onSelectItemChange:b().func};var D=r(48414);let M={RICE:"Rice",PILI:"Pili",CORN:"Corn",AMPALAYA:"Ampalaya",POLE_SITAO:"PoleSitao",CASSAVA:"Cassava",COCONUT:"Coconut",PINEAPPLE:"Pineapple",ABACA:"Abaca",CUT_FLOWERS:"Cut-flowers",LIVESTOCK:"Livestock",POULTRY:"Poultry",FISHERIES:"Fisheries (brackish and freshwater)"},z={sel_province:null,sel_municipality:null,sel_crop:M.RICE,error:""},V={sel_province:null,sel_crop:M.RICE,error:""};var W=!0,U=function(e){var a,r,u,C,b;let{media:v}=e,[j,y]=(0,o.useState)(0),[Z,k]=(0,o.useState)([]),[S,P]=(0,o.useState)(z),[_,A]=(0,o.useState)(V),[w,E]=(0,o.useState)([]),[O,N]=(0,o.useState)([]),[I,T]=(0,o.useState)([]),B=(0,h.Z)(null===(a=S.sel_province)||void 0===a?void 0:a.label,Z),{cropcalendar:L,error:W}=function(e){let[a,r]=(0,o.useState)([]),[l,t]=(0,o.useState)(!1),[n,c]=(0,o.useState)("");return(0,o.useEffect)(()=>{let a=async()=>{var a,l,o;try{t(!0);let l=await (0,m.ih)(e);t(!1),c(""),r(null!==(a=null==l?void 0:l.data)&&void 0!==a?a:[])}catch(e){c(null!==(o=null==e?void 0:null===(l=e.response)||void 0===l?void 0:l.data)&&void 0!==o?o:e.message),t(!1),r([])}};e&&(c(""),a())},[e]),{cropcalendar:a,loading:l,error:n}}(null===(r=S.sel_province)||void 0===r?void 0:r.label),{cropList:U}=(0,f.Z)(),{cropcalendar:q,cropStages:H,loading:G}=(0,g.Z)("10-day",null===(u=S.sel_province)||void 0===u?void 0:u.label,S.sel_crop),{cropcalendar:Y,cropStages:K,loading:X}=(0,g.Z)("seasonal",null===(C=S.sel_province)||void 0===C?void 0:C.label,S.sel_crop),Q=function(e,a){let[r,l]=(0,o.useState)([]);return(0,o.useEffect)(()=>{e&&a&&l(e&&a?e.filter(e=>(0,p.c)(e.municipality)===(0,p.c)(a)).map(e=>e.crop).filter((e,a,r)=>r.indexOf(e)===a).map((e,a)=>({id:a,label:e,disabled:!1})):[]),a||l([])},[e,a]),r}(L,null===(b=S.sel_municipality)||void 0===b?void 0:b.label),{stagesforviz:$,error:J}=x(w,H),{stagesforviz:ee,error:ea}=x(O,K),[er,el]=(0,o.useState)(!0),eo=(0,o.useCallback)(e=>{var a;let r;(null==q||null===(a=q.data1)||void 0===a||a.forEach((a,l)=>{(0,p.c)(a.municipality)===(0,p.c)(e)&&a.crop===S.sel_crop&&(r={calendar:a,index:l})}),r)?E([r.calendar,q.data2[r.index]]):E([])},[q,S.sel_crop]);function et(e){let{children:a,value:r,index:o,...n}=e;return(0,l.jsx)("div",{role:"tabpanel",hidden:r!==o,id:"simple-tabpanel-".concat(o),"aria-labelledby":"simple-tab-".concat(o),...n,children:r===o&&(0,l.jsx)(t.Z,{children:a})})}function en(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(0,o.useEffect)(()=>{Object.keys(Y).length?N([Y.data1[0],Y.data2[0]]):N([])},[Y,_.sel_crop]),(0,o.useEffect)(()=>{(async()=>{try{let e=await (0,d.$m)();k(e.data)}catch(e){}})()},[]),(0,o.useEffect)(()=>{if(Z.length>0){let e=(0,i.m)(Z);T(e),P(a=>({...a,sel_province:e[0]})),A(a=>({...a,sel_province:e[0]}))}},[Z]),(0,o.useEffect)(()=>{var e,a,r,l;B.length>0&&(null===(e=q.data1)||void 0===e?void 0:e.length)>0&&(null===(a=S.sel_province)||void 0===a?void 0:a.label)===(null!==(l=null===(r=q.data1[0])||void 0===r?void 0:r.province)&&void 0!==l?l:"")&&(eo(B[0].label),P(e=>({...e,sel_municipality:B[0]})))},[B,q,eo,S.sel_province]),(0,o.useEffect)(()=>{el(G||X)},[G,X]),(0,o.useEffect)(()=>{if(""!==W||""!==J||""!==ea){let e=W||J;P(a=>({...a,error:e})),A(e=>({...e,error:ea}))}else P(e=>({...e,error:""})),A(e=>({...e,error:""}))},[W,J,ea]);let ec=(e,a)=>{let{label:r,from:l}=a||{};if(""!==S.error&&P({...S,error:""}),void 0!==r)switch(l){case"province":E([]),N([]),P({...z,sel_crop:S.sel_crop,sel_province:a}),A({...V,sel_crop:S.sel_crop,sel_province:a});break;case"municipality":eo(r),P({...S,sel_municipality:a});break;case M.RICE:case M.PILI:case M.CORN:case M.POLE_SITAO:case M.AMPALAYA:case M.CASSAVA:case M.COCONUT:case M.PINEAPPLE:case M.ABACA:case M.CUT_FLOWERS:case M.LIVESTOCK:case M.POULTRY:case M.FISHERIES:E([]),N([]),P({...S,sel_crop:l}),A({..._,sel_crop:l});break;default:r&&(E([]),N([]),P({...S,sel_crop:r}),A({..._,sel_crop:r}))}else"province"===l?(P(z),A(V)):"municipality"===l&&P({...S,sel_municipality:null,sel_crop:null})};return(0,l.jsxs)(t.Z,{id:"bacap-cropping-calendar",sx:{pt:{xs:"72px",md:0}},children:[(0,l.jsx)(D.Z,{title:"Agro-Climatic Advisory Portal - MIMAROPA (ACAP-MIMAROPA) Cropping Calendar",ogDescription:v.description,ogImageURL:v.url,ogURL:v.path,canonicalURL:v.path}),(0,l.jsx)(s.Z,{variant:"h4",children:"Cropping Calendar"}),(0,l.jsxs)(t.Z,{sx:{width:"100%",marginTop:"20px"},children:[(0,l.jsx)(t.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,l.jsxs)(c.Z,{value:j,onChange:(e,a)=>{y(a)},"aria-label":"basic tabs example",children:[(0,l.jsx)(n.Z,{label:"MUNICIPAL",...en(0)}),(0,l.jsx)(n.Z,{label:"PROVINCIAL",...en(1)})]})}),(0,l.jsx)(et,{value:j,index:0,children:(0,l.jsx)(R,{optsprovinces:I,optsmunicipalities:B,subcalendar:w,processedCalendar:$,cropList:U,cropStages:H,optscrops:Q,sel_options:S,loading:er,onSelectItemChange:ec})}),(0,l.jsx)(et,{value:j,index:1,children:(0,l.jsx)(F,{optsprovinces:I,subcalendar:O,processedCalendar:ee,cropList:U,cropStages:K,optscrops:Q,sel_options:_,loading:er,onSelectItemChange:ec})})]})]})}},9704:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});var l=r(67294),o=r(61061);function t(){let[e,a]=(0,l.useState)([]),[r,t]=(0,l.useState)(!1),[n,c]=(0,l.useState)("");return(0,l.useEffect)(()=>{(async()=>{var e,r,l;try{t(!0);let r=await (0,o.TQ)();a(null!==(e=null==r?void 0:r.list)&&void 0!==e?e:[]),t(!1),c("")}catch(e){c(null!==(l=null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.data)&&void 0!==l?l:e.message),t(!1),a([])}})()},[]),{cropList:e,loading:r,error:n}}},18752:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});var l=r(67294),o=r(61061);function t(e,a,r){let[t,n]=(0,l.useState)([]),[c,s]=(0,l.useState)([]),[i,d]=(0,l.useState)(!1),[p,u]=(0,l.useState)(""),x=()=>{u(""),n([]),s([])};return(0,l.useEffect)(()=>{let l=async()=>{var l,t,c,i;try{d(!0);let c=await (0,o.ad)(e,a,r);n(null!==(l=null==c?void 0:c.data)&&void 0!==l?l:[]);let i=await (0,o.Fj)(e,r);s(null!==(t=null==i?void 0:i.data)&&void 0!==t?t:[]),d(!1),u("")}catch(e){u(null!==(i=null==e?void 0:null===(c=e.response)||void 0===c?void 0:c.data)&&void 0!==i?i:e.message),d(!1),n([])}};a&&r&&(x(),l())},[e,a,r]),{cropcalendar:t,cropStages:c,loading:i,error:p}}},63867:function(e,a,r){"use strict";r.d(a,{Z:function(){return o}});var l=r(67294);function o(e,a){let[r,o]=(0,l.useState)([]);return(0,l.useEffect)(()=>{var r,l;o(e&&a&&null!==(l=null===(r=a.find(a=>a.label===e))||void 0===r?void 0:r.municipalities)&&void 0!==l?l:[])},[e,a]),r}},13311:function(e,a,r){"use strict";function l(e){if(!e)return"";try{return decodeURIComponent(escape(e))}catch(a){return e.replace(/Ã±/g,"\xf1").replace(/Ã‘/g,"\xd1").replace(/Ã¡/g,"\xe1").replace(/Ã©/g,"\xe9").replace(/Ã³/g,"\xf3").replace(/Ã­/g,"\xed").replace(/Ã¼/g,"\xfc").replace(/Ã/g,"\xed")}}r.d(a,{c:function(){return l}})},96281:function(e,a,r){"use strict";r.d(a,{m:function(){return l}});let l=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return e.map((e,r)=>({id:r,label:e[a]}))}}},function(e){e.O(0,[3153,7023,3745,6541,8848,5837,3338,2888,9774,179],function(){return e(e.s=52979)}),_N_E=e.O()}]);