"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8591],{65328:function(e,n,i){var t=i(85893),r=i(67294),s=i(11163),o=i(18853),l=i(98813);n.Z=function(e){function n(n){let i=(0,o.aC)(),a=(0,s.useRouter)();(0,r.useEffect)(()=>{if(!i.loading&&!i.user){let e=a.pathname.includes("/superadmin")?"/superadmin/login":"/admin/login";a.push(e)}i.user&&(i.user.accountlevel===l.DW.ADMIN&&a.pathname.includes("/superadmin")&&a.push("/unauthorized"),i.user.accountlevel===l.DW.SUPERADMIN&&a.pathname.includes("/admin")&&a.push("/unauthorized"))},[i.user,i.loading,a]);let c=async()=>{try{await i.logOut()}catch(e){}};return(0,t.jsx)(e,{...n,loading:i.loading,user:i.user,onBtnLogoutClick:c})}return n.customLayout=!0,n.adminPage=!0,n}},45773:function(e,n,i){i.d(n,{Z:function(){return F}});var t=i(85893),r=i(60990),s=i(67294),o=i(36795),l=i(14237),a=i(11032),c=i(56912),d=i(37958),x=i(52857),u=i(47407),p=i(7638),m=i(32200),h=i(52311),g=i(88539),j=i(96788),f=i(41664),Z=i.n(f),k=i(11163),y=i(98813),b=i(29943),v=i(3916),C=i(84370),M=i(62967),w=i(14556),S=i(83108),P=i(93535),A=i(53916),D=i(22824),W=i(74972),L=i(93668);let z=[{text:"Get Started",link:"/admin",icon:(0,t.jsx)(M.Z,{})},{text:"ACAP Settings",link:"/admin/weather",icon:(0,t.jsx)(P.Z,{})},{text:"Generate Bulletin",link:"/admin/bulletins/crops",icon:(0,t.jsx)(S.Z,{})},{text:"SMS Management",link:"/admin/sms",icon:(0,t.jsx)(w.Z,{})},{text:"Cropping Calendars",link:"/admin/cropping-calendars",icon:(0,t.jsx)(D.Z,{})},{text:"Crops Management",link:"/admin/crops",icon:(0,t.jsx)(L.Z,{})},{text:"Manage Recommendations",link:"/admin/manage-recommendations",icon:(0,t.jsx)(W.Z,{})}],I=[{text:"Profile",link:"/admin/profile",icon:(0,t.jsx)(A.Z,{})}];var N=i(58505);let B=[{text:"Get Started",link:"/superadmin",icon:(0,t.jsx)(M.Z,{})},{text:"Users",link:"/superadmin/users",icon:(0,t.jsx)(N.Z,{})}],R=[{text:"Profile",link:"/superadmin/profile",icon:(0,t.jsx)(A.Z,{})}];var E=i(41796),H={fontSize:"14px"},T={display:"flex",justifyContent:"space-between"},G={padding:e=>e.spacing(1),"& a":{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},"& .MuiListItemButton-root:hover":{backgroundColor:e=>e.palette.primary.light},"& .Mui-selected":{backgroundColor:e=>"".concat((0,E.Fq)(e.palette.primary.light,.3)," !important")},"& .listitembutton-styled":{py:0,minHeight:48,color:e=>e.palette.primary.dark,borderRadius:e=>e.spacing(1),margin:e=>e.spacing(1),"&:hover, &:focus":{"& .MuiTypography-root":{color:e=>e.palette.primary.main}},"& a":{color:e=>e.palette.primary.dark}},"& .MuiListItemIcon-root":{marginRight:"-8px"}};let _=[{text:"ACAP Website",link:"/",icon:(0,t.jsx)(b.Z,{})},{text:"Logout",link:"#",icon:(0,t.jsx)(v.Z,{})}];function U(e){let{window:n}=e,[i,f]=(0,s.useState)(!1),[b,v]=(0,s.useState)(null),M=(0,k.useRouter)(),{user:w,onBtnLogoutClick:S}=e,P=(0,s.useMemo)(()=>{if(w)return w.accountlevel===y.DW.ADMIN?z:B},[w]),A=(0,s.useMemo)(()=>{if(w)return[...w.accountlevel===y.DW.ADMIN?I:R,..._]},[w]);(0,s.useEffect)(()=>{if(!(null==M?void 0:M.route)||!P||!A)return;let e=[...P,...A].find(e=>e.link===M.route);v(null==e?void 0:e.link)},[e.user.accountlevel,M.route,P,A]);let D=()=>{f(!i)},W=(0,t.jsxs)("div",{children:[(0,t.jsx)(g.Z,{}),(0,t.jsx)(c.Z,{}),(0,t.jsx)(u.Z,{sx:G,disablePadding:!0,children:P.map(e=>(0,t.jsx)(Z(),{href:e.link,passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)(h.Z,{className:"listitembutton-styled",selected:b===e.link,children:[(0,t.jsx)(p.Z,{sx:{color:"inherit"},children:e.icon}),(0,t.jsx)(m.Z,{primaryTypographyProps:{fontSize:14,fontWeight:"medium"},children:e.text})]},e.label)},e.link))}),(0,t.jsx)(c.Z,{}),(0,t.jsx)(u.Z,{sx:G,children:A.map((e,n)=>"Logout"===e.text?(0,t.jsx)(Z(),{href:e.link,passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)(h.Z,{className:"listitembutton-styled",selected:b===e.link,onClick:S,children:[(0,t.jsx)(p.Z,{sx:{color:"inherit"},children:e.icon}),(0,t.jsx)(m.Z,{primary:e.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]})},e.link):(0,t.jsx)(Z(),{href:e.link,passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)(h.Z,{className:"listitembutton-styled",selected:b===e.link,children:[(0,t.jsx)(p.Z,{sx:{color:"inherit"},children:e.icon}),(0,t.jsx)(m.Z,{primaryTypographyProps:{fontSize:14,fontWeight:"medium"},children:e.text})]})},n))})]});return(0,t.jsxs)(r.Z,{sx:{display:"flex"},children:[(0,t.jsx)(l.ZP,{}),(0,t.jsx)(o.Z,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(280,"px)")},ml:{sm:"".concat(280,"px")}},children:(0,t.jsxs)(g.Z,{sx:T,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(x.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:D,sx:{mr:2,display:{sm:"none"}},children:(0,t.jsx)(C.Z,{})}),(0,t.jsx)(j.Z,{variant:"h6",noWrap:!0,component:"div",children:"ACAP Admin"})]}),(0,t.jsxs)(r.Z,{sx:H,children:["Welcome, ",w.email,"!"]})]})}),(0,t.jsxs)(r.Z,{component:"nav",sx:{width:{sm:280},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[(0,t.jsx)(d.ZP,{container:void 0!==n?()=>n().document.body:void 0,variant:"temporary",open:i,onClose:D,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:280}},children:W}),(0,t.jsx)(d.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:280,boxShadow:"0px 0px 20px rgb(1 41 112 / 10%)",color:"#444444",border:"none",backgroundColor:"#fff"}},open:!0,children:W})]}),(0,t.jsxs)(r.Z,{component:"main",sx:{flexGrow:1,padding:{xs:"16px 0 0 0",sm:"24px 24px 24px 24px"},width:{sm:"calc(100% - ".concat(280,"px)")}},children:[(0,t.jsx)(g.Z,{}),(0,t.jsx)(a.Z,{maxWidth:"lg",children:e.children})]})]})}var q=i(85229),F=function(e){return(0,t.jsxs)(r.Z,{sx:{marginTop:e=>e.spacing(4)},children:[e.loading&&(0,t.jsx)(q.Z,{}),!e.loading&&e.user&&e.user.accountlevel===e.accLevel&&(0,t.jsx)(U,{user:e.user,onBtnLogoutClick:e.onBtnLogoutClick,children:e.children})]})}},85229:function(e,n,i){i.d(n,{Z:function(){return c}});var t=i(85893),r=i(60990),s=i(97182),o=i(96788),l={width:"100%",backgroundColor:"#fff",minHeight:"50vh",display:"grid",placeItems:"center"},a={display:"flex",justifyContent:"center",alignItems:"center"},c=function(e){let{sx:n}=e;return(0,t.jsx)(r.Z,{sx:{...l,...n&&{...n}},children:(0,t.jsxs)(r.Z,{sx:a,children:[(0,t.jsx)(o.Z,{variant:"subtitle1",children:"Loading..."}),(0,t.jsx)(s.Z,{size:"32px"})]})})}}}]);