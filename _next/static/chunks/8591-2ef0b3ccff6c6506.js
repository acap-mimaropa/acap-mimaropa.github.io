"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8591],{65328:function(e,n,i){var t=i(85893),r=i(67294),o=i(11163),s=i(18853),l=i(98813);n.Z=function(e){function n(n){let i=(0,s.aC)(),a=(0,o.useRouter)();(0,r.useEffect)(()=>{if(!i.loading&&!i.user){let e=a.pathname.includes("/superadmin")?"/superadmin/login":"/admin/login";a.push(e)}i.user&&(i.user.accountlevel===l.DW.ADMIN&&a.pathname.includes("/superadmin")&&a.push("/unauthorized"),i.user.accountlevel===l.DW.SUPERADMIN&&a.pathname.includes("/admin")&&a.push("/unauthorized"))},[i.user,i.loading,a]);let c=async()=>{try{await i.logOut()}catch(e){}};return(0,t.jsx)(e,{...n,loading:i.loading,user:i.user,onBtnLogoutClick:c})}return n.customLayout=!0,n.adminPage=!0,n}},45773:function(e,n,i){i.d(n,{Z:function(){return _}});var t=i(85893),r=i(67294),o=i(60990),s=i(14237),l=i(11032),a=i(56912),c=i(37958),d=i(52857),u=i(47407),x=i(7638),p=i(32200),m=i(52311),h=i(88539),g=i(96788),f=i(41664),j=i.n(f),Z=i(11163),k=i(98813),y=i(29943),b=i(3916),v=i(84370),w=i(62967),C=i(14556),M=i(83108),S=i(93535),P=i(53916),L=i(22824),D=i(74972),I=i(93668);let W=[{text:"Get Started",link:"/admin",icon:(0,t.jsx)(w.Z,{})},{text:"ACAP Settings",link:"/admin/weather",icon:(0,t.jsx)(S.Z,{})},{text:"Generate Bulletin",link:"/admin/bulletins/crops",icon:(0,t.jsx)(M.Z,{})},{text:"SMS Management",link:"/admin/sms",icon:(0,t.jsx)(C.Z,{})},{text:"Cropping Calendars",link:"/admin/cropping-calendars",icon:(0,t.jsx)(L.Z,{})},{text:"Crops Management",link:"/admin/crops",icon:(0,t.jsx)(I.Z,{})},{text:"Manage Recommendations",link:"/admin/manage-recommendations",icon:(0,t.jsx)(D.Z,{})}],z=[{text:"Profile",link:"/admin/profile",icon:(0,t.jsx)(P.Z,{})}];var A=i(58505);let N=[{text:"Get Started",link:"/superadmin",icon:(0,t.jsx)(w.Z,{})},{text:"Users",link:"/superadmin/users",icon:(0,t.jsx)(A.Z,{})}],B=[{text:"Profile",link:"/superadmin/profile",icon:(0,t.jsx)(P.Z,{})}];var E=i(41796),R={padding:e=>e.spacing(1),width:"100%","& a":{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},"& .MuiListItemButton-root:hover":{backgroundColor:e=>e.palette.primary.light},"& .Mui-selected":{backgroundColor:e=>"".concat((0,E.Fq)(e.palette.primary.light,.3)," !important")},"& .listitembutton-styled":{py:0,minHeight:48,color:e=>e.palette.primary.dark,borderRadius:e=>e.spacing(1),margin:e=>e.spacing(1),"&:hover, &:focus":{"& .MuiTypography-root":{color:e=>e.palette.primary.main}},"& a":{color:e=>e.palette.primary.dark}},"& .MuiListItemIcon-root":{marginRight:"-8px"},"@media (max-width: 600px)":{padding:"2px",width:"100vw"}};let H=[{text:"ACAP Website",link:"/",icon:(0,t.jsx)(y.Z,{})},{text:"Logout",link:"#",icon:(0,t.jsx)(b.Z,{})}];function T(e){let{window:n}=e,[i,f]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),w=(0,Z.useRouter)(),{user:C,onBtnLogoutClick:M}=e,S=(0,r.useMemo)(()=>{if(C)return C.accountlevel===k.DW.ADMIN?W:N},[C]),P=(0,r.useMemo)(()=>{if(C)return[...C.accountlevel===k.DW.ADMIN?z:B,...H]},[C]);(0,r.useEffect)(()=>{if(!(null==w?void 0:w.route)||!S||!P)return;let e=[...S,...P].find(e=>e.link===w.route);b(null==e?void 0:e.link)},[e.user.accountlevel,w.route,S,P]);let L=()=>{f(!i)},D=(0,t.jsxs)("div",{children:[(0,t.jsx)(h.Z,{}),(0,t.jsx)(a.Z,{}),(0,t.jsx)(u.Z,{sx:R,disablePadding:!0,children:S.map(e=>(0,t.jsx)(j(),{href:e.link,passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)(m.Z,{className:"listitembutton-styled",selected:y===e.link,children:[(0,t.jsx)(x.Z,{sx:{color:"inherit"},children:e.icon}),(0,t.jsx)(p.Z,{primaryTypographyProps:{fontSize:14,fontWeight:"medium"},children:e.text})]},e.label)},e.link))}),(0,t.jsx)(a.Z,{}),(0,t.jsx)(u.Z,{sx:R,children:P.map((e,n)=>"Logout"===e.text?(0,t.jsx)(j(),{href:e.link,passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)(m.Z,{className:"listitembutton-styled",selected:y===e.link,onClick:M,children:[(0,t.jsx)(x.Z,{sx:{color:"inherit"},children:e.icon}),(0,t.jsx)(p.Z,{primary:e.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]})},e.link):(0,t.jsx)(j(),{href:e.link,passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)(m.Z,{className:"listitembutton-styled",selected:y===e.link,children:[(0,t.jsx)(x.Z,{sx:{color:"inherit"},children:e.icon}),(0,t.jsx)(p.Z,{primaryTypographyProps:{fontSize:14,fontWeight:"medium"},children:e.text})]})},n))})]});return(0,t.jsxs)(o.Z,{sx:{display:"flex"},children:[(0,t.jsx)(s.ZP,{}),(0,t.jsxs)(o.Z,{component:"nav",sx:{width:{sm:280},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[(0,t.jsx)(c.ZP,{container:void 0!==n?()=>n().document.body:void 0,variant:"temporary",open:i,onClose:L,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:280}},children:D}),(0,t.jsx)(c.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:280,boxShadow:"0px 0px 20px rgb(1 41 112 / 10%)",color:"#444444",border:"none",backgroundColor:"#fff"}},open:!0,children:D})]}),(0,t.jsxs)(o.Z,{component:"main",sx:{flexGrow:1,padding:{xs:"0",sm:"24px 24px 24px 24px"},width:{sm:"calc(100% - ".concat(280,"px)")},height:{xs:"100vh",sm:"auto"},overflowY:{xs:"auto",sm:"visible"},WebkitOverflowScrolling:"touch"},children:[(0,t.jsxs)(o.Z,{sx:{display:{xs:"flex",sm:"none"},position:"sticky",top:0,zIndex:2,bgcolor:"#232c65",color:"#fff",alignItems:"center",height:56,px:1.5},children:[(0,t.jsx)(d.Z,{color:"inherit",edge:"start",onClick:L,sx:{mr:1},"aria-label":"open admin menu",children:(0,t.jsx)(v.Z,{})}),(0,t.jsx)(g.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Admin Menu"})]}),(0,t.jsx)(l.Z,{maxWidth:"lg",children:e.children})]})]})}var G=i(85229),_=function(e){return(0,r.useEffect)(()=>{if("undefined"!=typeof document)return document.body.classList.add("admin-view"),()=>{document.body.classList.remove("admin-view")}},[]),(0,t.jsxs)(o.Z,{sx:{marginTop:e=>e.spacing(4)},children:[e.loading&&(0,t.jsx)(G.Z,{}),!e.loading&&e.user&&e.user.accountlevel===e.accLevel&&(0,t.jsx)(T,{user:e.user,onBtnLogoutClick:e.onBtnLogoutClick,children:e.children})]})}},85229:function(e,n,i){i.d(n,{Z:function(){return c}});var t=i(85893),r=i(60990),o=i(97182),s=i(96788),l={width:"100%",backgroundColor:"#fff",minHeight:"50vh",display:"grid",placeItems:"center"},a={display:"flex",justifyContent:"center",alignItems:"center"},c=function(e){let{sx:n}=e;return(0,t.jsx)(r.Z,{sx:{...l,...n&&{...n}},children:(0,t.jsxs)(r.Z,{sx:a,children:[(0,t.jsx)(s.Z,{variant:"subtitle1",children:"Loading..."}),(0,t.jsx)(o.Z,{size:"32px"})]})})}}}]);