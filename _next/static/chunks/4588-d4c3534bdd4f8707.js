"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4588],{65328:function(e,n,i){var t=i(85893),o=i(67294),l=i(11163),r=i(18853),s=i(98813);n.Z=function(e){function n(n){let i=(0,r.aC)(),a=(0,l.useRouter)();(0,o.useEffect)(()=>{if(!i.loading&&!i.user){let e=a.pathname.includes("/superadmin")?"/superadmin/login":"/admin/login";a.push(e)}i.user&&(i.user.accountlevel===s.DW.ADMIN&&a.pathname.includes("/superadmin")&&a.push("/unauthorized"),i.user.accountlevel===s.DW.SUPERADMIN&&a.pathname.includes("/admin")&&a.push("/unauthorized"))},[i.user,i.loading,a]);let c=async()=>{try{await i.logOut()}catch(e){}};return(0,t.jsx)(e,{...n,loading:i.loading,user:i.user,onBtnLogoutClick:c})}return n.customLayout=!0,n.adminPage=!0,n}},45773:function(e,n,i){i.d(n,{Z:function(){return E}});var t=i(85893),o=i(60990),l=i(67294),r=i(14237),s=i(11032),a=i(56912),c=i(37958),d=i(47407),x=i(7638),u=i(32200),p=i(52311),m=i(88539),h=i(41664),g=i.n(h),f=i(11163),j=i(98813),b=i(29943),Z=i(3916),k=i(62967),y=i(14556),v=i(83108),C=i(93535),S=i(53916),B=i(22824),w=i(74972),M=i(93668);let T=[{text:"Get Started",link:"/admin",icon:(0,t.jsx)(k.Z,{})},{text:"ACAP Settings",link:"/admin/weather",icon:(0,t.jsx)(C.Z,{})},{text:"Generate Bulletin",link:"/admin/bulletins/crops",icon:(0,t.jsx)(v.Z,{})},{text:"SMS Management",link:"/admin/sms",icon:(0,t.jsx)(y.Z,{})},{text:"Cropping Calendars",link:"/admin/cropping-calendars",icon:(0,t.jsx)(B.Z,{})},{text:"Crops Management",link:"/admin/crops",icon:(0,t.jsx)(M.Z,{})},{text:"Manage Recommendations",link:"/admin/manage-recommendations",icon:(0,t.jsx)(w.Z,{})}],W=[{text:"Profile",link:"/admin/profile",icon:(0,t.jsx)(S.Z,{})}];var P=i(58505);let z=[{text:"Get Started",link:"/superadmin",icon:(0,t.jsx)(k.Z,{})},{text:"Users",link:"/superadmin/users",icon:(0,t.jsx)(P.Z,{})}],D=[{text:"Profile",link:"/superadmin/profile",icon:(0,t.jsx)(S.Z,{})}];var A=i(41796),I={padding:e=>e.spacing(1),width:"100%","& a":{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},"& .MuiListItemButton-root:hover":{backgroundColor:e=>e.palette.primary.light},"& .Mui-selected":{backgroundColor:e=>"".concat((0,A.Fq)(e.palette.primary.light,.3)," !important")},"& .listitembutton-styled":{py:0,minHeight:48,color:e=>e.palette.primary.dark,borderRadius:e=>e.spacing(1),margin:e=>e.spacing(1),"&:hover, &:focus":{"& .MuiTypography-root":{color:e=>e.palette.primary.main}},"& a":{color:e=>e.palette.primary.dark}},"& .MuiListItemIcon-root":{marginRight:"-8px"},"@media (max-width: 600px)":{padding:"2px",width:"100vw"}};let L=[{text:"ACAP Website",link:"/",icon:(0,t.jsx)(b.Z,{})},{text:"Logout",link:"#",icon:(0,t.jsx)(Z.Z,{})}];function N(e){let{window:n}=e,[i,h]=(0,l.useState)(!1),[b,Z]=(0,l.useState)(null),k=(0,f.useRouter)(),{user:y,onBtnLogoutClick:v}=e,C=(0,l.useMemo)(()=>{if(y)return y.accountlevel===j.DW.ADMIN?T:z},[y]),S=(0,l.useMemo)(()=>{if(y)return[...y.accountlevel===j.DW.ADMIN?W:D,...L]},[y]);(0,l.useEffect)(()=>{if(!(null==k?void 0:k.route)||!C||!S)return;let e=[...C,...S].find(e=>e.link===k.route);Z(null==e?void 0:e.link)},[e.user.accountlevel,k.route,C,S]);let B=(0,t.jsxs)("div",{children:[(0,t.jsx)(m.Z,{}),(0,t.jsx)(a.Z,{}),(0,t.jsx)(d.Z,{sx:I,disablePadding:!0,children:C.map(e=>(0,t.jsx)(g(),{href:e.link,passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)(p.Z,{className:"listitembutton-styled",selected:b===e.link,children:[(0,t.jsx)(x.Z,{sx:{color:"inherit"},children:e.icon}),(0,t.jsx)(u.Z,{primaryTypographyProps:{fontSize:14,fontWeight:"medium"},children:e.text})]},e.label)},e.link))}),(0,t.jsx)(a.Z,{}),(0,t.jsx)(d.Z,{sx:I,children:S.map((e,n)=>"Logout"===e.text?(0,t.jsx)(g(),{href:e.link,passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)(p.Z,{className:"listitembutton-styled",selected:b===e.link,onClick:v,children:[(0,t.jsx)(x.Z,{sx:{color:"inherit"},children:e.icon}),(0,t.jsx)(u.Z,{primary:e.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]})},e.link):(0,t.jsx)(g(),{href:e.link,passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)(p.Z,{className:"listitembutton-styled",selected:b===e.link,children:[(0,t.jsx)(x.Z,{sx:{color:"inherit"},children:e.icon}),(0,t.jsx)(u.Z,{primaryTypographyProps:{fontSize:14,fontWeight:"medium"},children:e.text})]})},n))})]});return(0,t.jsxs)(o.Z,{sx:{display:"flex"},children:[(0,t.jsx)(r.ZP,{}),(0,t.jsxs)(o.Z,{component:"nav",sx:{width:{sm:280},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[(0,t.jsx)(c.ZP,{container:void 0!==n?()=>n().document.body:void 0,variant:"temporary",open:i,onClose:()=>{h(!i)},ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:280}},children:B}),(0,t.jsx)(c.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:280,boxShadow:"0px 0px 20px rgb(1 41 112 / 10%)",color:"#444444",border:"none",backgroundColor:"#fff"}},open:!0,children:B})]}),(0,t.jsx)(o.Z,{component:"main",sx:{flexGrow:1,padding:{xs:"16px 0 0 0",sm:"24px 24px 24px 24px"},width:{sm:"calc(100% - ".concat(280,"px)")}},children:(0,t.jsx)(s.Z,{maxWidth:"lg",children:e.children})})]})}var H=i(85229),E=function(e){return(0,t.jsxs)(o.Z,{sx:{marginTop:e=>e.spacing(4)},children:[e.loading&&(0,t.jsx)(H.Z,{}),!e.loading&&e.user&&e.user.accountlevel===e.accLevel&&(0,t.jsx)(N,{user:e.user,onBtnLogoutClick:e.onBtnLogoutClick,children:e.children})]})}},85229:function(e,n,i){i.d(n,{Z:function(){return c}});var t=i(85893),o=i(60990),l=i(97182),r=i(96788),s={width:"100%",backgroundColor:"#fff",minHeight:"50vh",display:"grid",placeItems:"center"},a={display:"flex",justifyContent:"center",alignItems:"center"},c=function(e){let{sx:n}=e;return(0,t.jsx)(o.Z,{sx:{...s,...n&&{...n}},children:(0,t.jsxs)(o.Z,{sx:a,children:[(0,t.jsx)(r.Z,{variant:"subtitle1",children:"Loading..."}),(0,t.jsx)(l.Z,{size:"32px"})]})})}},16729:function(e,n,i){i.d(n,{Z:function(){return f}});var t=i(85893),o=i(67294),l=i(45697),r=i.n(l),s=i(51015),a=i(2782),c=i(97182),d=i(33453),x=i(96727),u=i(92365),p=i(40110),m=i(52857),h={button:{color:"#FFFFFF",textTransform:"capitalize",fontSize:"14px",fontStyle:"normal",fontWeight:"normal",height:{xs:"40px",sm:"48px"},"& .text":{display:{xs:"block",sm:"none"}},"& .shortText":{display:{xs:"inline-block",sm:"none"},fontSize:"24px"}},icon:{display:{xs:"block",sm:"none"}},dialogContent:{"& .error":{fontSize:"12px",color:"red"}},dialogActions:{"& button":{minWidth:"100px"}},closeButton:{position:"absolute",right:"8px",top:"8px",color:e=>e.palette.grey[500]}};function g(e){let[n,i]=o.useState({open:null}),{loading:l=!1,isOpen:r=!1,showButtons:g=!0,maxWidth:f="sm",IconSVG:j=null,modalButtonStyles:b={},modalExtraHandlerCB:Z=null,modalCancelHandlerCB:k=null,modalConfirmHandlerCB:y=null,modalOpenHandlerCB:v=null,isDisabled:C=!1}=e,{openButtonText:S="Click",title:B="Window Title",extraBtnText:w="",cancelBtnText:M="Cancel",confirmBtnText:T="Ok",contentText:W="",error:P="",colorTheme:z="primary"}=e;(0,o.useEffect)(()=>{i(e=>({...e,open:r}))},[r]);let D=()=>{i({...n,open:!1}),k&&k()};return(0,t.jsxs)("div",{children:[S&&(0,t.jsxs)(s.Z,{disabled:C,disableElevation:!0,variant:"contained",color:z,onClick:()=>{i({...n,open:!0}),v&&v()},sx:{...h.button,...b},children:[j&&(0,t.jsx)(j,{sx:h.icon}),S]}),(0,t.jsxs)(d.Z,{maxWidth:f,fullWidth:!0,open:n.open||!1,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,t.jsxs)(u.Z,{children:[(0,t.jsx)("span",{children:B}),(0,t.jsx)(m.Z,{"aria-label":"close",sx:h.closeButton,onClick:D,disabled:l,children:(0,t.jsx)(a.Z,{})})]}),(0,t.jsxs)(p.Z,{sx:h.dialogContent,children:[""!==W&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:W}),(0,t.jsx)("div",{className:"error",children:P})]}),e.children]}),g&&(0,t.jsxs)(x.Z,{sx:h.dialogActions,children:[""!==w&&(0,t.jsx)(s.Z,{onClick:Z||D,disabled:l,children:w}),(0,t.jsx)(s.Z,{onClick:k||D,disabled:l,children:M}),(0,t.jsxs)(s.Z,{variant:"contained",disabled:l,onClick:y||D,children:[(0,t.jsx)("span",{style:{display:l?"none":"block"},children:T}),(0,t.jsx)(c.Z,{size:24,color:"secondary",sx:{display:l?"block":"none"}})]})]})]})]})}g.propTypes={loading:r().bool,isOpen:r().bool,showButtons:r().bool,maxWidth:r().string,IconSVG:r().elementType,modalButtonStyles:r().object,modalCancelHandlerCB:r().func,modalConfirmHandlerCB:r().func,modalOpenHandlerCB:r().func,modalExtraHandlerCB:r().func,openButtonText:r().string,cancelBtnText:r().string,confirmBtnText:r().string,extraBtnText:r().string,title:r().string,contentText:r().string,children:r().node,error:r().string,isDisabled:r().bool,colorTheme:r().string};var f=g}}]);