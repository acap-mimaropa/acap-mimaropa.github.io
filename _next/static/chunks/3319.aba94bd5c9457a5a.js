"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3319],{32209:function(e,n,i){var a=i(85893),l=i(96788);let o=(0,i(77527).ZP)(e=>(0,a.jsx)(l.Z,{component:"p",variant:"caption",...e}))(e=>{let{theme:n}=e;return{color:n.palette.text.secondary,"& a":{color:n.palette.green.dark,textDecoration:"none"},"& a:visited":{color:n.palette.green.dark},"& a:hover, span:hover":{textDecoration:"underline"}}});n.Z=o},13319:function(e,n,i){i.r(n),i.d(n,{default:function(){return P}});var a=i(85893),l=i(67294),o=i(9473),t=i(41664),r=i.n(t),s=i(25675),d=i.n(s),c=i(60990),u=i(60762),p=i(97182),x=i(96788),h=i(92365),m=i(40110),g=i(69858),v=i(52228),f=i(51336),y=i(71604),b={width:{xs:"60px",sm:"65px"},minWidth:{xs:"60px",sm:"65px"},maxWidth:{xs:"75px",sm:"none"},minHeight:"55px",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"rgba(44, 62, 80, 0.85)",color:"white",padding:e=>e.spacing(1),margin:"2px",borderRadius:"5px","& div":{textAlign:"center",color:"white"},"& .temp-label":{display:"flex",justifyContent:"space-between",fontSize:{xs:"8px",sm:"9px"},color:"white"},"& .daily-date":{fontSize:{xs:"10px",sm:"9px"},color:"white"}},j=function(e){let{dailyweather:n}=e;return(0,a.jsxs)(c.Z,{sx:b,children:[(0,a.jsx)("div",{className:"daily-date",children:n.day}),(0,a.jsx)("div",{children:(0,a.jsx)(d(),{unoptimized:!0,src:n.icon,height:25,width:25,loader:y.imageLoader,alt:n.day})}),(0,a.jsxs)("div",{className:"temp-label",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(g.Z,{sx:{fontSize:"12px",color:"#FF6B35"}}),(0,a.jsxs)("strong",{children:[n.temp_mean,"\xb0"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f.Z,{sx:{fontSize:"12px",color:"#4FC3F7"}}),n.wind_speed]})]})]})},w=i(32209),S={card:{backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",minWidth:{xs:"0",sm:"380px"},width:{xs:"100%",sm:"auto"},maxWidth:{xs:"100%",sm:"380px"},marginTop:e=>e.spacing(3),padding:e=>e.spacing(2),borderRadius:e=>e.spacing(1),"& h5":{marginBottom:e=>e.spacing(2),fontSize:"18px"},"& h6":{fontSize:"16px"},"& .span-source":{"& a":{color:e=>e.palette.primary.main,textDecoration:"none"},"& a:hover":{color:e=>e.palette.third.main}}},cardInfo:{backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",width:"100%",maxWidth:{xs:"100%",sm:"490px"},padding:e=>e.spacing(1),marginTop:e=>e.spacing(3),fontSize:{xs:"11px",sm:"14px"},"& td":{padding:{xs:0,sm:"1px"}}},weathertoday:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",columnGap:"12px",flexDirection:"row",flexWrap:"wrap","& .icon-temp":{display:"flex",alignItems:"center",gap:"10px"},"& .temperature":{fontSize:"30px",fontWeight:"bold"},"& .weather-details":{paddingTop:0,marginLeft:0,fontSize:"10px",textAlign:"left",marginLeft:"auto"}},info:{minWidth:"285px",minHeight:"90px",padding:e=>e.spacing(2),marginTop:e=>e.spacing(2),textAlign:"center","& p":{color:"red",fontSize:"12px"}},forecastScroller:{width:"100%",overflow:"visible",paddingBottom:e=>e.spacing(1)},forecastRow:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(62px, 1fr))",gap:e=>e.spacing(.75),width:"100%"}},C=i(80934),M=i(13311),Z=function(e){var n,i;let{sel_options:o,weather:t,forecast:s,record:b,isSmallScreen:Z=!1,onLocationChange:A}=e,L=["Barangay","Municipality","Province","Association"],[z,_]=(0,l.useState)(!1),[I,R]=(0,l.useState)({province:null,municipality:null}),[F,O]=(0,l.useState)(0),[N,B]=(0,l.useState)(!1),[P,W]=(0,l.useState)(0),D=()=>_(!0),T=()=>_(!1);(0,l.useEffect)(()=>{var e,n,i,a;R({province:(null==o?void 0:null===(e=o.sel_province)||void 0===e?void 0:e.label)?(0,M.c)(null==o?void 0:null===(n=o.sel_province)||void 0===n?void 0:n.label):null,municipality:(null==o?void 0:null===(i=o.sel_municipality)||void 0===i?void 0:i.label)?(0,M.c)(null==o?void 0:null===(a=o.sel_municipality)||void 0===a?void 0:a.label):null})},[null==o?void 0:null===(n=o.sel_province)||void 0===n?void 0:n.label,null==o?void 0:null===(i=o.sel_municipality)||void 0===i?void 0:i.label]);let k=e=>{R(e),null==A||A(e)};return Z?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(c.Z,{sx:{position:"fixed",left:0,right:0,bottom:0,zIndex:9998,backgroundColor:"#fff",borderTopLeftRadius:16,borderTopRightRadius:16,boxShadow:"0 -8px 24px rgba(0,0,0,0.25)",overflow:"hidden",height:z?"85vh":"56px",transform:z?"translateY(".concat(Math.max(0,F),"px)"):"translateY(calc(100% - 56px + ".concat(Math.max(0,F),"px))"),transition:N?"none":"transform 0.25s ease",display:"flex",flexDirection:"column"},onClick:()=>{z||D()},onTouchStart:e=>{var n;let i=null===(n=e.touches)||void 0===n?void 0:n[0];i&&(B(!0),W(i.clientY),O(0))},onTouchMove:e=>{var n;if(!N)return;let i=null===(n=e.touches)||void 0===n?void 0:n[0];i&&O(i.clientY-P)},onTouchEnd:()=>{N&&(z&&F>60?T():!z&&F<-60&&D(),B(!1),O(0))},children:[(0,a.jsx)(c.Z,{sx:{width:48,height:5,borderRadius:3,bgcolor:"#c7c7c7",alignSelf:"center",marginTop:1,marginBottom:1}}),(0,a.jsx)(h.Z,{sx:{pb:1,pt:0},children:(0,a.jsx)(x.Z,{variant:"h6",sx:{fontWeight:600,fontSize:"18px",textAlign:"center"},children:"Today's Weather & 10-Day Forecast"})}),(0,a.jsx)(m.Z,{sx:{px:{xs:2,sm:3},pb:2,overflowY:"auto",pointerEvents:z?"auto":"none"},children:(0,a.jsxs)(c.Z,{sx:{pb:1},children:[(0,a.jsxs)(u.Z,{variant:"outlined",sx:{...S.card,color:"white","& h5, & h6, & p, & div, & td, & b":{color:"white"},"& .temperature":{color:"white"},"& .weather-details":{color:"white"}},style:{backgroundColor:"rgba(44, 62, 80, 0.85)"},children:[(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(x.Z,{variant:"h5",children:"MIMAROPA Region Weather Today"}),(0,a.jsx)(C.Z,{value:I,onChange:k})]}),o.loading&&(0,a.jsx)(c.Z,{sx:S.info,style:{minWidth:Z?window.innerWidth-80:"285px"},children:(0,a.jsx)(p.Z,{size:24,color:"secondary"})}),""===o.error&&!o.loading&&null!==o.sel_municipality&&""!==t.description&&(0,a.jsxs)(c.Z,{sx:S.weathertoday,children:[(0,a.jsxs)("div",{className:"icon-temp",children:[(0,a.jsx)(d(),{unoptimized:!0,src:t.icon,height:70,width:70,loader:y.imageLoader,alt:t.description}),(0,a.jsxs)("div",{className:"temperature",children:[t.temp,"\xb0C"]})]}),(0,a.jsxs)("div",{className:"weather-details",children:[(0,a.jsxs)("div",{children:["Date today: ",t.datenow]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,a.jsx)(g.Z,{sx:{fontSize:"14px",color:"#FF6B35"}}),"Temp: ",t.temp,"\xb0C"]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,a.jsx)(v.Z,{sx:{fontSize:"14px",color:"#4FC3F7"}}),"Humidity: ",t.humidity]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,a.jsx)(f.Z,{sx:{fontSize:"14px",color:"#4FC3F7"}}),"Wind: ",t.wind]}),(0,a.jsx)("div",{children:t.description?"".concat(t.description.charAt(0).toUpperCase()).concat(t.description.slice(1)):""})]})]}),""===o.error&&!o.loading&&null===o.sel_municipality&&(0,a.jsx)(c.Z,{sx:S.info,style:{minWidth:Z?window.innerWidth-80:"285px"},children:(0,a.jsx)("p",{children:"\xa0"})}),""!==o.error&&(0,a.jsx)(c.Z,{sx:S.info,style:{minWidth:Z?window.innerWidth-80:"285px"},children:(0,a.jsx)("p",{children:o.error})})]}),s.length>0&&(0,a.jsxs)(u.Z,{variant:"outlined",sx:S.card,style:{marginTop:"10px",paddingBottom:"2px"},children:[(0,a.jsx)(x.Z,{variant:"h6",children:"10-Day Rainfall Forecast"}),(0,a.jsxs)(w.Z,{sx:{marginBottom:"16px",fontSize:"11px"},children:["View the full 10-Day Weather Forecast"," ",(0,a.jsx)(r(),{href:"/weather-services",children:"here"}),"."]}),(0,a.jsx)(c.Z,{sx:S.forecastScroller,children:(0,a.jsx)(c.Z,{sx:S.forecastRow,children:s.map((e,n)=>(0,a.jsx)(c.Z,{children:(0,a.jsx)(j,{dailyweather:e})},"daily-".concat(n)))})}),(0,a.jsxs)(x.Z,{variant:"caption",style:{fontSize:"10px"},className:"span-source",children:["source:"," ",(0,a.jsx)(r(),{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/10-day-climate-forecast",children:"PAGASA's 10-Day Climate Forecast"})]})]}),null!==b&&(0,a.jsx)(u.Z,{variant:"outlined",sx:S.cardInfo,children:(0,a.jsx)("table",{children:(0,a.jsx)("tbody",{children:L.map((e,n)=>["lat","lon"].includes(e)?(0,a.jsx)("tr",{},n):(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("b",{children:[e,":"]})}),(0,a.jsx)("td",{children:b[e.toLowerCase()]?(0,M.c)(b[e.toLowerCase()]):""})]},n))})})})]})})]})}):(0,a.jsxs)(c.Z,{sx:{position:"absolute",top:e=>e.constants.navbar.outerHeight-35,right:"24px",marginLeft:"24px",zIndex:400,maxWidth:420},className:"mui-fixed",children:[(0,a.jsxs)(u.Z,{variant:"outlined",sx:{...S.card,color:"white","& h5, & h6, & p, & div, & td, & b":{color:"white"},"& .temperature":{color:"white"},"& .weather-details":{color:"white"}},style:{backgroundColor:"rgba(44, 62, 80, 0.85)"},children:[(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(x.Z,{variant:"h5",children:"MIMAROPA Region Weather Today"}),(0,a.jsx)(C.Z,{value:I,onChange:k})]}),o.loading&&(0,a.jsx)(c.Z,{sx:S.info,style:{minWidth:Z?window.innerWidth-80:"285px"},children:(0,a.jsx)(p.Z,{size:24,color:"secondary"})}),""===o.error&&!o.loading&&null!==o.sel_municipality&&""!==t.description&&(0,a.jsxs)(c.Z,{sx:S.weathertoday,children:[(0,a.jsxs)("div",{className:"icon-temp",children:[(0,a.jsx)(d(),{unoptimized:!0,src:t.icon,height:70,width:70,loader:y.imageLoader,alt:t.description}),(0,a.jsxs)("div",{className:"temperature",children:[t.temp,"\xb0C"]})]}),(0,a.jsxs)("div",{className:"weather-details",children:[(0,a.jsxs)("div",{children:["Date today: ",t.datenow]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,a.jsx)(g.Z,{sx:{fontSize:"14px",color:"#FF6B35"}}),"Temp: ",t.temp,"\xb0C"]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,a.jsx)(v.Z,{sx:{fontSize:"14px",color:"#4FC3F7"}}),"Humidity: ",t.humidity]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,a.jsx)(f.Z,{sx:{fontSize:"14px",color:"#4FC3F7"}}),"Wind: ",t.wind]}),(0,a.jsx)("div",{children:t.description?"".concat(t.description.charAt(0).toUpperCase()).concat(t.description.slice(1)):""})]})]}),""===o.error&&!o.loading&&null===o.sel_municipality&&(0,a.jsx)(c.Z,{sx:S.info,style:{minWidth:Z?window.innerWidth-80:"285px"},children:(0,a.jsx)("p",{children:"\xa0"})}),""!==o.error&&(0,a.jsx)(c.Z,{sx:S.info,style:{minWidth:Z?window.innerWidth-80:"285px"},children:(0,a.jsx)("p",{children:o.error})})]}),s.length>0&&(0,a.jsxs)(u.Z,{variant:"outlined",sx:S.card,style:{marginTop:"10px",paddingBottom:"2px"},children:[(0,a.jsx)(x.Z,{variant:"h6",children:"10-Day Rainfall Forecast"}),(0,a.jsxs)(w.Z,{sx:{marginBottom:"16px",fontSize:"11px"},children:["View the full 10-Day Weather Forecast"," ",(0,a.jsx)(r(),{href:"/weather-services",children:"here"}),"."]}),(0,a.jsx)(c.Z,{sx:S.forecastScroller,children:(0,a.jsx)(c.Z,{sx:S.forecastRow,children:s.map((e,n)=>(0,a.jsx)(c.Z,{children:(0,a.jsx)(j,{dailyweather:e})},"daily-".concat(n)))})}),(0,a.jsxs)(x.Z,{variant:"caption",style:{fontSize:"10px"},className:"span-source",children:["source:"," ",(0,a.jsx)(r(),{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/10-day-climate-forecast",children:"PAGASA's 10-Day Climate Forecast"})]})]}),Z&&null!==b&&(0,a.jsx)(u.Z,{variant:"outlined",sx:S.cardInfo,children:(0,a.jsx)("table",{children:(0,a.jsx)("tbody",{children:L.map((e,n)=>["lat","lon"].includes(e)?(0,a.jsx)("tr",{},n):(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("b",{children:[e,":"]})}),(0,a.jsx)("td",{children:b[e.toLowerCase()]})]},n))})})})]})};let A={Marinduque:["Boac","Buenavista","Gasan","Mogpog","Santa Cruz","Torrijos"],"Occidental Mindoro":["Abra de Ilog","Calintaan","Looc","Lubang","Magsaysay","Mamburao","Paluan","Rizal","Sablayan","San Jose","Santa Cruz"],"Oriental Mindoro":["Baco","Bongabong","Bulalacao","City of Calapan","Gloria","Mansalay","Naujan","Pinamalayan","Pola","Puerto Galera","Roxas","San Teodoro","Socorro","Victoria"],Palawan:["Aborlan","Agutaya","Araceli","Balabac","Bataraza","Brooke's Point","Busuanga","Cagayancillo","Coron","Culion","Cuyo","Dumaran","El Nido","Kalayaan","Linapacan","Magsaysay","Narra","Puerto Princesa City","City of Puerto Princesa","Quezon","Rizal","Roxas","San Vicente","Sofronio Espa\xf1ola","Taytay"],Romblon:["Alcantara","Banton","Cajidiocan","Calatrava","Concepcion","Corcuera","Ferrol","Looc","Magdiwang","Odiongan","Romblon","San Agustin","San Andres","San Fernando","San Jose","Santa Fe","Santa Maria"]};var L=i(819),z=i(91832),_=i(61984),I=i(25517),R=i(26562);let F={sel_municipality:null,sel_province:"",loading:!0,error:""},O={icon:"https://openweathermap.org/img/wn/10d@2x.png",temp:"00",pressure:"0000 hPa",humidity:"0%",wind:"00 meter/sec"};function N(e){return Math.round((e+Number.EPSILON)*100)/100}function B(e){return e?String(e).split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "):""}var P=function(e){let{record:n,isSmallScreen:i,onSelectMunicipality:t}=e,[r,s]=(0,l.useState)(F),[d,c]=(0,l.useState)(O),[u,p]=(0,l.useState)([]),[x,h]=(0,l.useState)(!1),m=(0,o.I0)(),{ids:g,entities:v,municipalities:f,province:y}=(0,o.v9)(e=>e.provinces),{municipality:b}=(0,o.v9)(e=>e.municipalities),{ids:j,entities:w,status:S}=(0,o.v9)(e=>e.tendayweather);(0,l.useEffect)(()=>{m((0,L.QA)(null))},[m]),(0,l.useEffect)(()=>{if(!(null==g?void 0:g.length))return;let e=Object.values(v||{});if(!e.length)return;let n=e.find(e=>(null==e?void 0:e.label)==="Marinduque")||e.find(e=>(null==e?void 0:e.label)==="Marinduque")||e[0];m((0,z.Wn)(n)),m((0,_.R)(n.label)).unwrap().then(()=>h(!0)).catch(()=>h(!0))},[m,g,v]),(0,l.useEffect)(()=>{if(!(null==j?void 0:j.length)||S!==I.G.FULLFILLED||!x||!y)return;let e=y.label,n=(null==f?void 0:f[e])||[];m((0,L.X4)(n));let i=n.find(e=>(null==e?void 0:e.label)==="Boac")||n.find(e=>(null==e?void 0:e.label)==="Boac")||n[0]||null,a=b||i;m((0,L.QA)(a))},[m,j,S,x,y,f,b]),(0,l.useEffect)(()=>{null!==b&&x&&y&&s(e=>({...e,sel_province:y,sel_municipality:b}))},[b,y,x]),(0,l.useEffect)(()=>{if(S===I.G.FULLFILLED&&x&&(null==r?void 0:r.sel_municipality)&&(null==r?void 0:r.sel_province)&&!(u.length>0))try{var e;null==t||t(r.sel_municipality.label,r.sel_province.label);let n=function(e){var n;let{tendayEntities:i,provinceLabel:a,municipalityLabel:l}=e;if(!i||!a||!l)return null;let o=Object.values(i).filter(Boolean),t=o.find(e=>{var n;return((null==e?void 0:e.province)===a||(null==e?void 0:null===(n=e.province)||void 0===n?void 0:n.label)===a)&&(null==e?void 0:e.municipality)===l&&"string"==typeof(null==e?void 0:e.data)});if(null==t?void 0:t.data)try{let e=JSON.parse(t.data);if(Array.isArray(e))return e}catch(e){return null}let r=o.find(e=>(null==e?void 0:e.municipality)===l&&"string"==typeof(null==e?void 0:e.data));if((null==r?void 0:r.data)&&function(e){if(!e)return null;for(let[n,i]of Object.entries(A))if(i.includes(e))return n;return null}(l)===a)try{let e=JSON.parse(r.data);if(Array.isArray(e))return e}catch(e){return null}let s=o.find(e=>(null==e?void 0:e.province)===a||(null==e?void 0:e.label)===a||(null==e?void 0:e.id)===a||(null==e?void 0:e.name)===a)||null,d=null==s?void 0:null===(n=s.municipalities)||void 0===n?void 0:n[l];return Array.isArray(d)?d:null}({tendayEntities:w,provinceLabel:r.sel_province.label,municipalityLabel:r.sel_municipality.label});if(!n||!n.length){s(e=>({...e,loading:!1,error:"No 10-day data found for ".concat(r.sel_municipality.label,", ").concat(r.sel_province.label)}));return}let i=n.map(e=>{var n,i,a,l,o,t,r,s;return{day_format:e.day_format||e.dayFormat||e.day||"",tmean:null!==(l=null!==(a=null!==(i=null!==(n=e.tmean)&&void 0!==n?n:e.temp_mean)&&void 0!==i?i:e.tempMean)&&void 0!==a?a:e.tavg)&&void 0!==l?l:0,wspeed:null!==(r=null!==(t=null!==(o=e.wspeed)&&void 0!==o?o:e.wind_speed)&&void 0!==t?t:e.windSpeed)&&void 0!==r?r:0,humidity:null!==(s=e.humidity)&&void 0!==s?s:0,rainfall:e.rainfall||e.rain||"",cover:e.cover||e.cloud_cover||e.cloudCover||""}}),a=new Date().toDateString(),l=a.substring(0,a.length-5),o=i.find(e=>e.day_format===l)||i[0],d={icon:(null===R.Sx||void 0===R.Sx?void 0:null===(e=R.Sx.rainfall)||void 0===e?void 0:e[o.rainfall])!==void 0?"images/icons/weather/".concat(R.Sx.rainfall[o.rainfall]):"images/icons/weather/blank_weather.png",temp:Math.round(o.tmean),precipitation:null,humidity:"".concat(N(o.humidity),"%"),datenow:a,wind:"".concat(N(o.wspeed)," mps"),description:"".concat(B(o.rainfall),", ").concat(B(o.cover))},u=i.map(e=>{var n;let i=e.day_format?new Date("".concat(e.day_format,", ").concat(new Date().getFullYear())):new Date;return{day:e.day_format,wind_speed:N(e.wspeed),temp_mean:N(e.tmean),icon:e.rainfall&&(null===R.Sx||void 0===R.Sx?void 0:null===(n=R.Sx.rainfall)||void 0===n?void 0:n[e.rainfall])?"images/icons/weather/".concat(R.Sx.rainfall[e.rainfall]):"images/icons/weather/blank_weather.png",date:i.toLocaleDateString("en-US"),description:""}});c(d),p(u),s(e=>({...e,loading:!1,error:""}))}catch(e){s(n=>({...n,loading:!1,error:(null==e?void 0:e.message)||"Failed to parse 10-day data"}))}},[S,w,u.length,null==r?void 0:r.sel_municipality,null==r?void 0:r.sel_province,x,t]);let C=(0,l.useCallback)(async(e,n)=>{if(!(null==n?void 0:n.label))return;let i=((null==f?void 0:f[n.label])||[]).find(n=>n.label===e);i&&(p([]),s(e=>({...e,sel_municipality:i,sel_province:n,loading:!0,error:""})),m((0,_.R)(n.label)))},[f,m]),M=async(e,n)=>{let{label:i,from:a}=n||{};if(i)switch(a){case"province":p([]),m((0,z.Wn)(n)),m((0,_.R)(i)),m((0,L.X4)([]));break;case"municipality":if(m((0,L.QA)({id:n.id,label:n.label,iscalendar:n.iscalendar,province:null==n?void 0:n.province})),void 0===n.id){s(e=>({...e,sel_municipality:null,loading:!1})),c(O),p([]),null==t||t(null,null);return}C(n.label,(null==n?void 0:n.province)||y)}else switch(a){case"province":m((0,z.jg)()),m((0,L.X4)([]));break;case"municipality":m((0,L.QA)(null))}};return(0,a.jsx)(Z,{sel_options:r,weather:d,forecast:u,record:n,isSmallScreen:i,onSelectItemChange:M,onLocationChange:e=>{let n=String((null==e?void 0:e.province)||"").trim(),i=String((null==e?void 0:e.municipality)||"").trim();if(!n){M(null,{from:"province"});return}let a=Object.values(v||{}).find(e=>{var i;return(null==e?void 0:null===(i=e.label)||void 0===i?void 0:i.toLowerCase())===n.toLowerCase()});if(a&&a.label!==(null==y?void 0:y.label)&&M(null,{...a,from:"province"}),!i){M(null,{from:"municipality"});return}let l=a||y;if(!(null==l?void 0:l.label))return;let o=((null==f?void 0:f[l.label])||[]).find(e=>{var n;return(null==e?void 0:null===(n=e.label)||void 0===n?void 0:n.toLowerCase())===i.toLowerCase()});o&&o.label!==(null==b?void 0:b.label)?M(null,{...o,from:"municipality"}):o||M(null,{from:"municipality"})}})}},80934:function(e,n,i){i.d(n,{Z:function(){return u}});var a=i(85893),l=i(67294),o=i(60990),t=i(25837),r=i(26541),s=i(96788),d=i(97416),c=JSON.parse('{"up":[{"name":"Marinduque","municipalities":["Boac","Buenavista","Gasan","Mogpog","Santa Cruz","Torrijos"]},{"name":"Occidental Mindoro","municipalities":["Abra de Ilog","Calintaan","Looc","Lubang","Magsaysay","Mamburao","Paluan","Rizal","Sablayan","San Jose","Santa Cruz"]},{"name":"Oriental Mindoro","municipalities":["Baco","Bongabong","Bulalacao","City of Calapan","Gloria","Mansalay","Naujan","Pinamalayan","Pola","Puerto Galera","Roxas","San Teodoro","Socorro","Victoria"]},{"name":"Palawan","municipalities":["Aborlan","Agutaya","Araceli","Balabac","Bataraza","Brooke\'s Point","Busuanga","Cagayancillo","Coron","Culion","Cuyo","Dumaran","El Nido","Kalayaan","Linapacan","Magsaysay","Narra","Puerto Princesa City","Quezon","Rizal","Roxas","San Vicente","Sofronio Espa\xf1ola","Taytay"]},{"name":"Romblon","municipalities":["Alcantara","Banton","Cajidiocan","Calatrava","Concepcion","Corcuera","Ferrol","Looc","Magdiwang","Odiongan","Romblon","San Agustin","San Andres","San Fernando","San Jose","Santa Fe","Santa Maria"]}]}');function u(e){let{onLocationChange:n,onChange:i,value:u}=e,[p,x]=(0,l.useState)((null==u?void 0:u.province)||null),[h,m]=(0,l.useState)((null==u?void 0:u.municipality)||null),[g,v]=(0,l.useState)((null==u?void 0:u.province)||""),[f,y]=(0,l.useState)((null==u?void 0:u.municipality)||""),[b,j]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=!0;return(0,d.$m)().then(n=>{e&&(null==n?void 0:n.data)&&j(n.data)}).catch(e=>{console.error("Failed to fetch provinces:",e)}),()=>{e=!1}},[]),(0,l.useEffect)(()=>{x((null==u?void 0:u.province)||null),m((null==u?void 0:u.municipality)||null),v((null==u?void 0:u.province)||""),y((null==u?void 0:u.municipality)||"")},[null==u?void 0:u.province,null==u?void 0:u.municipality]);let w=(0,l.useMemo)(()=>b?b.map(e=>e.label):(c.up||[]).map(e=>e.name),[b]),S=(0,l.useMemo)(()=>{if(!p)return[];if(b){let e=b.find(e=>e.label.toLowerCase()===String(p).toLowerCase());return e?e.municipalities.map(e=>e.label):[]}let e=(c.up||[]).find(e=>e.name.toLowerCase()===String(p).toLowerCase());return e?e.municipalities:[]},[p,b]);return(0,a.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",gap:.5,mb:1},children:[(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(s.Z,{variant:"body2",sx:{mb:.5,fontSize:"12px",fontWeight:500},children:"Province"}),(0,a.jsx)(t.Z,{freeSolo:!0,options:w,value:p,inputValue:g,onChange:(e,a)=>{x(a||null),m(null),y("");let l={province:a||null,municipality:null};n&&n(l),i&&i(l)},onInputChange:(e,n)=>v(n),slotProps:{popper:{sx:{zIndex:1e4}}},sx:{width:"100%","& .MuiOutlinedInput-root":{backgroundColor:"rgba(255, 167, 38, 0.3)",color:"white","&:hover":{backgroundColor:"rgba(255, 167, 38, 0.4)"},"&.Mui-focused":{backgroundColor:"rgba(255, 167, 38, 0.35)"}},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 167, 38, 0.5)"},"& .MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 167, 38, 0.7)"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#FFA726"}},renderInput:e=>(0,a.jsx)(r.Z,{...e,size:"small",placeholder:"Select or type province",sx:{"& input":{fontSize:"14px"}}})})]}),(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(s.Z,{variant:"body2",sx:{mb:.5,fontSize:"12px",fontWeight:500},children:"Municipality"}),(0,a.jsx)(t.Z,{freeSolo:!0,options:S,value:h,inputValue:f,onChange:(e,a)=>{m(a||null);let l={province:p||null,municipality:a||null};n&&n(l),i&&i(l)},onInputChange:(e,n)=>y(n),disabled:!p,slotProps:{popper:{sx:{zIndex:1e4}}},sx:{width:"100%","& .MuiOutlinedInput-root":{backgroundColor:"rgba(255, 167, 38, 0.3)",color:"white","&:hover":{backgroundColor:"rgba(255, 167, 38, 0.4)"},"&.Mui-focused":{backgroundColor:"rgba(255, 167, 38, 0.35)"},"&.Mui-disabled":{backgroundColor:"rgba(255, 167, 38, 0.15)",color:"rgba(255, 255, 255, 0.5)"}},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 167, 38, 0.5)"},"& .MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 167, 38, 0.7)"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#FFA726"}},renderInput:e=>(0,a.jsx)(r.Z,{...e,size:"small",placeholder:"Select or type municipality",sx:{"& input":{fontSize:"14px"}}})})]})]})}},26562:function(e,n,i){i.d(n,{J4:function(){return a},Sx:function(){return o},Y1:function(){return l}});let a=[{icon:"No Rain.png",label:"No rain",nowrap:!0},{icon:"Light Rain.png",label:"Light rain"},{icon:"Moderate Rain.png",label:"Moderate rain"},{icon:"Heavy Rain.png",label:"Heavy rain"},{icon:"blank_weather.png",label:"Heavy rain",hidden:!0}],l=[{icon:"Sunny.png",label:"Sunny"},{icon:"Mostly Sunny.png",label:"Mostly sunny"},{icon:"Partly Cloudy.png",label:"Partly cloudy"},{icon:"Mostly Cloudy.png",label:"Mostly cloudy"},{icon:"Cloudy.png",label:"Cloudy"}],o={rainfall:{"NO RAIN":"No Rain.png","LIGHT RAINS":"Light Rain.png","MODERATE RAINS":"Moderate Rain.png","HEAVY RAINS":"Heavy Rain.png"},cloudCover:{SUNNY:"Sunny.png","MOSTLY SUNNY":"Mostly Sunny.png","PARTLY CLOUDY":"Partly Cloudy.png","MOSTLY CLOUDY":"Mostly Cloudy.png",CLOUDY:"Cloudy.png"}}},13311:function(e,n,i){i.d(n,{c:function(){return a}});function a(e){if(!e)return"";try{return decodeURIComponent(escape(e))}catch(n){return e.replace(/Ã±/g,"\xf1").replace(/Ã‘/g,"\xd1").replace(/Ã¡/g,"\xe1").replace(/Ã©/g,"\xe9").replace(/Ã³/g,"\xf3").replace(/Ã­/g,"\xed").replace(/Ã¼/g,"\xfc").replace(/Ã/g,"\xed")}}}}]);