"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8591],{65328:function(e,n,i){var t=i(85893),r=i(67294),s=i(11163),o=i(18853),a=i(98813);n.Z=function(e){function n(n){let i=(0,o.aC)(),l=(0,s.useRouter)();(0,r.useEffect)(()=>{if(!i.loading&&!i.user){let e=l.pathname.includes("/superadmin")?"/superadmin/login":"/admin/login";l.push(e)}i.user&&(i.user.accountlevel===a.DW.ADMIN&&l.pathname.includes("/superadmin")&&l.push("/unauthorized"),i.user.accountlevel===a.DW.SUPERADMIN&&l.pathname.includes("/admin")&&l.push("/unauthorized"))},[i.user,i.loading,l]);let c=async()=>{try{await i.logOut()}catch(e){}};return(0,t.jsx)(e,{...n,loading:i.loading,user:i.user,onBtnLogoutClick:c})}return n.customLayout=!0,n.adminPage=!0,n}},45773:function(e,n,i){i.d(n,{Z:function(){return O}});var t=i(85893),r=i(67294),s=i(60990),o=i(14237),a=i(11032),l=i(56912),c=i(37958),d=i(52857),u=i(47407),x=i(7638),p=i(32200),m=i(52311),h=i(88539),g=i(96788),f=i(41664),j=i.n(f),Z=i(11163),k=i(98813),y=i(29943),b=i(3916),v=i(84370),w=i(62967),M=i(14556),C=i(83108),S=i(93535),P=i(53916),D=i(22824),L=i(74972),I=i(64790),W=i(20517);let A=[{text:"Get Started",link:"/admin",icon:(0,t.jsx)(w.Z,{})},{text:"ACAP Settings",link:"/admin/weather",icon:(0,t.jsx)(S.Z,{})},{text:"Generate Bulletin",link:"/admin/bulletins/crops",icon:(0,t.jsx)(C.Z,{})},{text:"SMS Management",link:"/admin/sms",icon:(0,t.jsx)(M.Z,{})},{text:"Cropping Calendars",link:"/admin/cropping-calendars",icon:(0,t.jsx)(D.Z,{})},{text:"Master Data",link:"/admin/master-data",icon:(0,t.jsx)(I.Z,{})},{text:"Manage Recommendations",link:"/admin/manage-recommendations",icon:(0,t.jsx)(L.Z,{})},{text:"Analytics",link:"/admin/analytics",icon:(0,t.jsx)(W.Z,{})}],z=[{text:"Profile",link:"/admin/profile",icon:(0,t.jsx)(P.Z,{})}];var N=i(58505);let B=[{text:"Get Started",link:"/superadmin",icon:(0,t.jsx)(w.Z,{})},{text:"Users",link:"/superadmin/users",icon:(0,t.jsx)(N.Z,{})}],E=[{text:"Profile",link:"/superadmin/profile",icon:(0,t.jsx)(P.Z,{})}];var R=i(41796),H={padding:e=>e.spacing(1),width:"100%","& a":{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},"& .MuiListItemButton-root:hover":{backgroundColor:e=>e.palette.primary.light},"& .Mui-selected":{backgroundColor:e=>"".concat((0,R.Fq)(e.palette.primary.light,.3)," !important")},"& .listitembutton-styled":{py:0,minHeight:48,color:e=>e.palette.primary.dark,borderRadius:e=>e.spacing(1),margin:e=>e.spacing(1),"&:hover, &:focus":{"& .MuiTypography-root":{color:e=>e.palette.primary.main}},"& a":{color:e=>e.palette.primary.dark}},"& .MuiListItemIcon-root":{marginRight:"-8px"},"@media (max-width: 600px)":{padding:"2px",width:"100vw"}};let T=[{text:"ACAP Website",link:"/",icon:(0,t.jsx)(y.Z,{})},{text:"Logout",link:"#",icon:(0,t.jsx)(b.Z,{})}];function G(e){let{window:n}=e,[i,f]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),w=(0,Z.useRouter)(),{user:M,onBtnLogoutClick:C}=e,S=(0,r.useMemo)(()=>{if(M)return M.accountlevel===k.DW.ADMIN?A:B},[M]),P=(0,r.useMemo)(()=>{if(M)return[...M.accountlevel===k.DW.ADMIN?z:E,...T]},[M]);(0,r.useEffect)(()=>{if(!(null==w?void 0:w.route)||!S||!P)return;let e=[...S,...P].find(e=>e.link===w.route);b(null==e?void 0:e.link)},[e.user.accountlevel,w.route,S,P]);let D=()=>{f(!i)},L=(0,t.jsxs)("div",{children:[(0,t.jsx)(h.Z,{}),(0,t.jsx)(l.Z,{}),(0,t.jsx)(u.Z,{sx:H,disablePadding:!0,children:S.map(e=>(0,t.jsx)(j(),{href:e.link,passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)(m.Z,{className:"listitembutton-styled",selected:y===e.link,children:[(0,t.jsx)(x.Z,{sx:{color:"inherit"},children:e.icon}),(0,t.jsx)(p.Z,{primaryTypographyProps:{fontSize:14,fontWeight:"medium"},children:e.text})]},e.label)},e.link))}),(0,t.jsx)(l.Z,{}),(0,t.jsx)(u.Z,{sx:H,children:P.map((e,n)=>"Logout"===e.text?(0,t.jsx)(j(),{href:e.link,passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)(m.Z,{className:"listitembutton-styled",selected:y===e.link,onClick:C,children:[(0,t.jsx)(x.Z,{sx:{color:"inherit"},children:e.icon}),(0,t.jsx)(p.Z,{primary:e.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]})},e.link):(0,t.jsx)(j(),{href:e.link,passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)(m.Z,{className:"listitembutton-styled",selected:y===e.link,children:[(0,t.jsx)(x.Z,{sx:{color:"inherit"},children:e.icon}),(0,t.jsx)(p.Z,{primaryTypographyProps:{fontSize:14,fontWeight:"medium"},children:e.text})]})},n))})]});return(0,t.jsxs)(s.Z,{sx:{display:"flex"},children:[(0,t.jsx)(o.ZP,{}),(0,t.jsxs)(s.Z,{component:"nav",sx:{width:{sm:280},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[(0,t.jsx)(c.ZP,{container:void 0!==n?()=>n().document.body:void 0,variant:"temporary",open:i,onClose:D,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:280}},children:L}),(0,t.jsx)(c.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:280,boxShadow:"0px 0px 20px rgb(1 41 112 / 10%)",color:"#444444",border:"none",backgroundColor:"#fff"}},open:!0,children:L})]}),(0,t.jsxs)(s.Z,{component:"main",sx:{flexGrow:1,padding:{xs:"0",sm:"24px 24px 24px 24px"},width:{sm:"calc(100% - ".concat(280,"px)")},height:{xs:"100vh",sm:"auto"},overflowY:{xs:"auto",sm:"visible"},WebkitOverflowScrolling:"touch"},children:[(0,t.jsxs)(s.Z,{sx:{display:{xs:"flex",sm:"none"},position:"sticky",top:0,zIndex:2,bgcolor:"#232c65",color:"#fff",alignItems:"center",height:56,px:1.5},children:[(0,t.jsx)(d.Z,{color:"inherit",edge:"start",onClick:D,sx:{mr:1},"aria-label":"open admin menu",children:(0,t.jsx)(v.Z,{})}),(0,t.jsx)(g.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Admin Menu"})]}),(0,t.jsx)(a.Z,{maxWidth:"lg",children:e.children})]})]})}var _=i(85229),O=function(e){return(0,r.useEffect)(()=>{if("undefined"!=typeof document)return document.body.classList.add("admin-view"),()=>{document.body.classList.remove("admin-view")}},[]),(0,t.jsxs)(s.Z,{sx:{marginTop:e=>e.spacing(4)},children:[e.loading&&(0,t.jsx)(_.Z,{}),!e.loading&&e.user&&e.user.accountlevel===e.accLevel&&(0,t.jsx)(G,{user:e.user,onBtnLogoutClick:e.onBtnLogoutClick,children:e.children})]})}},85229:function(e,n,i){i.d(n,{Z:function(){return c}});var t=i(85893),r=i(60990),s=i(97182),o=i(96788),a={width:"100%",backgroundColor:"#fff",minHeight:"50vh",display:"grid",placeItems:"center"},l={display:"flex",justifyContent:"center",alignItems:"center"},c=function(e){let{sx:n}=e;return(0,t.jsx)(r.Z,{sx:{...a,...n&&{...n}},children:(0,t.jsxs)(r.Z,{sx:l,children:[(0,t.jsx)(o.Z,{variant:"subtitle1",children:"Loading..."}),(0,t.jsx)(s.Z,{size:"32px"})]})})}}}]);