"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7595],{77595:function(e,a,t){t.d(a,{e:function(){return c},aD:function(){return p},Rd:function(){return s},getCrops:function(){return i},Ak:function(){return d}});var r=t(96171);let l={CONSTANTS:"constants",CROPS:"crops"};class o extends r.Z{async getCrops(){try{let e=await this.getDocumentData(l.CONSTANTS,l.CROPS);if(null==e?void 0:e.crops)return e.crops.filter(e=>!1!==e.enabled);return this.getDefaultCrops()}catch(e){return console.error("Error fetching crops:",e),this.getDefaultCrops()}}async getAllCrops(){try{let e=await this.getDocumentData(l.CONSTANTS,l.CROPS);if(null==e?void 0:e.crops)return e.crops;return this.getDefaultCrops()}catch(e){return console.error("Error fetching all crops:",e),this.getDefaultCrops()}}async updateCrops(e){try{let a=this.doc(this.db,l.CONSTANTS,l.CROPS);await this.updateDoc(a,{crops:e})}catch(e){throw console.error("Error updating crops:",e),e}}async addCrop(e){try{let a=await this.getAllCrops(),t={id:e.name,name:e.name,label:e.label||e.name,enabled:!1!==e.enabled};a.push(t),await this.updateCrops(a)}catch(e){throw console.error("Error adding crop:",e),e}}async updateCrop(e,a){try{let t=await this.getAllCrops(),r=t.findIndex(a=>a.id===e);-1!==r&&(t[r]={...t[r],...a},await this.updateCrops(t))}catch(e){throw console.error("Error updating crop:",e),e}}async deleteCrop(e){try{let a=(await this.getAllCrops()).filter(a=>a.id!==e);await this.updateCrops(a)}catch(e){throw console.error("Error deleting crop:",e),e}}getDefaultCrops(){return[{id:"Rice",name:"Rice",label:"Rice",enabled:!0},{id:"Corn",name:"Corn",label:"Corn",enabled:!0},{id:"Pili",name:"Pili",label:"Pili",enabled:!1},{id:"Ampalaya",name:"Ampalaya",label:"Ampalaya",enabled:!1},{id:"PoleSitao",name:"PoleSitao",label:"Pole Sitao",enabled:!1},{id:"Cassava",name:"Cassava",label:"Cassava",enabled:!1},{id:"Coconut",name:"Coconut",label:"Coconut",enabled:!1},{id:"Pineapple",name:"Pineapple",label:"Pineapple",enabled:!1},{id:"Abaca",name:"Abaca",label:"Abaca",enabled:!1},{id:"Cut-flowers",name:"Cut-flowers",label:"Cut Flowers",enabled:!1},{id:"Livestock",name:"Livestock",label:"Livestock",enabled:!1},{id:"Poultry",name:"Poultry",label:"Poultry",enabled:!1},{id:"Fisheries",name:"Fisheries (brackish and freshwater)",label:"Fisheries (brackish and freshwater)",enabled:!1}]}}let n=new o,i=()=>n.getCrops(),s=()=>n.getAllCrops(),c=e=>n.addCrop(e),d=(e,a)=>n.updateCrop(e,a),p=e=>n.deleteCrop(e)}}]);